{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.number.constructor.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _utils = require(\"../../tools/utils\");\nvar _conf = _interopRequireDefault(require(\"../../v-x-e-table/src/conf\"));\nvar _size = _interopRequireDefault(require(\"../../mixins/size\"));\nvar _dom = require(\"../../tools/dom\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar _default2 = {\n  name: 'VxeSwitch',\n  mixins: [_size.default],\n  props: {\n    value: [String, Number, Boolean],\n    disabled: Boolean,\n    className: String,\n    size: {\n      type: String,\n      default: function _default() {\n        return _conf.default.switch.size || _conf.default.size;\n      }\n    },\n    openLabel: String,\n    closeLabel: String,\n    openValue: {\n      type: [String, Number, Boolean],\n      default: true\n    },\n    closeValue: {\n      type: [String, Number, Boolean],\n      default: false\n    },\n    openIcon: String,\n    closeIcon: String\n  },\n  inject: {\n    $xeform: {\n      default: null\n    },\n    $xeformiteminfo: {\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      isActivated: false,\n      hasAnimat: false,\n      offsetLeft: 0\n    };\n  },\n  computed: {\n    isChecked: function isChecked() {\n      return this.value === this.openValue;\n    },\n    onShowLabel: function onShowLabel() {\n      return (0, _utils.getFuncText)(this.openLabel);\n    },\n    offShowLabel: function offShowLabel() {\n      return (0, _utils.getFuncText)(this.closeLabel);\n    },\n    styles: function styles() {\n      return _dom.browse.msie && this.isChecked ? {\n        left: \"\".concat(this.offsetLeft, \"px\")\n      } : null;\n    }\n  },\n  created: function created() {\n    var _this = this;\n    if (_dom.browse.msie) {\n      this.$nextTick(function () {\n        return _this.updateStyle();\n      });\n    }\n  },\n  render: function render(h) {\n    var _ref;\n    var isChecked = this.isChecked,\n      vSize = this.vSize,\n      className = this.className,\n      disabled = this.disabled,\n      openIcon = this.openIcon,\n      closeIcon = this.closeIcon;\n    return h('div', {\n      class: ['vxe-switch', className, isChecked ? 'is--on' : 'is--off', (_ref = {}, _defineProperty(_ref, \"size--\".concat(vSize), vSize), _defineProperty(_ref, 'is--disabled', disabled), _defineProperty(_ref, 'is--animat', this.hasAnimat), _ref)]\n    }, [h('button', {\n      ref: 'btn',\n      class: 'vxe-switch--button',\n      attrs: {\n        type: 'button',\n        disabled: disabled\n      },\n      on: {\n        click: this.clickEvent,\n        focus: this.focusEvent,\n        blur: this.blurEvent\n      }\n    }, [h('span', {\n      class: 'vxe-switch--label vxe-switch--label-on'\n    }, [openIcon ? h('i', {\n      class: ['vxe-switch--label-icon', openIcon]\n    }) : null, this.onShowLabel]), h('span', {\n      class: 'vxe-switch--label vxe-switch--label-off'\n    }, [closeIcon ? h('i', {\n      class: ['vxe-switch--label-icon', closeIcon]\n    }) : null, this.offShowLabel]), h('span', {\n      class: 'vxe-switch--icon',\n      style: this.styles\n    })])]);\n  },\n  methods: {\n    updateStyle: function updateStyle() {\n      // 兼容 IE\n      this.hasAnimat = true;\n      this.offsetLeft = this.$refs.btn.offsetWidth;\n    },\n    clickEvent: function clickEvent(evnt) {\n      var _this2 = this;\n      if (!this.disabled) {\n        clearTimeout(this.activeTimeout);\n        var value = this.isChecked ? this.closeValue : this.openValue;\n        this.hasAnimat = true;\n        if (_dom.browse.msie) {\n          this.updateStyle();\n        }\n        this.$emit('input', value);\n        this.$emit('change', {\n          value: value,\n          $event: evnt\n        });\n        // 自动更新校验状态\n        if (this.$xeform && this.$xeformiteminfo) {\n          this.$xeform.triggerItemEvent(evnt, this.$xeformiteminfo.itemConfig.field, value);\n        }\n        this.activeTimeout = setTimeout(function () {\n          _this2.hasAnimat = false;\n        }, 400);\n      }\n    },\n    focusEvent: function focusEvent(evnt) {\n      this.isActivated = true;\n      this.$emit('focus', {\n        value: this.value,\n        $event: evnt\n      });\n    },\n    blurEvent: function blurEvent(evnt) {\n      this.isActivated = false;\n      this.$emit('blur', {\n        value: this.value,\n        $event: evnt\n      });\n    }\n  }\n};\nexports.default = _default2;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_utils","require","_conf","_interopRequireDefault","_size","_dom","obj","__esModule","_defineProperty","key","enumerable","configurable","writable","_default2","name","mixins","props","String","Number","Boolean","disabled","className","size","type","_default","switch","openLabel","closeLabel","openValue","closeValue","openIcon","closeIcon","inject","$xeform","$xeformiteminfo","data","isActivated","hasAnimat","offsetLeft","computed","isChecked","onShowLabel","getFuncText","offShowLabel","styles","browse","msie","left","concat","created","_this","$nextTick","updateStyle","render","h","_ref","vSize","class","ref","attrs","on","click","clickEvent","focus","focusEvent","blur","blurEvent","style","methods","$refs","btn","offsetWidth","evnt","_this2","clearTimeout","activeTimeout","$emit","$event","triggerItemEvent","itemConfig","field","setTimeout"],"sources":["D:/program/LanqiaoVue/vue-demo/node_modules/vxe-table/lib/switch/src/switch.js"],"sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _utils = require(\"../../tools/utils\");\r\nvar _conf = _interopRequireDefault(require(\"../../v-x-e-table/src/conf\"));\r\nvar _size = _interopRequireDefault(require(\"../../mixins/size\"));\r\nvar _dom = require(\"../../tools/dom\");\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nvar _default2 = {\r\n  name: 'VxeSwitch',\r\n  mixins: [_size.default],\r\n  props: {\r\n    value: [String, Number, Boolean],\r\n    disabled: Boolean,\r\n    className: String,\r\n    size: {\r\n      type: String,\r\n      default: function _default() {\r\n        return _conf.default.switch.size || _conf.default.size;\r\n      }\r\n    },\r\n    openLabel: String,\r\n    closeLabel: String,\r\n    openValue: {\r\n      type: [String, Number, Boolean],\r\n      default: true\r\n    },\r\n    closeValue: {\r\n      type: [String, Number, Boolean],\r\n      default: false\r\n    },\r\n    openIcon: String,\r\n    closeIcon: String\r\n  },\r\n  inject: {\r\n    $xeform: {\r\n      default: null\r\n    },\r\n    $xeformiteminfo: {\r\n      default: null\r\n    }\r\n  },\r\n  data: function data() {\r\n    return {\r\n      isActivated: false,\r\n      hasAnimat: false,\r\n      offsetLeft: 0\r\n    };\r\n  },\r\n  computed: {\r\n    isChecked: function isChecked() {\r\n      return this.value === this.openValue;\r\n    },\r\n    onShowLabel: function onShowLabel() {\r\n      return (0, _utils.getFuncText)(this.openLabel);\r\n    },\r\n    offShowLabel: function offShowLabel() {\r\n      return (0, _utils.getFuncText)(this.closeLabel);\r\n    },\r\n    styles: function styles() {\r\n      return _dom.browse.msie && this.isChecked ? {\r\n        left: \"\".concat(this.offsetLeft, \"px\")\r\n      } : null;\r\n    }\r\n  },\r\n  created: function created() {\r\n    var _this = this;\r\n    if (_dom.browse.msie) {\r\n      this.$nextTick(function () {\r\n        return _this.updateStyle();\r\n      });\r\n    }\r\n  },\r\n  render: function render(h) {\r\n    var _ref;\r\n    var isChecked = this.isChecked,\r\n      vSize = this.vSize,\r\n      className = this.className,\r\n      disabled = this.disabled,\r\n      openIcon = this.openIcon,\r\n      closeIcon = this.closeIcon;\r\n    return h('div', {\r\n      class: ['vxe-switch', className, isChecked ? 'is--on' : 'is--off', (_ref = {}, _defineProperty(_ref, \"size--\".concat(vSize), vSize), _defineProperty(_ref, 'is--disabled', disabled), _defineProperty(_ref, 'is--animat', this.hasAnimat), _ref)]\r\n    }, [h('button', {\r\n      ref: 'btn',\r\n      class: 'vxe-switch--button',\r\n      attrs: {\r\n        type: 'button',\r\n        disabled: disabled\r\n      },\r\n      on: {\r\n        click: this.clickEvent,\r\n        focus: this.focusEvent,\r\n        blur: this.blurEvent\r\n      }\r\n    }, [h('span', {\r\n      class: 'vxe-switch--label vxe-switch--label-on'\r\n    }, [openIcon ? h('i', {\r\n      class: ['vxe-switch--label-icon', openIcon]\r\n    }) : null, this.onShowLabel]), h('span', {\r\n      class: 'vxe-switch--label vxe-switch--label-off'\r\n    }, [closeIcon ? h('i', {\r\n      class: ['vxe-switch--label-icon', closeIcon]\r\n    }) : null, this.offShowLabel]), h('span', {\r\n      class: 'vxe-switch--icon',\r\n      style: this.styles\r\n    })])]);\r\n  },\r\n  methods: {\r\n    updateStyle: function updateStyle() {\r\n      // 兼容 IE\r\n      this.hasAnimat = true;\r\n      this.offsetLeft = this.$refs.btn.offsetWidth;\r\n    },\r\n    clickEvent: function clickEvent(evnt) {\r\n      var _this2 = this;\r\n      if (!this.disabled) {\r\n        clearTimeout(this.activeTimeout);\r\n        var value = this.isChecked ? this.closeValue : this.openValue;\r\n        this.hasAnimat = true;\r\n        if (_dom.browse.msie) {\r\n          this.updateStyle();\r\n        }\r\n        this.$emit('input', value);\r\n        this.$emit('change', {\r\n          value: value,\r\n          $event: evnt\r\n        });\r\n        // 自动更新校验状态\r\n        if (this.$xeform && this.$xeformiteminfo) {\r\n          this.$xeform.triggerItemEvent(evnt, this.$xeformiteminfo.itemConfig.field, value);\r\n        }\r\n        this.activeTimeout = setTimeout(function () {\r\n          _this2.hasAnimat = false;\r\n        }, 400);\r\n      }\r\n    },\r\n    focusEvent: function focusEvent(evnt) {\r\n      this.isActivated = true;\r\n      this.$emit('focus', {\r\n        value: this.value,\r\n        $event: evnt\r\n      });\r\n    },\r\n    blurEvent: function blurEvent(evnt) {\r\n      this.isActivated = false;\r\n      this.$emit('blur', {\r\n        value: this.value,\r\n        $event: evnt\r\n      });\r\n    }\r\n  }\r\n};\r\nexports.default = _default2;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}