{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.error.cause.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.regexp.test.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\nrequire(\"core-js/modules/es.array.splice.js\");\nrequire(\"core-js/modules/es.string.fixed.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.map.js\");\nrequire(\"core-js/modules/es.array.join.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _xeUtils = _interopRequireDefault(require(\"xe-utils\"));\nvar _conf = _interopRequireDefault(require(\"../../v-x-e-table/src/conf\"));\nvar _cell = _interopRequireDefault(require(\"./cell\"));\nvar _vXETable = _interopRequireDefault(require(\"../../v-x-e-table\"));\nvar _util = require(\"./util\");\nvar _utils = _interopRequireWildcard(require(\"../../tools/utils\"));\nvar _dom = _interopRequireWildcard(require(\"../../tools/dom\"));\nvar _formats = require(\"../../v-x-e-table/src/formats\");\nvar _log = require(\"../../tools/log\");\nvar _vn = require(\"../../tools/vn\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar setCellValue = _utils.default.setCellValue,\n  hasChildrenList = _utils.default.hasChildrenList,\n  getColumnList = _utils.default.getColumnList;\nvar calcHeight = _dom.default.calcHeight,\n  hasClass = _dom.default.hasClass,\n  addClass = _dom.default.addClass,\n  removeClass = _dom.default.removeClass,\n  getEventTargetNode = _dom.default.getEventTargetNode,\n  isNodeElement = _dom.default.isNodeElement;\nvar isWebkit = _dom.browse['-webkit'] && !_dom.browse.edge;\nvar debounceScrollYDuration = _dom.browse.msie ? 80 : 20;\nvar resizableStorageKey = 'VXE_TABLE_CUSTOM_COLUMN_WIDTH';\nvar visibleStorageKey = 'VXE_TABLE_CUSTOM_COLUMN_VISIBLE';\n\n/**\r\n * 生成行的唯一主键\r\n */\nfunction getRowUniqueId() {\n  return _xeUtils.default.uniqueId('row_');\n}\nfunction eqCellValue(row1, row2, field) {\n  var val1 = _xeUtils.default.get(row1, field);\n  var val2 = _xeUtils.default.get(row2, field);\n  if ((0, _utils.eqEmptyValue)(val1) && (0, _utils.eqEmptyValue)(val2)) {\n    return true;\n  }\n  if (_xeUtils.default.isString(val1) || _xeUtils.default.isNumber(val1)) {\n    return '' + val1 === '' + val2;\n  }\n  return _xeUtils.default.isEqual(val1, val2);\n}\nfunction getNextSortOrder(_vm, column) {\n  var orders = _vm.sortOpts.orders;\n  var currOrder = column.order || null;\n  var oIndex = orders.indexOf(currOrder) + 1;\n  return orders[oIndex < orders.length ? oIndex : 0];\n}\nfunction getCustomStorageMap(key) {\n  var version = _conf.default.version;\n  var rest = _xeUtils.default.toStringJSON(localStorage.getItem(key));\n  return rest && rest._v === version ? rest : {\n    _v: version\n  };\n}\nfunction getRecoverRow(_vm, list) {\n  var fullAllDataRowMap = _vm.fullAllDataRowMap;\n  return list.filter(function (row) {\n    return fullAllDataRowMap.has(row);\n  });\n}\nfunction handleReserveRow(_vm, reserveRowMap) {\n  var fullDataRowIdData = _vm.fullDataRowIdData;\n  var reserveList = [];\n  _xeUtils.default.each(reserveRowMap, function (item, rowid) {\n    if (fullDataRowIdData[rowid] && reserveList.indexOf(fullDataRowIdData[rowid].row) === -1) {\n      reserveList.push(fullDataRowIdData[rowid].row);\n    }\n  });\n  return reserveList;\n}\nfunction computeVirtualX(_vm) {\n  var $refs = _vm.$refs,\n    visibleColumn = _vm.visibleColumn;\n  var tableBody = $refs.tableBody;\n  var tableBodyElem = tableBody ? tableBody.$el : null;\n  if (tableBodyElem) {\n    var scrollLeft = tableBodyElem.scrollLeft,\n      clientWidth = tableBodyElem.clientWidth;\n    var endWidth = scrollLeft + clientWidth;\n    var toVisibleIndex = -1;\n    var cWidth = 0;\n    var visibleSize = 0;\n    for (var colIndex = 0, colLen = visibleColumn.length; colIndex < colLen; colIndex++) {\n      cWidth += visibleColumn[colIndex].renderWidth;\n      if (toVisibleIndex === -1 && scrollLeft < cWidth) {\n        toVisibleIndex = colIndex;\n      }\n      if (toVisibleIndex >= 0) {\n        visibleSize++;\n        if (cWidth > endWidth) {\n          break;\n        }\n      }\n    }\n    return {\n      toVisibleIndex: Math.max(0, toVisibleIndex),\n      visibleSize: Math.max(8, visibleSize)\n    };\n  }\n  return {\n    toVisibleIndex: 0,\n    visibleSize: 8\n  };\n}\nfunction computeVirtualY(_vm) {\n  var $refs = _vm.$refs,\n    vSize = _vm.vSize,\n    rowHeightMaps = _vm.rowHeightMaps;\n  var tableHeader = $refs.tableHeader,\n    tableBody = $refs.tableBody;\n  var tableBodyElem = tableBody ? tableBody.$el : null;\n  if (tableBodyElem) {\n    var tableHeaderElem = tableHeader ? tableHeader.$el : null;\n    var rowHeight = 0;\n    var firstTrElem;\n    firstTrElem = tableBodyElem.querySelector('tr');\n    if (!firstTrElem && tableHeaderElem) {\n      firstTrElem = tableHeaderElem.querySelector('tr');\n    }\n    if (firstTrElem) {\n      rowHeight = firstTrElem.clientHeight;\n    }\n    if (!rowHeight) {\n      rowHeight = rowHeightMaps[vSize || 'default'];\n    }\n    var visibleSize = Math.max(8, Math.ceil(tableBodyElem.clientHeight / rowHeight) + 2);\n    return {\n      rowHeight: rowHeight,\n      visibleSize: visibleSize\n    };\n  }\n  return {\n    rowHeight: 0,\n    visibleSize: 8\n  };\n}\nfunction calculateMergerOffserIndex(list, offsetItem, type) {\n  for (var mcIndex = 0, len = list.length; mcIndex < len; mcIndex++) {\n    var mergeItem = list[mcIndex];\n    var startIndex = offsetItem.startIndex,\n      endIndex = offsetItem.endIndex;\n    var mergeStartIndex = mergeItem[type];\n    var mergeSpanNumber = mergeItem[type + 'span'];\n    var mergeEndIndex = mergeStartIndex + mergeSpanNumber;\n    if (mergeStartIndex < startIndex && startIndex < mergeEndIndex) {\n      offsetItem.startIndex = mergeStartIndex;\n    }\n    if (mergeStartIndex < endIndex && endIndex < mergeEndIndex) {\n      offsetItem.endIndex = mergeEndIndex;\n    }\n    if (offsetItem.startIndex !== startIndex || offsetItem.endIndex !== endIndex) {\n      mcIndex = -1;\n    }\n  }\n}\nfunction setMerges(_vm, merges, mList, rowList) {\n  if (merges) {\n    var treeConfig = _vm.treeConfig,\n      visibleColumn = _vm.visibleColumn;\n    if (!_xeUtils.default.isArray(merges)) {\n      merges = [merges];\n    }\n    if (treeConfig && merges.length) {\n      (0, _log.errLog)('vxe.error.noTree', ['merge-cells | merge-footer-items']);\n    }\n    merges.forEach(function (item) {\n      var row = item.row,\n        col = item.col,\n        rowspan = item.rowspan,\n        colspan = item.colspan;\n      if (rowList && _xeUtils.default.isNumber(row)) {\n        row = rowList[row];\n      }\n      if (_xeUtils.default.isNumber(col)) {\n        col = visibleColumn[col];\n      }\n      if ((rowList ? row : _xeUtils.default.isNumber(row)) && col && (rowspan || colspan)) {\n        rowspan = _xeUtils.default.toNumber(rowspan) || 1;\n        colspan = _xeUtils.default.toNumber(colspan) || 1;\n        if (rowspan > 1 || colspan > 1) {\n          var mcIndex = _xeUtils.default.findIndexOf(mList, function (item) {\n            return item._row === row && item._col === col;\n          });\n          var mergeItem = mList[mcIndex];\n          if (mergeItem) {\n            mergeItem.rowspan = rowspan;\n            mergeItem.colspan = colspan;\n            mergeItem._rowspan = rowspan;\n            mergeItem._colspan = colspan;\n          } else {\n            var mergeRowIndex = rowList ? rowList.indexOf(row) : row;\n            var mergeColIndex = visibleColumn.indexOf(col);\n            mList.push({\n              row: mergeRowIndex,\n              col: mergeColIndex,\n              rowspan: rowspan,\n              colspan: colspan,\n              _row: row,\n              _col: col,\n              _rowspan: rowspan,\n              _colspan: colspan\n            });\n          }\n        }\n      }\n    });\n  }\n}\nfunction removeMerges(_vm, merges, mList, rowList) {\n  var rest = [];\n  if (merges) {\n    var treeConfig = _vm.treeConfig,\n      visibleColumn = _vm.visibleColumn;\n    if (!_xeUtils.default.isArray(merges)) {\n      merges = [merges];\n    }\n    if (treeConfig && merges.length) {\n      (0, _log.errLog)('vxe.error.noTree', ['merge-cells | merge-footer-items']);\n    }\n    merges.forEach(function (item) {\n      var row = item.row,\n        col = item.col;\n      if (rowList && _xeUtils.default.isNumber(row)) {\n        row = rowList[row];\n      }\n      if (_xeUtils.default.isNumber(col)) {\n        col = visibleColumn[col];\n      }\n      var mcIndex = _xeUtils.default.findIndexOf(mList, function (item) {\n        return item._row === row && item._col === col;\n      });\n      if (mcIndex > -1) {\n        var rItems = mList.splice(mcIndex, 1);\n        rest.push(rItems[0]);\n      }\n    });\n  }\n  return rest;\n}\nfunction clearAllSort(_vm) {\n  _vm.tableFullColumn.forEach(function (column) {\n    column.order = null;\n  });\n}\nfunction getOrderField(_vm, column) {\n  var sortBy = column.sortBy,\n    sortType = column.sortType;\n  return function (row) {\n    var cellValue;\n    if (sortBy) {\n      cellValue = _xeUtils.default.isFunction(sortBy) ? sortBy({\n        row: row,\n        column: column\n      }) : _xeUtils.default.get(row, sortBy);\n    } else {\n      cellValue = _vm.getCellLabel(row, column);\n    }\n    if (!sortType || sortType === 'auto') {\n      return isNaN(cellValue) ? cellValue : _xeUtils.default.toNumber(cellValue);\n    } else if (sortType === 'number') {\n      return _xeUtils.default.toNumber(cellValue);\n    } else if (sortType === 'string') {\n      return _xeUtils.default.toValueString(cellValue);\n    }\n    return cellValue;\n  };\n}\nvar Methods = {\n  callSlot: function callSlot(slotFunc, params, h, vNodes) {\n    if (slotFunc) {\n      var $xegrid = this.$xegrid;\n      if ($xegrid) {\n        return $xegrid.callSlot(slotFunc, params, h, vNodes);\n      }\n      if (_xeUtils.default.isFunction(slotFunc)) {\n        return (0, _vn.getSlotVNs)(slotFunc.call(this, params, h, vNodes));\n      }\n    }\n    return [];\n  },\n  /**\r\n   * 获取父容器元素\r\n   */\n  getParentElem: function getParentElem() {\n    var $el = this.$el,\n      $xegrid = this.$xegrid;\n    return $xegrid ? $xegrid.$el.parentNode : $el.parentNode;\n  },\n  /**\r\n   * 获取父容器的高度\r\n   */\n  getParentHeight: function getParentHeight() {\n    var $el = this.$el,\n      $xegrid = this.$xegrid,\n      height = this.height;\n    var parentElem = $el.parentNode;\n    var parentPaddingSize = height === 'auto' ? (0, _dom.getPaddingTopBottomSize)(parentElem) : 0;\n    return Math.floor($xegrid ? $xegrid.getParentHeight() : _xeUtils.default.toNumber(getComputedStyle(parentElem).height) - parentPaddingSize);\n  },\n  /**\r\n   * 获取需要排除的高度\r\n   * 但渲染表格高度时，需要排除工具栏或分页等相关组件的高度\r\n   * 如果存在表尾合计滚动条，则需要排除滚动条高度\r\n   */\n  getExcludeHeight: function getExcludeHeight() {\n    var $xegrid = this.$xegrid;\n    return $xegrid ? $xegrid.getExcludeHeight() : 0;\n  },\n  /**\r\n   * 重置表格的一切数据状态\r\n   */\n  clearAll: function clearAll() {\n    return (0, _util.clearTableAllStatus)(this);\n  },\n  /**\r\n   * 同步 data 数据（即将废弃）\r\n   * 如果用了该方法，那么组件将不再记录增删改的状态，只能自行实现对应逻辑\r\n   * 对于某些特殊的场景，比如深层树节点元素发生变动时可能会用到\r\n   */\n  syncData: function syncData() {\n    var _this = this;\n    return this.$nextTick().then(function () {\n      _this.tableData = [];\n      return _this.$nextTick().then(function () {\n        return _this.loadTableData(_this.tableFullData);\n      });\n    });\n  },\n  /**\r\n   * 手动处理数据，用于手动排序与筛选\r\n   * 对于手动更改了排序、筛选...等条件后需要重新处理数据时可能会用到\r\n   */\n  updateData: function updateData() {\n    var _this2 = this;\n    var scrollXLoad = this.scrollXLoad,\n      scrollYLoad = this.scrollYLoad;\n    return this.handleTableData(true).then(function () {\n      _this2.updateFooter();\n      _this2.checkSelectionStatus();\n      if (scrollXLoad || scrollYLoad) {\n        if (scrollXLoad) {\n          _this2.updateScrollXSpace();\n        }\n        if (scrollYLoad) {\n          _this2.updateScrollYSpace();\n        }\n        return _this2.refreshScroll();\n      }\n    }).then(function () {\n      _this2.updateCellAreas();\n      return _this2.recalculate(true);\n    }).then(function () {\n      // 存在滚动行为未结束情况\n      setTimeout(function () {\n        return _this2.recalculate();\n      }, 50);\n    });\n  },\n  handleTableData: function handleTableData(force) {\n    var _this3 = this;\n    var scrollYLoad = this.scrollYLoad,\n      scrollYStore = this.scrollYStore,\n      fullDataRowIdData = this.fullDataRowIdData,\n      afterFullData = this.afterFullData;\n    var fullList = afterFullData;\n    // 是否进行数据处理\n    if (force) {\n      // 更新数据，处理筛选和排序\n      this.updateAfterFullData();\n      // 如果为虚拟树，将树结构拍平\n      fullList = this.handleVirtualTreeToList();\n    }\n    var tableData = scrollYLoad ? fullList.slice(scrollYStore.startIndex, scrollYStore.endIndex) : fullList.slice(0);\n    tableData.forEach(function (row, $index) {\n      var rowid = (0, _util.getRowid)(_this3, row);\n      var rest = fullDataRowIdData[rowid];\n      if (rest) {\n        rest.$index = $index;\n      }\n    });\n    this.tableData = tableData;\n    return this.$nextTick();\n  },\n  updateScrollYStatus: function updateScrollYStatus(fullData) {\n    var treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      sYOpts = this.sYOpts;\n    var transform = treeOpts.transform;\n    var scrollYLoad = (transform || !treeConfig) && !!sYOpts.enabled && sYOpts.gt > -1 && sYOpts.gt < fullData.length;\n    this.scrollYLoad = scrollYLoad;\n    return scrollYLoad;\n  },\n  /**\r\n   * 加载表格数据\r\n   * @param {Array} datas 数据\r\n   */\n  loadTableData: function loadTableData(datas) {\n    var _this4 = this;\n    var keepSource = this.keepSource,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      editStore = this.editStore,\n      scrollYStore = this.scrollYStore,\n      scrollXStore = this.scrollXStore,\n      lastScrollLeft = this.lastScrollLeft,\n      lastScrollTop = this.lastScrollTop,\n      oldScrollYLoad = this.scrollYLoad,\n      sXOpts = this.sXOpts,\n      sYOpts = this.sYOpts;\n    var treeData = [];\n    var fullData = datas ? datas.slice(0) : [];\n    if (treeConfig) {\n      // 树结构自动转换\n      if (treeOpts.transform) {\n        if (process.env.NODE_ENV === 'development') {\n          if (!treeOpts.rowField) {\n            (0, _log.errLog)('vxe.error.reqProp', ['table.tree-config.rowField']);\n          }\n          if (!treeOpts.parentField) {\n            (0, _log.errLog)('vxe.error.reqProp', ['table.tree-config.parentField']);\n          }\n          if (!treeOpts.children) {\n            (0, _log.errLog)('vxe.error.reqProp', ['tree-config.children']);\n          }\n          if (!treeOpts.mapChildren) {\n            (0, _log.errLog)('vxe.error.reqProp', ['tree-config.mapChildren']);\n          }\n          if (treeOpts.children === treeOpts.mapChildren) {\n            (0, _log.errLog)('vxe.error.errConflicts', ['tree-config.children', 'tree-config.mapChildren']);\n          }\n          fullData.forEach(function (row) {\n            if (row[treeOpts.children] && row[treeOpts.children].length) {\n              (0, _log.warnLog)('vxe.error.errConflicts', ['tree-config.transform', \"row.\".concat(treeOpts.children)]);\n            }\n          });\n        }\n        treeData = _xeUtils.default.toArrayTree(fullData, {\n          key: treeOpts.rowField,\n          parentKey: treeOpts.parentField,\n          children: treeOpts.children,\n          mapChildren: treeOpts.mapChildren\n        });\n        fullData = treeData.slice(0);\n      } else {\n        treeData = fullData.slice(0);\n      }\n    }\n    scrollYStore.startIndex = 0;\n    scrollYStore.endIndex = 1;\n    scrollXStore.startIndex = 0;\n    scrollXStore.endIndex = 1;\n    editStore.insertList = [];\n    editStore.removeList = [];\n    var sYLoad = this.updateScrollYStatus(fullData);\n    this.scrollYLoad = sYLoad;\n    // 全量数据\n    this.tableFullData = fullData;\n    this.tableFullTreeData = treeData;\n    // 缓存数据\n    this.cacheRowMap(true);\n    // 原始数据\n    this.tableSynchData = datas;\n    // 克隆原数据，用于显示编辑状态，与编辑值做对比\n    if (keepSource) {\n      this.tableSourceData = _xeUtils.default.clone(fullData, true);\n    }\n    if (process.env.NODE_ENV === 'development') {\n      if (sYLoad) {\n        if (!(this.height || this.maxHeight)) {\n          (0, _log.errLog)('vxe.error.reqProp', ['table.height | table.max-height | table.scroll-y={enabled: false}']);\n        }\n        if (!this.showOverflow) {\n          (0, _log.warnLog)('vxe.error.reqProp', ['table.show-overflow']);\n        }\n        if (this.spanMethod) {\n          (0, _log.warnLog)('vxe.error.scrollErrProp', ['table.span-method']);\n        }\n      }\n    }\n    if (this.clearCellAreas && this.mouseConfig) {\n      this.clearCellAreas();\n      this.clearCopyCellArea();\n    }\n    this.clearMergeCells();\n    this.clearMergeFooterItems();\n    this.handleTableData(true);\n    this.updateFooter();\n    return this.$nextTick().then(function () {\n      _this4.updateHeight();\n      _this4.updateStyle();\n    }).then(function () {\n      _this4.computeScrollLoad();\n    }).then(function () {\n      // 是否启用了虚拟滚动\n      if (sYLoad) {\n        scrollYStore.endIndex = scrollYStore.visibleSize;\n      }\n      _this4.handleReserveStatus();\n      _this4.checkSelectionStatus();\n      return new Promise(function (resolve) {\n        _this4.$nextTick().then(function () {\n          return _this4.recalculate();\n        }).then(function () {\n          var targetScrollLeft = lastScrollLeft;\n          var targetScrollTop = lastScrollTop;\n          // 是否在更新数据之后自动滚动重置滚动条\n          if (sXOpts.scrollToLeftOnChange) {\n            targetScrollLeft = 0;\n          }\n          if (sYOpts.scrollToTopOnChange) {\n            targetScrollTop = 0;\n          }\n          // 是否变更虚拟滚动\n          if (oldScrollYLoad === sYLoad) {\n            (0, _util.restoreScrollLocation)(_this4, targetScrollLeft, targetScrollTop).then(resolve);\n          } else {\n            setTimeout(function () {\n              return (0, _util.restoreScrollLocation)(_this4, targetScrollLeft, targetScrollTop).then(resolve);\n            });\n          }\n        });\n      });\n    });\n  },\n  /**\r\n   * 重新加载数据，不会清空表格状态\r\n   * @param {Array} datas 数据\r\n   */\n  loadData: function loadData(datas) {\n    var _this5 = this;\n    var inited = this.inited,\n      initStatus = this.initStatus;\n    return this.loadTableData(datas).then(function () {\n      _this5.inited = true;\n      _this5.initStatus = true;\n      if (!initStatus) {\n        _this5.handleLoadDefaults();\n      }\n      if (!inited) {\n        _this5.handleInitDefaults();\n      }\n      return _this5.recalculate();\n    });\n  },\n  /**\r\n   * 重新加载数据，会清空表格状态\r\n   * @param {Array} datas 数据\r\n   */\n  reloadData: function reloadData(datas) {\n    var _this6 = this;\n    var inited = this.inited;\n    return this.clearAll().then(function () {\n      _this6.inited = true;\n      _this6.initStatus = true;\n      return _this6.loadTableData(datas);\n    }).then(function () {\n      _this6.handleLoadDefaults();\n      if (!inited) {\n        _this6.handleInitDefaults();\n      }\n      return _this6.recalculate();\n    });\n  },\n  /**\r\n   * 局部加载行数据并恢复到初始状态\r\n   * 对于行数据需要局部更改的场景中可能会用到\r\n   * @param {Row} row 行对象\r\n   * @param {Object} record 新数据\r\n   * @param {String} field 字段名\r\n   */\n  reloadRow: function reloadRow(row, record, field) {\n    var keepSource = this.keepSource,\n      tableSourceData = this.tableSourceData,\n      tableData = this.tableData;\n    if (keepSource) {\n      var rowIndex = this.getRowIndex(row);\n      var oRow = tableSourceData[rowIndex];\n      if (oRow && row) {\n        if (field) {\n          var newValue = _xeUtils.default.get(record || row, field);\n          _xeUtils.default.set(row, field, newValue);\n          _xeUtils.default.set(oRow, field, newValue);\n        } else {\n          var newRecord = _xeUtils.default.clone(_objectSpread({}, record), true);\n          _xeUtils.default.destructuring(oRow, Object.assign(row, newRecord));\n        }\n      }\n      this.tableData = tableData.slice(0);\n    } else {\n      if (process.env.NODE_ENV === 'development') {\n        (0, _log.warnLog)('vxe.error.reqProp', ['keep-source']);\n      }\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 加载列配置\r\n   * 对于表格列需要重载、局部递增场景下可能会用到\r\n   * @param {ColumnInfo} columns 列配置\r\n   */\n  loadColumn: function loadColumn(columns) {\n    var _this7 = this;\n    var collectColumn = _xeUtils.default.mapTree(columns, function (column) {\n      return _cell.default.createColumn(_this7, column);\n    }, {\n      children: 'children'\n    });\n    return this.handleColumn(collectColumn);\n  },\n  /**\r\n   * 加载列配置并恢复到初始状态\r\n   * 对于表格列需要重载、局部递增场景下可能会用到\r\n   * @param {ColumnInfo} columns 列配置\r\n   */\n  reloadColumn: function reloadColumn(columns) {\n    var _this8 = this;\n    return this.clearAll().then(function () {\n      return _this8.loadColumn(columns);\n    });\n  },\n  handleColumn: function handleColumn(collectColumn) {\n    var _this9 = this;\n    this.collectColumn = collectColumn;\n    var tableFullColumn = getColumnList(collectColumn);\n    this.tableFullColumn = tableFullColumn;\n    this.cacheColumnMap();\n    this.restoreCustomStorage();\n    this.parseColumns().then(function () {\n      if (_this9.scrollXLoad) {\n        _this9.loadScrollXData(true);\n      }\n    });\n    this.clearMergeCells();\n    this.clearMergeFooterItems();\n    this.handleTableData(true);\n    if (process.env.NODE_ENV === 'development') {\n      if ((this.scrollXLoad || this.scrollYLoad) && this.expandColumn) {\n        (0, _log.warnLog)('vxe.error.scrollErrProp', ['column.type=expand']);\n      }\n    }\n    return this.$nextTick().then(function () {\n      if (_this9.$toolbar) {\n        _this9.$toolbar.syncUpdate({\n          collectColumn: collectColumn,\n          $table: _this9\n        });\n      }\n      return _this9.recalculate();\n    });\n  },\n  /**\r\n   * 更新数据行的 Map\r\n   * 牺牲数据组装的耗时，用来换取使用过程中的流畅\r\n   */\n  cacheRowMap: function cacheRowMap(source) {\n    var _this10 = this;\n    var treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      tableFullData = this.tableFullData,\n      fullDataRowMap = this.fullDataRowMap,\n      fullAllDataRowMap = this.fullAllDataRowMap,\n      tableFullTreeData = this.tableFullTreeData;\n    var fullDataRowIdData = this.fullDataRowIdData,\n      fullAllDataRowIdData = this.fullAllDataRowIdData;\n    var rowkey = (0, _util.getRowkey)(this);\n    var isLazy = treeConfig && treeOpts.lazy;\n    var handleCache = function handleCache(row, index, items, path, parent, nodes) {\n      var rowid = (0, _util.getRowid)(_this10, row);\n      var seq = treeConfig && path ? (0, _util.toTreePathSeq)(path) : index + 1;\n      var level = nodes ? nodes.length - 1 : 0;\n      if ((0, _utils.eqEmptyValue)(rowid)) {\n        rowid = getRowUniqueId();\n        _xeUtils.default.set(row, rowkey, rowid);\n      }\n      if (isLazy && row[treeOpts.hasChild] && _xeUtils.default.isUndefined(row[treeOpts.children])) {\n        row[treeOpts.children] = null;\n      }\n      var rest = {\n        row: row,\n        rowid: rowid,\n        seq: seq,\n        index: treeConfig && parent ? -1 : index,\n        _index: -1,\n        $index: -1,\n        items: items,\n        parent: parent,\n        level: level\n      };\n      if (source) {\n        fullDataRowIdData[rowid] = rest;\n        fullDataRowMap.set(row, rest);\n      }\n      fullAllDataRowIdData[rowid] = rest;\n      fullAllDataRowMap.set(row, rest);\n    };\n    if (source) {\n      fullDataRowIdData = this.fullDataRowIdData = {};\n      fullDataRowMap.clear();\n    }\n    fullAllDataRowIdData = this.fullAllDataRowIdData = {};\n    fullAllDataRowMap.clear();\n    if (treeConfig) {\n      _xeUtils.default.eachTree(tableFullTreeData, handleCache, treeOpts);\n    } else {\n      tableFullData.forEach(handleCache);\n    }\n  },\n  loadTreeChildren: function loadTreeChildren(row, childRecords) {\n    var _this11 = this;\n    var keepSource = this.keepSource,\n      tableSourceData = this.tableSourceData,\n      treeOpts = this.treeOpts,\n      fullDataRowIdData = this.fullDataRowIdData,\n      fullDataRowMap = this.fullDataRowMap,\n      fullAllDataRowMap = this.fullAllDataRowMap,\n      fullAllDataRowIdData = this.fullAllDataRowIdData;\n    var transform = treeOpts.transform,\n      children = treeOpts.children,\n      mapChildren = treeOpts.mapChildren;\n    var rest = fullAllDataRowIdData[(0, _util.getRowid)(this, row)];\n    var parentLevel = rest ? rest.level : 0;\n    return this.createData(childRecords).then(function (rows) {\n      if (keepSource) {\n        var rowid = (0, _util.getRowid)(_this11, row);\n        var matchObj = _xeUtils.default.findTree(tableSourceData, function (item) {\n          return rowid === (0, _util.getRowid)(_this11, item);\n        }, treeOpts);\n        if (matchObj) {\n          matchObj.item[children] = _xeUtils.default.clone(rows, true);\n        }\n      }\n      _xeUtils.default.eachTree(rows, function (childRow, index, items, path, parent, nodes) {\n        var rowid = (0, _util.getRowid)(_this11, childRow);\n        var rest = {\n          row: childRow,\n          rowid: rowid,\n          seq: -1,\n          index: index,\n          _index: -1,\n          $index: -1,\n          items: items,\n          parent: parent,\n          level: parentLevel + nodes.length\n        };\n        fullDataRowIdData[rowid] = rest;\n        fullDataRowMap.set(childRow, rest);\n        fullAllDataRowIdData[rowid] = rest;\n        fullAllDataRowMap.set(childRow, rest);\n      }, treeOpts);\n      row[children] = rows;\n      if (transform) {\n        row[mapChildren] = rows;\n      }\n      _this11.updateAfterDataIndex();\n      return rows;\n    });\n  },\n  /**\r\n   * 更新数据列的 Map\r\n   * 牺牲数据组装的耗时，用来换取使用过程中的流畅\r\n   */\n  cacheColumnMap: function cacheColumnMap() {\n    var _this12 = this;\n    var tableFullColumn = this.tableFullColumn,\n      collectColumn = this.collectColumn,\n      fullColumnMap = this.fullColumnMap,\n      showOverflow = this.showOverflow;\n    var fullColumnIdData = this.fullColumnIdData = {};\n    var fullColumnFieldData = this.fullColumnFieldData = {};\n    var isGroup = collectColumn.some(hasChildrenList);\n    var isAllOverflow = !!showOverflow;\n    var expandColumn;\n    var treeNodeColumn;\n    var checkboxColumn;\n    var radioColumn;\n    var hasFixed;\n    var handleFunc = function handleFunc(column, index, items, path, parent) {\n      var colid = column.id,\n        field = column.field,\n        fixed = column.fixed,\n        type = column.type,\n        treeNode = column.treeNode;\n      var rest = {\n        column: column,\n        colid: colid,\n        index: index,\n        items: items,\n        parent: parent\n      };\n      if (field) {\n        if (process.env.NODE_ENV === 'development') {\n          if (fullColumnFieldData[field]) {\n            (0, _log.warnLog)('vxe.error.colRepet', ['field', field]);\n          }\n        }\n        fullColumnFieldData[field] = rest;\n      }\n      if (!hasFixed && fixed) {\n        hasFixed = fixed;\n      }\n      if (treeNode) {\n        if (process.env.NODE_ENV === 'development') {\n          if (treeNodeColumn) {\n            (0, _log.warnLog)('vxe.error.colRepet', ['tree-node', treeNode]);\n          }\n        }\n        if (!treeNodeColumn) {\n          treeNodeColumn = column;\n        }\n      } else if (type === 'expand') {\n        if (process.env.NODE_ENV === 'development') {\n          if (expandColumn) {\n            (0, _log.warnLog)('vxe.error.colRepet', ['type', type]);\n          }\n        }\n        if (!expandColumn) {\n          expandColumn = column;\n        }\n      }\n      if (process.env.NODE_ENV === 'development') {\n        if (type === 'checkbox') {\n          if (checkboxColumn) {\n            (0, _log.warnLog)('vxe.error.colRepet', ['type', type]);\n          }\n          if (!checkboxColumn) {\n            checkboxColumn = column;\n          }\n        } else if (type === 'radio') {\n          if (radioColumn) {\n            (0, _log.warnLog)('vxe.error.colRepet', ['type', type]);\n          }\n          if (!radioColumn) {\n            radioColumn = column;\n          }\n        }\n      }\n      if (process.env.NODE_ENV === 'development') {\n        if (_this12.showOverflow && column.showOverflow === false) {\n          (0, _log.warnLog)('vxe.error.errConflicts', [\"table.show-overflow=\".concat(_this12.showOverflow), \"column.show-overflow=\".concat(column.showOverflow)]);\n        }\n        if (_this12.showHeaderOverflow && column.showHeaderOverflow === false) {\n          (0, _log.warnLog)('vxe.error.errConflicts', [\"table.show-header-overflow=\".concat(_this12.showHeaderOverflow), \"column.show-header-overflow=\".concat(column.showHeaderOverflow)]);\n        }\n        if (_this12.showFooterOverflow && column.showFooterOverflow === false) {\n          (0, _log.warnLog)('vxe.error.errConflicts', [\"table.show-footer-overflow=\".concat(_this12.showFooterOverflow), \"column.show-footer-overflow=\".concat(column.showFooterOverflow)]);\n        }\n      }\n      if (isAllOverflow && column.showOverflow === false) {\n        isAllOverflow = false;\n      }\n      if (fullColumnIdData[colid]) {\n        (0, _log.errLog)('vxe.error.colRepet', ['colId', colid]);\n      }\n      fullColumnIdData[colid] = rest;\n      fullColumnMap.set(column, rest);\n    };\n    fullColumnMap.clear();\n    if (isGroup) {\n      _xeUtils.default.eachTree(collectColumn, function (column, index, items, path, parent, nodes) {\n        column.level = nodes.length;\n        handleFunc(column, index, items, path, parent);\n      });\n    } else {\n      tableFullColumn.forEach(handleFunc);\n    }\n    if (process.env.NODE_ENV === 'development') {\n      if (expandColumn && this.mouseOpts.area) {\n        (0, _log.errLog)('vxe.error.errConflicts', ['mouse-config.area', 'column.type=expand']);\n      }\n    }\n    this.isGroup = isGroup;\n    this.treeNodeColumn = treeNodeColumn;\n    this.expandColumn = expandColumn;\n    this.isAllOverflow = isAllOverflow;\n  },\n  /**\r\n   * 根据 tr 元素获取对应的 row 信息\r\n   * @param {Element} tr 元素\r\n   */\n  getRowNode: function getRowNode(tr) {\n    if (tr) {\n      var fullAllDataRowIdData = this.fullAllDataRowIdData;\n      var rowid = tr.getAttribute('rowid');\n      var rest = fullAllDataRowIdData[rowid];\n      if (rest) {\n        return {\n          rowid: rest.rowid,\n          item: rest.row,\n          index: rest.index,\n          items: rest.items,\n          parent: rest.parent\n        };\n      }\n    }\n    return null;\n  },\n  /**\r\n   * 根据 th/td 元素获取对应的 column 信息\r\n   * @param {Element} cell 元素\r\n   */\n  getColumnNode: function getColumnNode(cell) {\n    if (cell) {\n      var fullColumnIdData = this.fullColumnIdData;\n      var colid = cell.getAttribute('colid');\n      var rest = fullColumnIdData[colid];\n      if (rest) {\n        return {\n          colid: rest.colid,\n          item: rest.column,\n          index: rest.index,\n          items: rest.items,\n          parent: rest.parent\n        };\n      }\n    }\n    return null;\n  },\n  /**\r\n   * 根据 row 获取序号\r\n   * @param {Row} row 行对象\r\n   */\n  getRowSeq: function getRowSeq(row) {\n    var fullDataRowIdData = this.fullDataRowIdData;\n    if (row) {\n      var rowid = (0, _util.getRowid)(this, row);\n      var rest = fullDataRowIdData[rowid];\n      if (rest) {\n        return rest.seq;\n      }\n    }\n    return -1;\n  },\n  /**\r\n   * 根据 row 获取相对于 data 中的索引\r\n   * @param {Row} row 行对象\r\n   */\n  getRowIndex: function getRowIndex(row) {\n    return this.fullDataRowMap.has(row) ? this.fullDataRowMap.get(row).index : -1;\n  },\n  /**\r\n   * 根据 row 获取相对于当前数据中的索引\r\n   * @param {Row} row 行对象\r\n   */\n  getVTRowIndex: function getVTRowIndex(row) {\n    return this.afterFullData.indexOf(row);\n  },\n  // 在 v3 中废弃\n  _getRowIndex: function _getRowIndex(row) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['_getRowIndex', 'getVTRowIndex']);\n    }\n    return this.getVTRowIndex(row);\n  },\n  /**\r\n   * 根据 row 获取渲染中的虚拟索引\r\n   * @param {Row} row 行对象\r\n   */\n  getVMRowIndex: function getVMRowIndex(row) {\n    return this.tableData.indexOf(row);\n  },\n  // 在 v3 中废弃\n  $getRowIndex: function $getRowIndex(row) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['$getRowIndex', 'getVMRowIndex']);\n    }\n    return this.getVMRowIndex(row);\n  },\n  /**\r\n   * 根据 column 获取相对于 columns 中的索引\r\n   * @param {ColumnInfo} column 列配置\r\n   */\n  getColumnIndex: function getColumnIndex(column) {\n    return this.fullColumnMap.has(column) ? this.fullColumnMap.get(column).index : -1;\n  },\n  /**\r\n   * 根据 column 获取相对于当前表格列中的索引\r\n   * @param {ColumnInfo} column 列配置\r\n   */\n  getVTColumnIndex: function getVTColumnIndex(column) {\n    return this.visibleColumn.indexOf(column);\n  },\n  // 在 v3 中废弃\n  _getColumnIndex: function _getColumnIndex(column) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['_getColumnIndex', 'getVTColumnIndex']);\n    }\n    return this.getVTColumnIndex(column);\n  },\n  /**\r\n   * 根据 column 获取渲染中的虚拟索引\r\n   * @param {ColumnInfo} column 列配置\r\n   */\n  getVMColumnIndex: function getVMColumnIndex(column) {\n    return this.tableColumn.indexOf(column);\n  },\n  // 在 v3 中废弃\n  $getColumnIndex: function $getColumnIndex(column) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['$getColumnIndex', 'getVMColumnIndex']);\n    }\n    return this.getVMColumnIndex(column);\n  },\n  /**\r\n   * 判断是否为索引列\r\n   * @param {ColumnInfo} column 列配置\r\n   */\n  isSeqColumn: function isSeqColumn(column) {\n    return column && column.type === 'seq';\n  },\n  /**\r\n   * 定义行数据中的列属性，如果不存在则定义\r\n   * @param {Row} record 行数据\r\n   */\n  defineField: function defineField(record) {\n    var radioOpts = this.radioOpts,\n      checkboxOpts = this.checkboxOpts,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      expandOpts = this.expandOpts;\n    var rowkey = (0, _util.getRowkey)(this);\n    this.tableFullColumn.forEach(function (column) {\n      var field = column.field,\n        editRender = column.editRender;\n      if (field && !_xeUtils.default.has(record, field)) {\n        var cellValue = null;\n        if (editRender) {\n          var defaultValue = editRender.defaultValue;\n          if (_xeUtils.default.isFunction(defaultValue)) {\n            cellValue = defaultValue({\n              column: column\n            });\n          } else if (!_xeUtils.default.isUndefined(defaultValue)) {\n            cellValue = defaultValue;\n          }\n        }\n        _xeUtils.default.set(record, field, cellValue);\n      }\n    });\n    var otherFields = [radioOpts.labelField, checkboxOpts.checkField, checkboxOpts.labelField, expandOpts.labelField];\n    otherFields.forEach(function (key) {\n      if (key && (0, _utils.eqEmptyValue)(_xeUtils.default.get(record, key))) {\n        _xeUtils.default.set(record, key, null);\n      }\n    });\n    if (treeConfig && treeOpts.lazy && _xeUtils.default.isUndefined(record[treeOpts.children])) {\n      record[treeOpts.children] = null;\n    }\n    // 必须有行数据的唯一主键，可以自行设置；也可以默认生成一个随机数\n    if ((0, _utils.eqEmptyValue)(_xeUtils.default.get(record, rowkey))) {\n      _xeUtils.default.set(record, rowkey, getRowUniqueId());\n    }\n    return record;\n  },\n  /**\r\n   * 创建 data 对象\r\n   * 对于某些特殊场景可能会用到，会自动对数据的字段名进行检测，如果不存在就自动定义\r\n   * @param {Array} records 新数据\r\n   */\n  createData: function createData(records) {\n    var _this13 = this;\n    var treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts;\n    var handleRrecord = function handleRrecord(record) {\n      return _this13.defineField(Object.assign({}, record));\n    };\n    var rows = treeConfig ? _xeUtils.default.mapTree(records, handleRrecord, treeOpts) : records.map(handleRrecord);\n    return this.$nextTick().then(function () {\n      return rows;\n    });\n  },\n  /**\r\n   * 创建 Row|Rows 对象\r\n   * 对于某些特殊场景需要对数据进行手动插入时可能会用到\r\n   * @param {Array/Object} records 新数据\r\n   */\n  createRow: function createRow(records) {\n    var _this14 = this;\n    var isArr = _xeUtils.default.isArray(records);\n    if (!isArr) {\n      records = [records];\n    }\n    return this.$nextTick().then(function () {\n      return _this14.createData(records).then(function (rows) {\n        return isArr ? rows : rows[0];\n      });\n    });\n  },\n  /**\r\n   * 还原数据\r\n   * 如果不传任何参数，则还原整个表格\r\n   * 如果传 row 则还原一行\r\n   * 如果传 rows 则还原多行\r\n   * 如果还额外传了 field 则还原指定的单元格数据\r\n   */\n  revertData: function revertData(rows, field) {\n    var _this15 = this;\n    var keepSource = this.keepSource,\n      tableSourceData = this.tableSourceData,\n      treeConfig = this.treeConfig;\n    if (!keepSource) {\n      if (process.env.NODE_ENV === 'development') {\n        (0, _log.warnLog)('vxe.error.reqProp', ['keep-source']);\n      }\n      return this.$nextTick();\n    }\n    var targetRows = rows;\n    if (rows) {\n      if (!_xeUtils.default.isArray(rows)) {\n        targetRows = [rows];\n      }\n    } else {\n      targetRows = _xeUtils.default.toArray(this.getUpdateRecords());\n    }\n    if (targetRows.length) {\n      targetRows.forEach(function (row) {\n        if (!_this15.isInsertByRow(row)) {\n          var rowIndex = _this15.getRowIndex(row);\n          if (treeConfig && rowIndex === -1) {\n            (0, _log.errLog)('vxe.error.noTree', ['revertData']);\n          }\n          var oRow = tableSourceData[rowIndex];\n          if (oRow && row) {\n            if (field) {\n              _xeUtils.default.set(row, field, _xeUtils.default.clone(_xeUtils.default.get(oRow, field), true));\n            } else {\n              _xeUtils.default.destructuring(row, _xeUtils.default.clone(oRow, true));\n            }\n          }\n        }\n      });\n    }\n    if (rows) {\n      return this.$nextTick();\n    }\n    return this.reloadData(tableSourceData);\n  },\n  /**\r\n   * 清空单元格内容\r\n   * 如果不创参数，则清空整个表格内容\r\n   * 如果传 row 则清空一行内容\r\n   * 如果传 rows 则清空多行内容\r\n   * 如果还额外传了 field 则清空指定单元格内容\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {String} field 字段名\r\n   */\n  clearData: function clearData(rows, field) {\n    var tableFullData = this.tableFullData,\n      visibleColumn = this.visibleColumn;\n    if (!arguments.length) {\n      rows = tableFullData;\n    } else if (rows && !_xeUtils.default.isArray(rows)) {\n      rows = [rows];\n    }\n    if (field) {\n      rows.forEach(function (row) {\n        return _xeUtils.default.set(row, field, null);\n      });\n    } else {\n      rows.forEach(function (row) {\n        visibleColumn.forEach(function (column) {\n          if (column.field) {\n            setCellValue(row, column, null);\n          }\n        });\n      });\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 检查是否为临时行数据\r\n   * @param {Row} row 行对象\r\n   */\n  isInsertByRow: function isInsertByRow(row) {\n    return this.editStore.insertList.indexOf(row) > -1;\n  },\n  /**\r\n   * 删除所有新增的临时数据\r\n   * @returns\r\n   */\n  removeInsertRow: function removeInsertRow() {\n    return this.remove(this.editStore.insertList);\n  },\n  /**\r\n   * 检查行或列数据是否发生改变\r\n   * @param {Row} row 行对象\r\n   * @param {String} field 字段名\r\n   */\n  isUpdateByRow: function isUpdateByRow(row, field) {\n    var _this16 = this;\n    var visibleColumn = this.visibleColumn,\n      keepSource = this.keepSource,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      tableSourceData = this.tableSourceData,\n      fullDataRowIdData = this.fullDataRowIdData;\n    if (keepSource) {\n      var oRow, property;\n      var rowid = (0, _util.getRowid)(this, row);\n      // 新增的数据不需要检测\n      if (!fullDataRowIdData[rowid]) {\n        return false;\n      }\n      if (treeConfig) {\n        var children = treeOpts.children;\n        var matchObj = _xeUtils.default.findTree(tableSourceData, function (item) {\n          return rowid === (0, _util.getRowid)(_this16, item);\n        }, treeOpts);\n        row = Object.assign({}, row, _defineProperty({}, children, null));\n        if (matchObj) {\n          oRow = Object.assign({}, matchObj.item, _defineProperty({}, children, null));\n        }\n      } else {\n        var oRowIndex = fullDataRowIdData[rowid].index;\n        oRow = tableSourceData[oRowIndex];\n      }\n      if (oRow) {\n        if (arguments.length > 1) {\n          return !eqCellValue(oRow, row, field);\n        }\n        for (var index = 0, len = visibleColumn.length; index < len; index++) {\n          property = visibleColumn[index].field;\n          if (property && !eqCellValue(oRow, row, property)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  },\n  /**\r\n   * 获取表格的可视列，也可以指定索引获取列\r\n   * @param {Number} columnIndex 索引\r\n   */\n  getColumns: function getColumns(columnIndex) {\n    var columns = this.visibleColumn;\n    return _xeUtils.default.isUndefined(columnIndex) ? columns.slice(0) : columns[columnIndex];\n  },\n  /**\r\n   * 根据列的唯一主键获取列\r\n   * @param {String} colid 列主键\r\n   */\n  getColumnById: function getColumnById(colid) {\n    var fullColumnIdData = this.fullColumnIdData;\n    return fullColumnIdData[colid] ? fullColumnIdData[colid].column : null;\n  },\n  /**\r\n   * 根据列的字段名获取列\r\n   * @param {String} field 字段名\r\n   */\n  getColumnByField: function getColumnByField(field) {\n    var fullColumnFieldData = this.fullColumnFieldData;\n    return fullColumnFieldData[field] ? fullColumnFieldData[field].column : null;\n  },\n  /**\r\n   * 获取当前表格的列\r\n   * 收集到的全量列、全量表头列、处理条件之后的全量表头列、当前渲染中的表头列\r\n   */\n  getTableColumn: function getTableColumn() {\n    return {\n      collectColumn: this.collectColumn.slice(0),\n      fullColumn: this.tableFullColumn.slice(0),\n      visibleColumn: this.visibleColumn.slice(0),\n      tableColumn: this.tableColumn.slice(0)\n    };\n  },\n  /**\r\n   * 获取数据，和 data 的行为一致，也可以指定索引获取数据\r\n   */\n  getData: function getData(rowIndex) {\n    var tableSynchData = this.data || this.tableSynchData;\n    return _xeUtils.default.isUndefined(rowIndex) ? tableSynchData.slice(0) : tableSynchData[rowIndex];\n  },\n  /**\r\n   * 用于多选行，获取已选中的数据\r\n   */\n  getCheckboxRecords: function getCheckboxRecords(isFull) {\n    var _this17 = this;\n    var tableFullData = this.tableFullData,\n      afterFullData = this.afterFullData,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      checkboxOpts = this.checkboxOpts,\n      tableFullTreeData = this.tableFullTreeData,\n      afterTreeFullData = this.afterTreeFullData;\n    var transform = treeOpts.transform,\n      children = treeOpts.children,\n      mapChildren = treeOpts.mapChildren;\n    var checkField = checkboxOpts.checkField;\n    var currTableData = isFull ? transform ? tableFullTreeData : tableFullData : transform ? afterTreeFullData : afterFullData;\n    var rowList = [];\n    if (checkField) {\n      if (treeConfig) {\n        rowList = _xeUtils.default.filterTree(currTableData, function (row) {\n          return _xeUtils.default.get(row, checkField);\n        }, {\n          children: transform ? mapChildren : children\n        });\n      } else {\n        rowList = currTableData.filter(function (row) {\n          return _xeUtils.default.get(row, checkField);\n        });\n      }\n    } else {\n      var selection = this.selection;\n      if (treeConfig) {\n        rowList = _xeUtils.default.filterTree(currTableData, function (row) {\n          return _this17.findRowIndexOf(selection, row) > -1;\n        }, {\n          children: transform ? mapChildren : children\n        });\n      } else {\n        rowList = currTableData.filter(function (row) {\n          return _this17.findRowIndexOf(selection, row) > -1;\n        });\n      }\n    }\n    return rowList;\n  },\n  /**\r\n   * 如果为虚拟树，将树结构拍平\r\n   * @returns\r\n   */\n  handleVirtualTreeToList: function handleVirtualTreeToList() {\n    var treeOpts = this.treeOpts,\n      treeConfig = this.treeConfig,\n      treeExpandeds = this.treeExpandeds,\n      afterTreeFullData = this.afterTreeFullData,\n      afterFullData = this.afterFullData;\n    if (treeConfig && treeOpts.transform) {\n      var fullData = [];\n      var expandMaps = new Map();\n      _xeUtils.default.eachTree(afterTreeFullData, function (row, index, items, path, parent) {\n        if (!parent || expandMaps.has(parent) && treeExpandeds.indexOf(parent) > -1) {\n          expandMaps.set(row, 1);\n          fullData.push(row);\n        }\n      }, {\n        children: treeOpts.mapChildren\n      });\n      this.afterFullData = fullData;\n      this.updateScrollYStatus(fullData);\n      return fullData;\n    }\n    return afterFullData;\n  },\n  /**\r\n   * 获取处理后全量的表格数据\r\n   * 如果存在筛选条件，继续处理\r\n   */\n  updateAfterFullData: function updateAfterFullData() {\n    var _this18 = this;\n    var tableFullColumn = this.tableFullColumn,\n      tableFullData = this.tableFullData,\n      filterOpts = this.filterOpts,\n      sortOpts = this.sortOpts,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      tableFullTreeData = this.tableFullTreeData;\n    var allRemoteFilter = filterOpts.remote,\n      allFilterMethod = filterOpts.filterMethod;\n    var allRemoteSort = sortOpts.remote,\n      allSortMethod = sortOpts.sortMethod,\n      sortMultiple = sortOpts.multiple,\n      chronological = sortOpts.chronological;\n    var transform = treeOpts.transform;\n    var tableData = [];\n    var tableTree = [];\n    var filterColumns = [];\n    var orderColumns = [];\n    tableFullColumn.forEach(function (column) {\n      var field = column.field,\n        sortable = column.sortable,\n        order = column.order,\n        filters = column.filters;\n      if (!allRemoteFilter && filters && filters.length) {\n        var valueList = [];\n        var itemList = [];\n        filters.forEach(function (item) {\n          if (item.checked) {\n            itemList.push(item);\n            valueList.push(item.value);\n          }\n        });\n        if (itemList.length) {\n          filterColumns.push({\n            column: column,\n            valueList: valueList,\n            itemList: itemList\n          });\n        }\n      }\n      if (!allRemoteSort && sortable && order) {\n        orderColumns.push({\n          column: column,\n          field: field,\n          property: field,\n          order: order,\n          sortTime: column.sortTime\n        });\n      }\n    });\n    if (sortMultiple && chronological && orderColumns.length > 1) {\n      orderColumns = _xeUtils.default.orderBy(orderColumns, 'sortTime');\n    }\n    if (filterColumns.length) {\n      var handleFilter = function handleFilter(row) {\n        return filterColumns.every(function (_ref) {\n          var column = _ref.column,\n            valueList = _ref.valueList,\n            itemList = _ref.itemList;\n          if (valueList.length && !allRemoteFilter) {\n            var filterMethod = column.filterMethod,\n              filterRender = column.filterRender,\n              field = column.field;\n            var compConf = filterRender ? _vXETable.default.renderer.get(filterRender.name) : null;\n            var compFilterMethod = compConf && compConf.renderFilter ? compConf.filterMethod : null;\n            var defaultFilterMethod = compConf ? compConf.defaultFilterMethod : null;\n            var cellValue = _utils.default.getCellValue(row, column);\n            if (filterMethod) {\n              return itemList.some(function (item) {\n                return filterMethod({\n                  value: item.value,\n                  option: item,\n                  cellValue: cellValue,\n                  row: row,\n                  column: column,\n                  $table: _this18\n                });\n              });\n            } else if (compFilterMethod) {\n              return itemList.some(function (item) {\n                return compFilterMethod({\n                  value: item.value,\n                  option: item,\n                  cellValue: cellValue,\n                  row: row,\n                  column: column,\n                  $table: _this18\n                });\n              });\n            } else if (allFilterMethod) {\n              return allFilterMethod({\n                options: itemList,\n                values: valueList,\n                cellValue: cellValue,\n                row: row,\n                column: column\n              });\n            } else if (defaultFilterMethod) {\n              return itemList.some(function (item) {\n                return defaultFilterMethod({\n                  value: item.value,\n                  option: item,\n                  cellValue: cellValue,\n                  row: row,\n                  column: column,\n                  $table: _this18\n                });\n              });\n            }\n            return valueList.indexOf(_xeUtils.default.get(row, field)) > -1;\n          }\n          return true;\n        });\n      };\n      if (treeConfig && transform) {\n        // 筛选虚拟树\n        tableTree = _xeUtils.default.searchTree(tableFullTreeData, handleFilter, _objectSpread(_objectSpread({}, treeOpts), {}, {\n          original: true\n        }));\n        tableData = tableTree;\n      } else {\n        tableData = treeConfig ? tableFullTreeData.filter(handleFilter) : tableFullData.filter(handleFilter);\n        tableTree = tableData;\n      }\n    } else {\n      if (treeConfig && transform) {\n        // 还原虚拟树\n        tableTree = _xeUtils.default.searchTree(tableFullTreeData, function () {\n          return true;\n        }, _objectSpread(_objectSpread({}, treeOpts), {}, {\n          original: true\n        }));\n        tableData = tableTree;\n      } else {\n        tableData = treeConfig ? tableFullTreeData.slice(0) : tableFullData.slice(0);\n        tableTree = tableData;\n      }\n    }\n    var firstOrderColumn = orderColumns[0];\n    if (!allRemoteSort && firstOrderColumn) {\n      if (treeConfig && transform) {\n        // 虚拟树和列表一样，只能排序根级节点\n        if (allSortMethod) {\n          var sortRests = allSortMethod({\n            data: tableTree,\n            sortList: orderColumns,\n            $table: this\n          });\n          tableTree = _xeUtils.default.isArray(sortRests) ? sortRests : tableTree;\n        } else {\n          tableTree = _xeUtils.default.orderBy(tableTree, orderColumns.map(function (_ref2) {\n            var column = _ref2.column,\n              order = _ref2.order;\n            return [getOrderField(_this18, column), order];\n          }));\n        }\n        tableData = tableTree;\n      } else {\n        if (allSortMethod) {\n          var _sortRests = allSortMethod({\n            data: tableData,\n            column: firstOrderColumn.column,\n            property: firstOrderColumn.field,\n            field: firstOrderColumn.field,\n            order: firstOrderColumn.order,\n            sortList: orderColumns,\n            $table: this\n          });\n          tableData = _xeUtils.default.isArray(_sortRests) ? _sortRests : tableData;\n        } else {\n          // 兼容 v4\n          if (sortMultiple) {\n            tableData = _xeUtils.default.orderBy(tableData, orderColumns.map(function (_ref3) {\n              var column = _ref3.column,\n                order = _ref3.order;\n              return [getOrderField(_this18, column), order];\n            }));\n          } else {\n            // 兼容 v2，在 v4 中废弃， sortBy 不能为数组\n            var sortByConfs;\n            if (_xeUtils.default.isArray(firstOrderColumn.sortBy)) {\n              sortByConfs = firstOrderColumn.sortBy.map(function (item) {\n                return [item, firstOrderColumn.order];\n              });\n            }\n            tableData = _xeUtils.default.orderBy(tableData, sortByConfs || [firstOrderColumn].map(function (_ref4) {\n              var column = _ref4.column,\n                order = _ref4.order;\n              return [getOrderField(_this18, column), order];\n            }));\n          }\n        }\n        tableTree = tableData;\n      }\n    }\n    this.afterFullData = tableData;\n    this.afterTreeFullData = tableTree;\n    this.updateAfterDataIndex();\n  },\n  /**\r\n   * 预编译\r\n   * 对渲染中的数据提前解析序号及索引。牺牲提前编译耗时换取渲染中额外损耗，使运行时更加流畅\r\n   */\n  updateAfterDataIndex: function updateAfterDataIndex() {\n    var _this19 = this;\n    var treeConfig = this.treeConfig,\n      afterFullData = this.afterFullData,\n      fullDataRowIdData = this.fullDataRowIdData,\n      fullAllDataRowIdData = this.fullAllDataRowIdData,\n      afterTreeFullData = this.afterTreeFullData,\n      treeOpts = this.treeOpts;\n    if (treeConfig) {\n      _xeUtils.default.eachTree(afterTreeFullData, function (row, index, items, path) {\n        var rowid = (0, _util.getRowid)(_this19, row);\n        var allrest = fullAllDataRowIdData[rowid];\n        var seq = path.map(function (num, i) {\n          return i % 2 === 0 ? Number(num) + 1 : '.';\n        }).join('');\n        if (allrest) {\n          allrest.seq = seq;\n          allrest._index = index;\n        } else {\n          var rest = {\n            row: row,\n            rowid: rowid,\n            seq: seq,\n            index: -1,\n            $index: -1,\n            _index: index,\n            items: [],\n            parent: null,\n            level: 0\n          };\n          fullAllDataRowIdData[rowid] = rest;\n          fullDataRowIdData[rowid] = rest;\n        }\n      }, {\n        children: treeOpts.transform ? treeOpts.mapChildren : treeOpts.children\n      });\n    } else {\n      afterFullData.forEach(function (row, index) {\n        var rowid = (0, _util.getRowid)(_this19, row);\n        var allrest = fullAllDataRowIdData[rowid];\n        var seq = index + 1;\n        if (allrest) {\n          allrest.seq = seq;\n          allrest._index = index;\n        } else {\n          var rest = {\n            row: row,\n            rowid: rowid,\n            seq: seq,\n            index: -1,\n            $index: -1,\n            _index: index,\n            items: [],\n            parent: null,\n            level: 0\n          };\n          fullAllDataRowIdData[rowid] = rest;\n          fullDataRowIdData[rowid] = rest;\n        }\n      });\n    }\n  },\n  /**\r\n   * 只对 tree-config 有效，获取行的父级\r\n   */\n  getParentRow: function getParentRow(rowOrRowid) {\n    var treeConfig = this.treeConfig,\n      fullDataRowIdData = this.fullDataRowIdData;\n    if (rowOrRowid && treeConfig) {\n      var rowid;\n      if (_xeUtils.default.isString(rowOrRowid)) {\n        rowid = rowOrRowid;\n      } else {\n        rowid = (0, _util.getRowid)(this, rowOrRowid);\n      }\n      if (rowid) {\n        return fullDataRowIdData[rowid] ? fullDataRowIdData[rowid].parent : null;\n      }\n    }\n    return null;\n  },\n  /**\r\n   * 根据行的唯一主键获取行\r\n   * @param {String/Number} rowid 行主键\r\n   */\n  getRowById: function getRowById(cellValue) {\n    var fullDataRowIdData = this.fullDataRowIdData;\n    var rowid = _xeUtils.default.eqNull(cellValue) ? '' : encodeURIComponent(cellValue);\n    return fullDataRowIdData[rowid] ? fullDataRowIdData[rowid].row : null;\n  },\n  /**\r\n   * 根据行获取行的唯一主键\r\n   * @param {Row} row 行对象\r\n   */\n  getRowid: function getRowid(row) {\n    var fullAllDataRowMap = this.fullAllDataRowMap;\n    return fullAllDataRowMap.has(row) ? fullAllDataRowMap.get(row).rowid : null;\n  },\n  /**\r\n   * 获取处理后的表格数据\r\n   * 如果存在筛选条件，继续处理\r\n   * 如果存在排序，继续处理\r\n   */\n  getTableData: function getTableData() {\n    var tableFullData = this.tableFullData,\n      afterFullData = this.afterFullData,\n      tableData = this.tableData,\n      footerTableData = this.footerTableData;\n    return {\n      fullData: tableFullData.slice(0),\n      visibleData: afterFullData.slice(0),\n      tableData: tableData.slice(0),\n      footerData: footerTableData.slice(0)\n    };\n  },\n  /**\r\n   * 处理数据加载默认行为\r\n   * 默认执行一次，除非被重置\r\n   */\n  handleLoadDefaults: function handleLoadDefaults() {\n    var _this20 = this;\n    if (this.checkboxConfig) {\n      this.handleDefaultSelectionChecked();\n    }\n    if (this.radioConfig) {\n      this.handleDefaultRadioChecked();\n    }\n    if (this.expandConfig) {\n      this.handleDefaultRowExpand();\n    }\n    if (this.treeConfig) {\n      this.handleDefaultTreeExpand();\n    }\n    if (this.mergeCells) {\n      this.handleDefaultMergeCells();\n    }\n    if (this.mergeFooterItems) {\n      this.handleDefaultMergeFooterItems();\n    }\n    this.$nextTick(function () {\n      return setTimeout(_this20.recalculate);\n    });\n  },\n  /**\r\n   * 处理初始化的默认行为\r\n   * 只会执行一次\r\n   */\n  handleInitDefaults: function handleInitDefaults() {\n    var sortConfig = this.sortConfig;\n    if (sortConfig) {\n      this.handleDefaultSort();\n    }\n  },\n  /**\r\n   * 隐藏指定列\r\n   */\n  hideColumn: function hideColumn(fieldOrColumn) {\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n    if (column) {\n      column.visible = false;\n    }\n    return this.handleCustom();\n  },\n  /**\r\n   * 显示指定列\r\n   */\n  showColumn: function showColumn(fieldOrColumn) {\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n    if (column) {\n      column.visible = true;\n    }\n    return this.handleCustom();\n  },\n  /**\r\n   * 手动重置列的显示隐藏、列宽拖动的状态；\r\n   * 如果为 true 则重置所有状态\r\n   * 如果已关联工具栏，则会同步更新\r\n   */\n  resetColumn: function resetColumn(options) {\n    var customOpts = this.customOpts;\n    var checkMethod = customOpts.checkMethod;\n    var opts = Object.assign({\n      visible: true,\n      resizable: options === true\n    }, options);\n    this.tableFullColumn.forEach(function (column) {\n      if (opts.resizable) {\n        column.resizeWidth = 0;\n      }\n      if (!checkMethod || checkMethod({\n        column: column\n      })) {\n        column.visible = column.defaultVisible;\n      }\n    });\n    if (opts.resizable) {\n      this.saveCustomResizable(true);\n    }\n    return this.handleCustom();\n  },\n  handleCustom: function handleCustom() {\n    this.saveCustomVisible();\n    this.analyColumnWidth();\n    return this.refreshColumn();\n  },\n  /**\r\n   * 还原自定义列操作状态\r\n   */\n  restoreCustomStorage: function restoreCustomStorage() {\n    var id = this.id,\n      collectColumn = this.collectColumn,\n      customConfig = this.customConfig,\n      customOpts = this.customOpts;\n    var storage = customOpts.storage;\n    var isAllStorage = customOpts.storage === true;\n    var isResizable = isAllStorage || storage && storage.resizable;\n    var isVisible = isAllStorage || storage && storage.visible;\n    if (customConfig && (isResizable || isVisible)) {\n      var customMap = {};\n      if (!id) {\n        (0, _log.errLog)('vxe.error.reqProp', ['id']);\n        return;\n      }\n      if (isResizable) {\n        var columnWidthStorage = getCustomStorageMap(resizableStorageKey)[id];\n        if (columnWidthStorage) {\n          _xeUtils.default.each(columnWidthStorage, function (resizeWidth, field) {\n            customMap[field] = {\n              field: field,\n              resizeWidth: resizeWidth\n            };\n          });\n        }\n      }\n      if (isVisible) {\n        var columnVisibleStorage = getCustomStorageMap(visibleStorageKey)[id];\n        if (columnVisibleStorage) {\n          var colVisibles = columnVisibleStorage.split('|');\n          var colHides = colVisibles[0] ? colVisibles[0].split(',') : [];\n          var colShows = colVisibles[1] ? colVisibles[1].split(',') : [];\n          colHides.forEach(function (field) {\n            if (customMap[field]) {\n              customMap[field].visible = false;\n            } else {\n              customMap[field] = {\n                field: field,\n                visible: false\n              };\n            }\n          });\n          colShows.forEach(function (field) {\n            if (customMap[field]) {\n              customMap[field].visible = true;\n            } else {\n              customMap[field] = {\n                field: field,\n                visible: true\n              };\n            }\n          });\n        }\n      }\n      var keyMap = {};\n      _xeUtils.default.eachTree(collectColumn, function (column) {\n        var colKey = column.getKey();\n        if (colKey) {\n          keyMap[colKey] = column;\n        }\n      });\n      _xeUtils.default.each(customMap, function (_ref5, field) {\n        var visible = _ref5.visible,\n          resizeWidth = _ref5.resizeWidth;\n        var column = keyMap[field];\n        if (column) {\n          if (_xeUtils.default.isNumber(resizeWidth)) {\n            column.resizeWidth = resizeWidth;\n          }\n          if (_xeUtils.default.isBoolean(visible)) {\n            column.visible = visible;\n          }\n        }\n      });\n    }\n  },\n  saveCustomVisible: function saveCustomVisible() {\n    var id = this.id,\n      collectColumn = this.collectColumn,\n      customConfig = this.customConfig,\n      customOpts = this.customOpts;\n    var checkMethod = customOpts.checkMethod,\n      storage = customOpts.storage;\n    var isAllStorage = customOpts.storage === true;\n    var isVisible = isAllStorage || storage && storage.visible;\n    if (customConfig && isVisible) {\n      var columnVisibleStorageMap = getCustomStorageMap(visibleStorageKey);\n      var colHides = [];\n      var colShows = [];\n      if (!id) {\n        (0, _log.errLog)('vxe.error.reqProp', ['id']);\n        return;\n      }\n      _xeUtils.default.eachTree(collectColumn, function (column) {\n        if (!checkMethod || checkMethod({\n          column: column\n        })) {\n          if (!column.visible && column.defaultVisible) {\n            var colKey = column.getKey();\n            if (colKey) {\n              colHides.push(colKey);\n            }\n          } else if (column.visible && !column.defaultVisible) {\n            var _colKey = column.getKey();\n            if (_colKey) {\n              colShows.push(_colKey);\n            }\n          }\n        }\n      });\n      columnVisibleStorageMap[id] = [colHides.join(',')].concat(colShows.length ? [colShows.join(',')] : []).join('|') || undefined;\n      localStorage.setItem(visibleStorageKey, _xeUtils.default.toJSONString(columnVisibleStorageMap));\n    }\n  },\n  saveCustomResizable: function saveCustomResizable(isReset) {\n    var id = this.id,\n      collectColumn = this.collectColumn,\n      customConfig = this.customConfig,\n      customOpts = this.customOpts;\n    var storage = customOpts.storage;\n    var isAllStorage = customOpts.storage === true;\n    var isResizable = isAllStorage || storage && storage.resizable;\n    if (customConfig && isResizable) {\n      var columnWidthStorageMap = getCustomStorageMap(resizableStorageKey);\n      var columnWidthStorage;\n      if (!id) {\n        (0, _log.errLog)('vxe.error.reqProp', ['id']);\n        return;\n      }\n      if (!isReset) {\n        columnWidthStorage = _xeUtils.default.isPlainObject(columnWidthStorageMap[id]) ? columnWidthStorageMap[id] : {};\n        _xeUtils.default.eachTree(collectColumn, function (column) {\n          if (column.resizeWidth) {\n            var colKey = column.getKey();\n            if (colKey) {\n              columnWidthStorage[colKey] = column.renderWidth;\n            }\n          }\n        });\n      }\n      columnWidthStorageMap[id] = _xeUtils.default.isEmpty(columnWidthStorage) ? undefined : columnWidthStorage;\n      localStorage.setItem(resizableStorageKey, _xeUtils.default.toJSONString(columnWidthStorageMap));\n    }\n  },\n  /**\r\n   * 刷新列配置\r\n   */\n  refreshColumn: function refreshColumn() {\n    var _this21 = this;\n    return this.parseColumns().then(function () {\n      return _this21.refreshScroll();\n    }).then(function () {\n      return _this21.recalculate();\n    });\n  },\n  /**\r\n   * 刷新列信息\r\n   * 将固定的列左边、右边分别靠边\r\n   */\n  parseColumns: function parseColumns() {\n    var _this22 = this;\n    var leftList = [];\n    var centerList = [];\n    var rightList = [];\n    var collectColumn = this.collectColumn,\n      tableFullColumn = this.tableFullColumn,\n      isGroup = this.isGroup,\n      columnStore = this.columnStore,\n      sXOpts = this.sXOpts,\n      scrollXStore = this.scrollXStore;\n    // 如果是分组表头，如果子列全部被隐藏，则根列也隐藏\n    if (isGroup) {\n      var leftGroupList = [];\n      var centerGroupList = [];\n      var rightGroupList = [];\n      _xeUtils.default.eachTree(collectColumn, function (column, index, items, path, parent) {\n        var isColGroup = hasChildrenList(column);\n        // 如果是分组，必须按组设置固定列，不允许给子列设置固定\n        if (parent && parent.fixed) {\n          column.fixed = parent.fixed;\n        }\n        if (parent && column.fixed !== parent.fixed) {\n          (0, _log.errLog)('vxe.error.groupFixed');\n        }\n        if (isColGroup) {\n          column.visible = !!_xeUtils.default.findTree(column.children, function (subColumn) {\n            return hasChildrenList(subColumn) ? null : subColumn.visible;\n          });\n        } else if (column.visible) {\n          if (column.fixed === 'left') {\n            leftList.push(column);\n          } else if (column.fixed === 'right') {\n            rightList.push(column);\n          } else {\n            centerList.push(column);\n          }\n        }\n      });\n      collectColumn.forEach(function (column) {\n        if (column.visible) {\n          if (column.fixed === 'left') {\n            leftGroupList.push(column);\n          } else if (column.fixed === 'right') {\n            rightGroupList.push(column);\n          } else {\n            centerGroupList.push(column);\n          }\n        }\n      });\n      this.tableGroupColumn = leftGroupList.concat(centerGroupList).concat(rightGroupList);\n    } else {\n      // 重新分配列\n      tableFullColumn.forEach(function (column) {\n        if (column.visible) {\n          if (column.fixed === 'left') {\n            leftList.push(column);\n          } else if (column.fixed === 'right') {\n            rightList.push(column);\n          } else {\n            centerList.push(column);\n          }\n        }\n      });\n    }\n    var visibleColumn = leftList.concat(centerList).concat(rightList);\n    var scrollXLoad = sXOpts.enabled && sXOpts.gt > -1 && sXOpts.gt < tableFullColumn.length;\n    this.hasFixedColumn = leftList.length > 0 || rightList.length > 0;\n    Object.assign(columnStore, {\n      leftList: leftList,\n      centerList: centerList,\n      rightList: rightList\n    });\n    if (scrollXLoad) {\n      if (process.env.NODE_ENV === 'development') {\n        if (this.showHeader && !this.showHeaderOverflow) {\n          (0, _log.warnLog)('vxe.error.reqProp', ['show-header-overflow']);\n        }\n        if (this.showFooter && !this.showFooterOverflow) {\n          (0, _log.warnLog)('vxe.error.reqProp', ['show-footer-overflow']);\n        }\n        if (this.spanMethod) {\n          (0, _log.warnLog)('vxe.error.scrollErrProp', ['span-method']);\n        }\n        if (this.footerSpanMethod) {\n          (0, _log.warnLog)('vxe.error.scrollErrProp', ['footer-span-method']);\n        }\n      }\n      var _computeVirtualX = computeVirtualX(this),\n        visibleSize = _computeVirtualX.visibleSize;\n      scrollXStore.startIndex = 0;\n      scrollXStore.endIndex = visibleSize;\n      scrollXStore.visibleSize = visibleSize;\n    }\n    // 如果列被显示/隐藏，则清除合并状态\n    // 如果列被设置为固定，则清除合并状态\n    if (visibleColumn.length !== this.visibleColumn.length || !this.visibleColumn.every(function (column, index) {\n      return column === visibleColumn[index];\n    })) {\n      this.clearMergeCells();\n      this.clearMergeFooterItems();\n    }\n    this.scrollXLoad = scrollXLoad;\n    this.visibleColumn = visibleColumn;\n    this.handleTableColumn();\n    return this.updateFooter().then(function () {\n      return _this22.recalculate();\n    }).then(function () {\n      _this22.updateCellAreas();\n      return _this22.recalculate();\n    });\n  },\n  /**\r\n   * 指定列宽的列进行拆分\r\n   */\n  analyColumnWidth: function analyColumnWidth() {\n    var columnOpts = this.columnOpts;\n    var defaultWidth = columnOpts.width,\n      defaultMinWidth = columnOpts.minWidth;\n    var resizeList = [];\n    var pxList = [];\n    var pxMinList = [];\n    var scaleList = [];\n    var scaleMinList = [];\n    var autoList = [];\n    this.tableFullColumn.forEach(function (column) {\n      if (defaultWidth && !column.width) {\n        column.width = defaultWidth;\n      }\n      if (defaultMinWidth && !column.minWidth) {\n        column.minWidth = defaultMinWidth;\n      }\n      if (column.visible) {\n        if (column.resizeWidth) {\n          resizeList.push(column);\n        } else if (_dom.default.isPx(column.width)) {\n          pxList.push(column);\n        } else if (_dom.default.isScale(column.width)) {\n          scaleList.push(column);\n        } else if (_dom.default.isPx(column.minWidth)) {\n          pxMinList.push(column);\n        } else if (_dom.default.isScale(column.minWidth)) {\n          scaleMinList.push(column);\n        } else {\n          autoList.push(column);\n        }\n      }\n    });\n    Object.assign(this.columnStore, {\n      resizeList: resizeList,\n      pxList: pxList,\n      pxMinList: pxMinList,\n      scaleList: scaleList,\n      scaleMinList: scaleMinList,\n      autoList: autoList\n    });\n  },\n  /**\r\n   * 刷新滚动操作，手动同步滚动相关位置（对于某些特殊的操作，比如滚动条错位、固定列不同步）\r\n   */\n  refreshScroll: function refreshScroll() {\n    var _this23 = this;\n    var lastScrollLeft = this.lastScrollLeft,\n      lastScrollTop = this.lastScrollTop;\n    var $refs = this.$refs;\n    var tableBody = $refs.tableBody,\n      leftBody = $refs.leftBody,\n      rightBody = $refs.rightBody,\n      tableFooter = $refs.tableFooter;\n    var tableBodyElem = tableBody ? tableBody.$el : null;\n    var leftBodyElem = leftBody ? leftBody.$el : null;\n    var rightBodyElem = rightBody ? rightBody.$el : null;\n    var tableFooterElem = tableFooter ? tableFooter.$el : null;\n    return new Promise(function (resolve) {\n      // 还原滚动条位置\n      if (lastScrollLeft || lastScrollTop) {\n        return (0, _util.restoreScrollLocation)(_this23, lastScrollLeft, lastScrollTop).then(function () {\n          // 存在滚动行为未结束情况\n          setTimeout(resolve, 30);\n        });\n      }\n      // 重置\n      (0, _dom.setScrollTop)(tableBodyElem, lastScrollTop);\n      (0, _dom.setScrollTop)(leftBodyElem, lastScrollTop);\n      (0, _dom.setScrollTop)(rightBodyElem, lastScrollTop);\n      (0, _dom.setScrollLeft)(tableFooterElem, lastScrollLeft);\n      // 存在滚动行为未结束情况\n      setTimeout(resolve, 30);\n    });\n  },\n  /**\r\n   * 计算单元格列宽，动态分配可用剩余空间\r\n   * 支持 width=? width=?px width=?% min-width=? min-width=?px min-width=?%\r\n   */\n  recalculate: function recalculate(refull) {\n    var _this24 = this;\n    var $refs = this.$refs;\n    var tableBody = $refs.tableBody,\n      tableHeader = $refs.tableHeader,\n      tableFooter = $refs.tableFooter;\n    var bodyElem = tableBody ? tableBody.$el : null;\n    var headerElem = tableHeader ? tableHeader.$el : null;\n    var footerElem = tableFooter ? tableFooter.$el : null;\n    if (bodyElem) {\n      this.autoCellWidth(headerElem, bodyElem, footerElem);\n      if (refull === true) {\n        // 初始化时需要在列计算之后再执行优化运算，达到最优显示效果\n        return this.computeScrollLoad().then(function () {\n          _this24.autoCellWidth(headerElem, bodyElem, footerElem);\n          return _this24.computeScrollLoad();\n        });\n      }\n    }\n    return this.computeScrollLoad();\n  },\n  /**\r\n   * 列宽算法\r\n   * 支持 px、%、固定 混合分配\r\n   * 支持动态列表调整分配\r\n   * 支持自动分配偏移量\r\n   * @param {Element} headerElem\r\n   * @param {Element} bodyElem\r\n   * @param {Element} footerElem\r\n   * @param {Number} bodyWidth\r\n   */\n  autoCellWidth: function autoCellWidth(headerElem, bodyElem, footerElem) {\n    var tableWidth = 0;\n    var minCellWidth = 40; // 列宽最少限制 40px\n    var bodyWidth = bodyElem.clientWidth - 1;\n    var remainWidth = bodyWidth;\n    var meanWidth = remainWidth / 100;\n    var fit = this.fit,\n      columnStore = this.columnStore;\n    var resizeList = columnStore.resizeList,\n      pxMinList = columnStore.pxMinList,\n      pxList = columnStore.pxList,\n      scaleList = columnStore.scaleList,\n      scaleMinList = columnStore.scaleMinList,\n      autoList = columnStore.autoList;\n    // 最小宽\n    pxMinList.forEach(function (column) {\n      var minWidth = parseInt(column.minWidth);\n      tableWidth += minWidth;\n      column.renderWidth = minWidth;\n    });\n    // 最小百分比\n    scaleMinList.forEach(function (column) {\n      var scaleWidth = Math.floor(parseInt(column.minWidth) * meanWidth);\n      tableWidth += scaleWidth;\n      column.renderWidth = scaleWidth;\n    });\n    // 固定百分比\n    scaleList.forEach(function (column) {\n      var scaleWidth = Math.floor(parseInt(column.width) * meanWidth);\n      tableWidth += scaleWidth;\n      column.renderWidth = scaleWidth;\n    });\n    // 固定宽\n    pxList.forEach(function (column) {\n      var width = parseInt(column.width);\n      tableWidth += width;\n      column.renderWidth = width;\n    });\n    // 调整了列宽\n    resizeList.forEach(function (column) {\n      var width = parseInt(column.resizeWidth);\n      tableWidth += width;\n      column.renderWidth = width;\n    });\n    remainWidth -= tableWidth;\n    meanWidth = remainWidth > 0 ? Math.floor(remainWidth / (scaleMinList.length + pxMinList.length + autoList.length)) : 0;\n    if (fit) {\n      if (remainWidth > 0) {\n        scaleMinList.concat(pxMinList).forEach(function (column) {\n          tableWidth += meanWidth;\n          column.renderWidth += meanWidth;\n        });\n      }\n    } else {\n      meanWidth = minCellWidth;\n    }\n    // 自适应\n    autoList.forEach(function (column) {\n      var width = Math.max(meanWidth, minCellWidth);\n      column.renderWidth = width;\n      tableWidth += width;\n    });\n    if (fit) {\n      /**\r\n       * 偏移量算法\r\n       * 如果所有列足够放的情况下，从最后动态列开始分配\r\n       */\n      var dynamicList = scaleList.concat(scaleMinList).concat(pxMinList).concat(autoList);\n      var dynamicSize = dynamicList.length - 1;\n      if (dynamicSize > 0) {\n        var odiffer = bodyWidth - tableWidth;\n        if (odiffer > 0) {\n          while (odiffer > 0 && dynamicSize >= 0) {\n            odiffer--;\n            dynamicList[dynamicSize--].renderWidth++;\n          }\n          tableWidth = bodyWidth;\n        }\n      }\n    }\n    var tableHeight = bodyElem.offsetHeight;\n    var overflowY = bodyElem.scrollHeight > bodyElem.clientHeight;\n    this.scrollbarWidth = overflowY ? bodyElem.offsetWidth - bodyElem.clientWidth : 0;\n    this.overflowY = overflowY;\n    this.tableWidth = tableWidth;\n    this.tableHeight = tableHeight;\n    if (headerElem) {\n      this.headerHeight = headerElem.clientHeight;\n      this.$nextTick(function () {\n        // 检测是否同步滚动\n        if (headerElem && bodyElem && headerElem.scrollLeft !== bodyElem.scrollLeft) {\n          headerElem.scrollLeft = bodyElem.scrollLeft;\n        }\n      });\n    } else {\n      this.headerHeight = 0;\n    }\n    if (footerElem) {\n      var footerHeight = footerElem.offsetHeight;\n      this.scrollbarHeight = Math.max(footerHeight - footerElem.clientHeight, 0);\n      this.overflowX = tableWidth > footerElem.clientWidth;\n      this.footerHeight = footerHeight;\n    } else {\n      this.footerHeight = 0;\n      this.scrollbarHeight = Math.max(tableHeight - bodyElem.clientHeight, 0);\n      this.overflowX = tableWidth > bodyWidth;\n    }\n    this.updateHeight();\n    this.parentHeight = Math.max(this.headerHeight + this.footerHeight + 20, this.getParentHeight());\n    if (this.overflowX) {\n      this.checkScrolling();\n    }\n  },\n  updateHeight: function updateHeight() {\n    this.customHeight = calcHeight(this, 'height');\n    this.customMaxHeight = calcHeight(this, 'maxHeight');\n  },\n  updateStyle: function updateStyle() {\n    var _this25 = this;\n    var $refs = this.$refs,\n      isGroup = this.isGroup,\n      fullColumnIdData = this.fullColumnIdData,\n      tableColumn = this.tableColumn,\n      customHeight = this.customHeight,\n      customMaxHeight = this.customMaxHeight,\n      border = this.border,\n      headerHeight = this.headerHeight,\n      showFooter = this.showFooter,\n      allColumnOverflow = this.showOverflow,\n      allColumnHeaderOverflow = this.showHeaderOverflow,\n      allColumnFooterOverflow = this.showFooterOverflow,\n      footerHeight = this.footerHeight,\n      tableHeight = this.tableHeight,\n      tableWidth = this.tableWidth,\n      scrollbarHeight = this.scrollbarHeight,\n      scrollbarWidth = this.scrollbarWidth,\n      scrollXLoad = this.scrollXLoad,\n      scrollYLoad = this.scrollYLoad,\n      cellOffsetWidth = this.cellOffsetWidth,\n      columnStore = this.columnStore,\n      elemStore = this.elemStore,\n      editStore = this.editStore,\n      currentRow = this.currentRow,\n      mouseConfig = this.mouseConfig,\n      keyboardConfig = this.keyboardConfig,\n      keyboardOpts = this.keyboardOpts,\n      spanMethod = this.spanMethod,\n      mergeList = this.mergeList,\n      mergeFooterList = this.mergeFooterList,\n      footerSpanMethod = this.footerSpanMethod,\n      isAllOverflow = this.isAllOverflow,\n      visibleColumn = this.visibleColumn;\n    var containerList = ['main', 'left', 'right'];\n    var emptyPlaceholderElem = $refs.emptyPlaceholder;\n    var bodyWrapperElem = elemStore['main-body-wrapper'];\n    if (emptyPlaceholderElem) {\n      emptyPlaceholderElem.style.top = \"\".concat(headerHeight, \"px\");\n      emptyPlaceholderElem.style.height = bodyWrapperElem ? \"\".concat(bodyWrapperElem.offsetHeight - scrollbarHeight, \"px\") : '';\n    }\n    if (customHeight > 0) {\n      if (showFooter) {\n        customHeight += scrollbarHeight;\n      }\n    }\n    containerList.forEach(function (name, index) {\n      var fixedType = index > 0 ? name : '';\n      var layoutList = ['header', 'body', 'footer'];\n      var fixedColumn = columnStore[\"\".concat(fixedType, \"List\")];\n      var fixedWrapperElem = $refs[\"\".concat(fixedType, \"Container\")];\n      layoutList.forEach(function (layout) {\n        var wrapperElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-wrapper\")];\n        var tableElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-table\")];\n        if (layout === 'header') {\n          // 表头体样式处理\n          // 横向滚动渲染\n          var tWidth = tableWidth;\n          var renderColumnList = tableColumn;\n          if (isGroup) {\n            renderColumnList = visibleColumn;\n          } else {\n            // 如果是使用优化模式\n            if (fixedType) {\n              if (scrollXLoad || allColumnHeaderOverflow) {\n                renderColumnList = fixedColumn;\n              }\n            }\n          }\n          tWidth = renderColumnList.reduce(function (previous, column) {\n            return previous + column.renderWidth;\n          }, 0);\n          if (tableElem) {\n            tableElem.style.width = tWidth ? \"\".concat(tWidth + scrollbarWidth, \"px\") : '';\n            // 修复 IE 中高度无法自适应问题\n            if (_dom.browse.msie) {\n              _xeUtils.default.arrayEach(tableElem.querySelectorAll('.vxe-resizable'), function (resizeElem) {\n                resizeElem.style.height = \"\".concat(resizeElem.parentNode.offsetHeight, \"px\");\n              });\n            }\n          }\n          var repairElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-repair\")];\n          if (repairElem) {\n            repairElem.style.width = \"\".concat(tableWidth, \"px\");\n          }\n          var listElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-list\")];\n          if (isGroup && listElem) {\n            _xeUtils.default.arrayEach(listElem.querySelectorAll('.col--group'), function (thElem) {\n              var colNode = _this25.getColumnNode(thElem);\n              if (colNode) {\n                var column = colNode.item;\n                var showHeaderOverflow = column.showHeaderOverflow;\n                var cellOverflow = _xeUtils.default.isBoolean(showHeaderOverflow) ? showHeaderOverflow : allColumnHeaderOverflow;\n                var showEllipsis = cellOverflow === 'ellipsis';\n                var showTitle = cellOverflow === 'title';\n                var showTooltip = cellOverflow === true || cellOverflow === 'tooltip';\n                var hasEllipsis = showTitle || showTooltip || showEllipsis;\n                var childWidth = 0;\n                var countChild = 0;\n                if (hasEllipsis) {\n                  _xeUtils.default.eachTree(column.children, function (item) {\n                    if (!item.children || !column.children.length) {\n                      countChild++;\n                    }\n                    childWidth += item.renderWidth;\n                  });\n                }\n                thElem.style.width = hasEllipsis ? \"\".concat(childWidth - countChild - (border ? 2 : 0), \"px\") : '';\n              }\n            });\n          }\n        } else if (layout === 'body') {\n          var emptyBlockElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-emptyBlock\")];\n          if (isNodeElement(wrapperElem)) {\n            if (customMaxHeight) {\n              wrapperElem.style.maxHeight = \"\".concat(fixedType ? customMaxHeight - headerHeight - (showFooter ? 0 : scrollbarHeight) : customMaxHeight - headerHeight, \"px\");\n            } else {\n              if (customHeight > 0) {\n                wrapperElem.style.height = \"\".concat(fixedType ? (customHeight > 0 ? customHeight - headerHeight - footerHeight : tableHeight) - (showFooter ? 0 : scrollbarHeight) : customHeight - headerHeight - footerHeight, \"px\");\n              } else {\n                wrapperElem.style.height = '';\n              }\n            }\n          }\n\n          // 如果是固定列\n          if (fixedWrapperElem) {\n            var isRightFixed = fixedType === 'right';\n            var _fixedColumn = columnStore[\"\".concat(fixedType, \"List\")];\n            if (isNodeElement(wrapperElem)) {\n              wrapperElem.style.top = \"\".concat(headerHeight, \"px\");\n            }\n            fixedWrapperElem.style.height = \"\".concat((customHeight > 0 ? customHeight - headerHeight - footerHeight : tableHeight) + headerHeight + footerHeight - scrollbarHeight * (showFooter ? 2 : 1), \"px\");\n            fixedWrapperElem.style.width = \"\".concat(_fixedColumn.reduce(function (previous, column) {\n              return previous + column.renderWidth;\n            }, isRightFixed ? scrollbarWidth : 0), \"px\");\n          }\n          var _tWidth = tableWidth;\n          var _renderColumnList = tableColumn;\n\n          // 如果是使用优化模式\n          if (fixedType) {\n            if (scrollXLoad || scrollYLoad || (allColumnOverflow ? isAllOverflow : allColumnOverflow)) {\n              if (!mergeList.length && !spanMethod && !(keyboardConfig && keyboardOpts.isMerge)) {\n                _renderColumnList = fixedColumn;\n              } else {\n                _renderColumnList = visibleColumn;\n              }\n            } else {\n              _renderColumnList = visibleColumn;\n            }\n          }\n          _tWidth = _renderColumnList.reduce(function (previous, column) {\n            return previous + column.renderWidth;\n          }, 0);\n          if (tableElem) {\n            tableElem.style.width = _tWidth ? \"\".concat(_tWidth, \"px\") : '';\n            // 兼容性处理\n            tableElem.style.paddingRight = scrollbarWidth && fixedType && (_dom.browse['-moz'] || _dom.browse.safari) ? \"\".concat(scrollbarWidth, \"px\") : '';\n          }\n          if (emptyBlockElem) {\n            emptyBlockElem.style.width = _tWidth ? \"\".concat(_tWidth, \"px\") : '';\n          }\n        } else if (layout === 'footer') {\n          var _tWidth2 = tableWidth;\n          var _renderColumnList2 = tableColumn;\n\n          // 如果是使用优化模式\n          if (fixedType) {\n            if (scrollXLoad || allColumnFooterOverflow) {\n              if (!mergeFooterList.length || !footerSpanMethod) {\n                _renderColumnList2 = fixedColumn;\n              } else {\n                _renderColumnList2 = visibleColumn;\n              }\n            } else {\n              _renderColumnList2 = visibleColumn;\n            }\n          }\n          _tWidth2 = _renderColumnList2.reduce(function (previous, column) {\n            return previous + column.renderWidth;\n          }, 0);\n          if (isNodeElement(wrapperElem)) {\n            // 如果是固定列\n            if (fixedWrapperElem) {\n              wrapperElem.style.top = \"\".concat(customHeight > 0 ? customHeight - footerHeight : tableHeight + headerHeight, \"px\");\n            }\n            wrapperElem.style.marginTop = \"\".concat(-scrollbarHeight, \"px\");\n          }\n          if (tableElem) {\n            tableElem.style.width = _tWidth2 ? \"\".concat(_tWidth2 + scrollbarWidth, \"px\") : '';\n          }\n        }\n        var colgroupElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-colgroup\")];\n        if (colgroupElem) {\n          _xeUtils.default.arrayEach(colgroupElem.children, function (colElem) {\n            var colid = colElem.getAttribute('name');\n            if (colid === 'col_gutter') {\n              colElem.style.width = \"\".concat(scrollbarWidth, \"px\");\n            }\n            if (fullColumnIdData[colid]) {\n              var column = fullColumnIdData[colid].column;\n              var showHeaderOverflow = column.showHeaderOverflow,\n                showFooterOverflow = column.showFooterOverflow,\n                showOverflow = column.showOverflow;\n              var cellOverflow;\n              colElem.style.width = \"\".concat(column.renderWidth, \"px\");\n              if (layout === 'header') {\n                cellOverflow = _xeUtils.default.isUndefined(showHeaderOverflow) || _xeUtils.default.isNull(showHeaderOverflow) ? allColumnHeaderOverflow : showHeaderOverflow;\n              } else if (layout === 'footer') {\n                cellOverflow = _xeUtils.default.isUndefined(showFooterOverflow) || _xeUtils.default.isNull(showFooterOverflow) ? allColumnFooterOverflow : showFooterOverflow;\n              } else {\n                cellOverflow = _xeUtils.default.isUndefined(showOverflow) || _xeUtils.default.isNull(showOverflow) ? allColumnOverflow : showOverflow;\n              }\n              var showEllipsis = cellOverflow === 'ellipsis';\n              var showTitle = cellOverflow === 'title';\n              var showTooltip = cellOverflow === true || cellOverflow === 'tooltip';\n              var hasEllipsis = showTitle || showTooltip || showEllipsis;\n              var _listElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-list\")];\n              // 滚动的渲染不支持动态行高\n              if (layout === 'header' || layout === 'footer') {\n                if (scrollXLoad && !hasEllipsis) {\n                  hasEllipsis = true;\n                }\n              } else {\n                if ((scrollXLoad || scrollYLoad) && !hasEllipsis) {\n                  hasEllipsis = true;\n                }\n              }\n              if (_listElem) {\n                _xeUtils.default.arrayEach(_listElem.querySelectorAll(\".\".concat(column.id)), function (elem) {\n                  var colspan = parseInt(elem.getAttribute('colspan') || 1);\n                  var cellElem = elem.querySelector('.vxe-cell');\n                  var colWidth = column.renderWidth;\n                  if (cellElem) {\n                    if (colspan > 1) {\n                      var columnIndex = _this25.getColumnIndex(column);\n                      for (var _index = 1; _index < colspan; _index++) {\n                        var nextColumn = _this25.getColumns(columnIndex + _index);\n                        if (nextColumn) {\n                          colWidth += nextColumn.renderWidth;\n                        }\n                      }\n                    }\n                    cellElem.style.width = hasEllipsis ? \"\".concat(colWidth - cellOffsetWidth * colspan, \"px\") : '';\n                  }\n                });\n              }\n            }\n          });\n        }\n      });\n    });\n    if (currentRow) {\n      this.setCurrentRow(currentRow);\n    }\n    if (mouseConfig && mouseConfig.selected && editStore.selected.row && editStore.selected.column) {\n      this.addColSdCls();\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 处理固定列的显示状态\r\n   */\n  checkScrolling: function checkScrolling() {\n    var _this$$refs = this.$refs,\n      tableBody = _this$$refs.tableBody,\n      leftContainer = _this$$refs.leftContainer,\n      rightContainer = _this$$refs.rightContainer;\n    var bodyElem = tableBody ? tableBody.$el : null;\n    if (bodyElem) {\n      if (leftContainer) {\n        _dom.default[bodyElem.scrollLeft > 0 ? 'addClass' : 'removeClass'](leftContainer, 'scrolling--middle');\n      }\n      if (rightContainer) {\n        _dom.default[bodyElem.clientWidth < bodyElem.scrollWidth - Math.ceil(bodyElem.scrollLeft) ? 'addClass' : 'removeClass'](rightContainer, 'scrolling--middle');\n      }\n    }\n  },\n  preventEvent: function preventEvent(evnt, type, args, next, end) {\n    var _this26 = this;\n    var evntList = _vXETable.default.interceptor.get(type);\n    var rest;\n    if (!evntList.some(function (func) {\n      return func(Object.assign({\n        $grid: _this26.$xegrid,\n        $table: _this26,\n        $event: evnt\n      }, args)) === false;\n    })) {\n      if (next) {\n        rest = next();\n      }\n    }\n    if (end) {\n      end();\n    }\n    return rest;\n  },\n  /**\r\n   * 全局按下事件处理\r\n   */\n  handleGlobalMousedownEvent: function handleGlobalMousedownEvent(evnt) {\n    var _this27 = this;\n    var $el = this.$el,\n      $refs = this.$refs,\n      $xegrid = this.$xegrid,\n      $toolbar = this.$toolbar,\n      mouseConfig = this.mouseConfig,\n      editStore = this.editStore,\n      ctxMenuStore = this.ctxMenuStore,\n      editOpts = this.editOpts,\n      filterStore = this.filterStore,\n      getRowNode = this.getRowNode;\n    var actived = editStore.actived;\n    var ctxWrapper = $refs.ctxWrapper,\n      filterWrapper = $refs.filterWrapper,\n      validTip = $refs.validTip;\n    if (filterWrapper) {\n      if (getEventTargetNode(evnt, $el, 'vxe-cell--filter').flag) {\n        // 如果点击了筛选按钮\n      } else if (getEventTargetNode(evnt, filterWrapper.$el).flag) {\n        // 如果点击筛选容器\n      } else {\n        if (!getEventTargetNode(evnt, document.body, 'vxe-table--ignore-clear').flag) {\n          this.preventEvent(evnt, 'event.clearFilter', filterStore.args, this.closeFilter);\n        }\n      }\n    }\n    // 如果已激活了编辑状态\n    if (actived.row) {\n      if (!(editOpts.autoClear === false)) {\n        // 如果是激活状态，点击了单元格之外\n        var cell = actived.args.cell;\n        if (!cell || !getEventTargetNode(evnt, cell).flag) {\n          if (validTip && getEventTargetNode(evnt, validTip.$el).flag) {\n            // 如果是激活状态，且点击了校验提示框\n          } else if (!this.lastCallTime || this.lastCallTime + 50 < Date.now()) {\n            if (!getEventTargetNode(evnt, document.body, 'vxe-table--ignore-clear').flag) {\n              // 如果手动调用了激活单元格，避免触发源被移除后导致重复关闭\n              this.preventEvent(evnt, 'event.clearActived', actived.args, function () {\n                var isClearActived;\n                if (editOpts.mode === 'row') {\n                  var rowNode = getEventTargetNode(evnt, $el, 'vxe-body--row');\n                  // row 方式，如果点击了不同行\n                  isClearActived = rowNode.flag ? getRowNode(rowNode.targetElem).item !== actived.args.row : false;\n                } else {\n                  // cell 方式，如果是非编辑列\n                  isClearActived = !getEventTargetNode(evnt, $el, 'col--edit').flag;\n                }\n                // 如果点击表头行，则清除激活状态\n                if (!isClearActived) {\n                  isClearActived = getEventTargetNode(evnt, $el, 'vxe-header--row').flag;\n                }\n                // 如果点击表尾行，则清除激活状态\n                if (!isClearActived) {\n                  isClearActived = getEventTargetNode(evnt, $el, 'vxe-footer--row').flag;\n                }\n                // 如果固定了高度且点击了行之外的空白处，则清除激活状态\n                if (!isClearActived && _this27.height && !_this27.overflowY) {\n                  var bodyWrapperElem = evnt.target;\n                  if (hasClass(bodyWrapperElem, 'vxe-table--body-wrapper')) {\n                    isClearActived = evnt.offsetY < bodyWrapperElem.clientHeight;\n                  }\n                }\n                if (isClearActived ||\n                // 如果点击了当前表格之外\n                !getEventTargetNode(evnt, $el).flag) {\n                  setTimeout(function () {\n                    return _this27.clearEdit(evnt);\n                  });\n                }\n              });\n            }\n          }\n        }\n      }\n    } else if (mouseConfig) {\n      if (!getEventTargetNode(evnt, $el).flag && !($xegrid && getEventTargetNode(evnt, $xegrid.$el).flag) && !(ctxWrapper && getEventTargetNode(evnt, ctxWrapper.$el).flag) && !($toolbar && getEventTargetNode(evnt, $toolbar.$el).flag)) {\n        this.clearSelected();\n        if (!getEventTargetNode(evnt, document.body, 'vxe-table--ignore-areas-clear').flag) {\n          this.preventEvent(evnt, 'event.clearAreas', {}, function () {\n            _this27.clearCellAreas();\n            _this27.clearCopyCellArea();\n          });\n        }\n      }\n    }\n    // 如果配置了快捷菜单且，点击了其他地方则关闭\n    if (ctxMenuStore.visible && ctxWrapper && !getEventTargetNode(evnt, ctxWrapper.$el).flag) {\n      this.closeMenu();\n    }\n    // 最后激活的表格\n    this.isActivated = getEventTargetNode(evnt, ($xegrid || this).$el).flag;\n  },\n  /**\r\n   * 窗口失焦事件处理\r\n   */\n  handleGlobalBlurEvent: function handleGlobalBlurEvent() {\n    this.closeFilter();\n    this.closeMenu();\n  },\n  /**\r\n   * 全局滚动事件\r\n   */\n  handleGlobalMousewheelEvent: function handleGlobalMousewheelEvent() {\n    this.closeTooltip();\n    this.closeMenu();\n  },\n  /**\r\n   * 表格键盘事件\r\n   */\n  keydownEvent: function keydownEvent(evnt) {\n    var _this28 = this;\n    var filterStore = this.filterStore,\n      ctxMenuStore = this.ctxMenuStore,\n      editStore = this.editStore,\n      keyboardConfig = this.keyboardConfig,\n      mouseConfig = this.mouseConfig,\n      mouseOpts = this.mouseOpts,\n      keyboardOpts = this.keyboardOpts;\n    var actived = editStore.actived;\n    var keyCode = evnt.keyCode;\n    var isEsc = keyCode === 27;\n    if (isEsc) {\n      this.preventEvent(evnt, 'event.keydown', null, function () {\n        _this28.emitEvent('keydown-start', {}, evnt);\n        if (keyboardConfig && mouseConfig && mouseOpts.area && _this28.handleKeyboardEvent) {\n          _this28.handleKeyboardEvent(evnt);\n        } else if (actived.row || filterStore.visible || ctxMenuStore.visible) {\n          evnt.stopPropagation();\n          // 如果按下了 Esc 键，关闭快捷菜单、筛选\n          _this28.closeFilter();\n          _this28.closeMenu();\n          if (keyboardConfig && keyboardOpts.isEsc) {\n            // 如果是激活编辑状态，则取消编辑\n            if (actived.row) {\n              var params = actived.args;\n              _this28.clearEdit(evnt);\n              // 如果配置了选中功能，则为选中状态\n              if (mouseConfig && mouseOpts.selected) {\n                _this28.$nextTick(function () {\n                  return _this28.handleSelected(params, evnt);\n                });\n              }\n            }\n          }\n        }\n        _this28.emitEvent('keydown', {}, evnt);\n        _this28.emitEvent('keydown-end', {}, evnt);\n      });\n    }\n  },\n  /**\r\n   * 全局键盘事件\r\n   */\n  handleGlobalKeydownEvent: function handleGlobalKeydownEvent(evnt) {\n    var _this29 = this;\n    // 该行为只对当前激活的表格有效\n    if (this.isActivated) {\n      this.preventEvent(evnt, 'event.keydown', null, function () {\n        var filterStore = _this29.filterStore,\n          isCtxMenu = _this29.isCtxMenu,\n          ctxMenuStore = _this29.ctxMenuStore,\n          editStore = _this29.editStore,\n          editOpts = _this29.editOpts,\n          editConfig = _this29.editConfig,\n          mouseConfig = _this29.mouseConfig,\n          mouseOpts = _this29.mouseOpts,\n          keyboardConfig = _this29.keyboardConfig,\n          keyboardOpts = _this29.keyboardOpts,\n          treeConfig = _this29.treeConfig,\n          treeOpts = _this29.treeOpts,\n          highlightCurrentRow = _this29.highlightCurrentRow,\n          currentRow = _this29.currentRow,\n          bodyCtxMenu = _this29.bodyCtxMenu,\n          rowOpts = _this29.rowOpts;\n        var selected = editStore.selected,\n          actived = editStore.actived;\n        var keyCode = evnt.keyCode;\n        var isBack = keyCode === 8;\n        var isTab = keyCode === 9;\n        var isEnter = keyCode === 13;\n        var isEsc = keyCode === 27;\n        var isSpacebar = keyCode === 32;\n        var isLeftArrow = keyCode === 37;\n        var isUpArrow = keyCode === 38;\n        var isRightArrow = keyCode === 39;\n        var isDwArrow = keyCode === 40;\n        var isDel = keyCode === 46;\n        var isF2 = keyCode === 113;\n        var isContextMenu = keyCode === 93;\n        var hasMetaKey = evnt.metaKey;\n        var hasCtrlKey = evnt.ctrlKey;\n        var hasShiftKey = evnt.shiftKey;\n        var hasAltKey = evnt.altKey;\n        var operArrow = isLeftArrow || isUpArrow || isRightArrow || isDwArrow;\n        var operCtxMenu = isCtxMenu && ctxMenuStore.visible && (isEnter || isSpacebar || operArrow);\n        var isEditStatus = (0, _utils.isEnableConf)(editConfig) && actived.column && actived.row;\n        var params;\n        if (filterStore.visible) {\n          if (isEsc) {\n            _this29.closeFilter();\n          }\n          return;\n        }\n        if (operCtxMenu) {\n          // 如果配置了右键菜单; 支持方向键操作、回车\n          evnt.preventDefault();\n          if (ctxMenuStore.showChild && hasChildrenList(ctxMenuStore.selected)) {\n            _this29.moveCtxMenu(evnt, keyCode, ctxMenuStore, 'selectChild', 37, false, ctxMenuStore.selected.children);\n          } else {\n            _this29.moveCtxMenu(evnt, keyCode, ctxMenuStore, 'selected', 39, true, _this29.ctxMenuList);\n          }\n        } else if (keyboardConfig && mouseConfig && mouseOpts.area && _this29.handleKeyboardEvent) {\n          _this29.handleKeyboardEvent(evnt);\n        } else if (keyboardConfig && isSpacebar && keyboardOpts.isChecked && selected.row && selected.column && (selected.column.type === 'checkbox' || selected.column.type === 'radio')) {\n          // 空格键支持选中复选框\n          evnt.preventDefault();\n          if (selected.column.type === 'checkbox') {\n            _this29.handleToggleCheckRowEvent(evnt, selected.args);\n          } else {\n            _this29.triggerRadioRowEvent(evnt, selected.args);\n          }\n        } else if (isF2 && (0, _utils.isEnableConf)(editConfig)) {\n          if (!isEditStatus) {\n            // 如果按下了 F2 键\n            if (selected.row && selected.column) {\n              evnt.stopPropagation();\n              evnt.preventDefault();\n              _this29.handleActived(selected.args, evnt);\n            }\n          }\n        } else if (isContextMenu) {\n          // 如果按下上下文键\n          _this29._keyCtx = selected.row && selected.column && bodyCtxMenu.length;\n          clearTimeout(_this29.keyCtxTimeout);\n          _this29.keyCtxTimeout = setTimeout(function () {\n            _this29._keyCtx = false;\n          }, 1000);\n        } else if (isEnter && !hasAltKey && keyboardConfig && keyboardOpts.isEnter && (selected.row || actived.row || treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow)) {\n          // 退出选中\n          if (hasCtrlKey) {\n            // 如果是激活编辑状态，则取消编辑\n            if (actived.row) {\n              params = actived.args;\n              _this29.clearEdit(evnt);\n              // 如果配置了选中功能，则为选中状态\n              if (mouseConfig && mouseOpts.selected) {\n                _this29.$nextTick(function () {\n                  return _this29.handleSelected(params, evnt);\n                });\n              }\n            }\n          } else {\n            // 如果是激活状态，退则出到上一行/下一行\n            if (selected.row || actived.row) {\n              var targetArgs = selected.row ? selected.args : actived.args;\n              if (hasShiftKey) {\n                if (keyboardOpts.enterToTab) {\n                  _this29.moveTabSelected(targetArgs, hasShiftKey, evnt);\n                } else {\n                  _this29.moveSelected(targetArgs, isLeftArrow, true, isRightArrow, false, evnt);\n                }\n              } else {\n                if (keyboardOpts.enterToTab) {\n                  _this29.moveTabSelected(targetArgs, hasShiftKey, evnt);\n                } else {\n                  _this29.moveSelected(targetArgs, isLeftArrow, false, isRightArrow, true, evnt);\n                }\n              }\n            } else if (treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow) {\n              // 如果是树形表格当前行回车移动到子节点\n              var childrens = currentRow[treeOpts.children];\n              if (childrens && childrens.length) {\n                evnt.preventDefault();\n                var targetRow = childrens[0];\n                params = {\n                  $table: _this29,\n                  row: targetRow\n                };\n                _this29.setTreeExpand(currentRow, true).then(function () {\n                  return _this29.scrollToRow(targetRow);\n                }).then(function () {\n                  return _this29.triggerCurrentRowEvent(evnt, params);\n                });\n              }\n            }\n          }\n        } else if (operArrow && keyboardConfig && keyboardOpts.isArrow) {\n          if (!isEditStatus) {\n            // 如果按下了方向键\n            if (selected.row && selected.column) {\n              _this29.moveSelected(selected.args, isLeftArrow, isUpArrow, isRightArrow, isDwArrow, evnt);\n            } else if ((isUpArrow || isDwArrow) && (rowOpts.isCurrent || highlightCurrentRow)) {\n              // 当前行按键上下移动\n              _this29.moveCurrentRow(isUpArrow, isDwArrow, evnt);\n            }\n          }\n        } else if (isTab && keyboardConfig && keyboardOpts.isTab) {\n          // 如果按下了 Tab 键切换\n          if (selected.row || selected.column) {\n            _this29.moveTabSelected(selected.args, hasShiftKey, evnt);\n          } else if (actived.row || actived.column) {\n            _this29.moveTabSelected(actived.args, hasShiftKey, evnt);\n          }\n        } else if (keyboardConfig && (isDel || (treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow ? isBack && keyboardOpts.isArrow : isBack))) {\n          if (!isEditStatus) {\n            var delMethod = keyboardOpts.delMethod,\n              backMethod = keyboardOpts.backMethod;\n            // 如果是删除键\n            if (keyboardOpts.isDel && (selected.row || selected.column)) {\n              if (delMethod) {\n                delMethod({\n                  row: selected.row,\n                  rowIndex: _this29.getRowIndex(selected.row),\n                  column: selected.column,\n                  columnIndex: _this29.getColumnIndex(selected.column),\n                  $table: _this29\n                });\n              } else {\n                setCellValue(selected.row, selected.column, null);\n              }\n              if (isBack) {\n                if (backMethod) {\n                  backMethod({\n                    row: selected.row,\n                    rowIndex: _this29.getRowIndex(selected.row),\n                    column: selected.column,\n                    columnIndex: _this29.getColumnIndex(selected.column),\n                    $table: _this29\n                  });\n                } else {\n                  _this29.handleActived(selected.args, evnt);\n                }\n              } else if (isDel) {\n                // 如果按下 del 键，更新表尾数据\n                _this29.updateFooter();\n              }\n            } else if (isBack && keyboardOpts.isArrow && treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow) {\n              // 如果树形表格回退键关闭当前行返回父节点\n              var _XEUtils$findTree = _xeUtils.default.findTree(_this29.afterFullData, function (item) {\n                  return item === currentRow;\n                }, treeOpts),\n                parentRow = _XEUtils$findTree.parent;\n              if (parentRow) {\n                evnt.preventDefault();\n                params = {\n                  $table: _this29,\n                  row: parentRow\n                };\n                _this29.setTreeExpand(parentRow, false).then(function () {\n                  return _this29.scrollToRow(parentRow);\n                }).then(function () {\n                  return _this29.triggerCurrentRowEvent(evnt, params);\n                });\n              }\n            }\n          }\n        } else if (keyboardConfig && keyboardOpts.isEdit && !hasCtrlKey && !hasMetaKey && (isSpacebar || keyCode >= 48 && keyCode <= 57 || keyCode >= 65 && keyCode <= 90 || keyCode >= 96 && keyCode <= 111 || keyCode >= 186 && keyCode <= 192 || keyCode >= 219 && keyCode <= 222)) {\n          var editMethod = keyboardOpts.editMethod;\n          // 启用编辑后，空格键功能将失效\n          // if (isSpacebar) {\n          //   evnt.preventDefault()\n          // }\n          // 如果是按下非功能键之外允许直接编辑\n          if (selected.column && selected.row && (0, _utils.isEnableConf)(selected.column.editRender)) {\n            var beforeEditMethod = editOpts.beforeEditMethod || editOpts.activeMethod;\n            if (!beforeEditMethod || beforeEditMethod(_objectSpread(_objectSpread({}, selected.args), {}, {\n              $table: _this29\n            }))) {\n              if (editMethod) {\n                editMethod({\n                  row: selected.row,\n                  rowIndex: _this29.getRowIndex(selected.row),\n                  column: selected.column,\n                  columnIndex: _this29.getColumnIndex(selected.column),\n                  $table: _this29\n                });\n              } else {\n                setCellValue(selected.row, selected.column, null);\n                _this29.handleActived(selected.args, evnt);\n              }\n            }\n          }\n        }\n        _this29.emitEvent('keydown', {}, evnt);\n      });\n    }\n  },\n  handleGlobalPasteEvent: function handleGlobalPasteEvent(evnt) {\n    var isActivated = this.isActivated,\n      keyboardConfig = this.keyboardConfig,\n      keyboardOpts = this.keyboardOpts,\n      mouseConfig = this.mouseConfig,\n      mouseOpts = this.mouseOpts,\n      editStore = this.editStore,\n      filterStore = this.filterStore;\n    var actived = editStore.actived;\n    if (isActivated && !filterStore.visible) {\n      if (!(actived.row || actived.column)) {\n        if (keyboardConfig && keyboardOpts.isClip && mouseConfig && mouseOpts.area && this.handlePasteCellAreaEvent) {\n          this.handlePasteCellAreaEvent(evnt);\n        }\n      }\n      this.emitEvent('paste', {}, evnt);\n    }\n  },\n  handleGlobalCopyEvent: function handleGlobalCopyEvent(evnt) {\n    var isActivated = this.isActivated,\n      keyboardConfig = this.keyboardConfig,\n      keyboardOpts = this.keyboardOpts,\n      mouseConfig = this.mouseConfig,\n      mouseOpts = this.mouseOpts,\n      editStore = this.editStore,\n      filterStore = this.filterStore;\n    var actived = editStore.actived;\n    if (isActivated && !filterStore.visible) {\n      if (!(actived.row || actived.column)) {\n        if (keyboardConfig && keyboardOpts.isClip && mouseConfig && mouseOpts.area && this.handleCopyCellAreaEvent) {\n          this.handleCopyCellAreaEvent(evnt);\n        }\n      }\n      this.emitEvent('copy', {}, evnt);\n    }\n  },\n  handleGlobalCutEvent: function handleGlobalCutEvent(evnt) {\n    var isActivated = this.isActivated,\n      keyboardConfig = this.keyboardConfig,\n      keyboardOpts = this.keyboardOpts,\n      mouseConfig = this.mouseConfig,\n      mouseOpts = this.mouseOpts,\n      editStore = this.editStore,\n      filterStore = this.filterStore;\n    var actived = editStore.actived;\n    if (isActivated && !filterStore.visible) {\n      if (!(actived.row || actived.column)) {\n        if (keyboardConfig && keyboardOpts.isClip && mouseConfig && mouseOpts.area && this.handleCutCellAreaEvent) {\n          this.handleCutCellAreaEvent(evnt);\n        }\n      }\n      this.emitEvent('cut', {}, evnt);\n    }\n  },\n  handleGlobalResizeEvent: function handleGlobalResizeEvent() {\n    this.closeMenu();\n    this.updateCellAreas();\n    this.recalculate(true);\n  },\n  handleTargetEnterEvent: function handleTargetEnterEvent(isClear) {\n    var $tooltip = this.$refs.tooltip;\n    clearTimeout(this.tooltipTimeout);\n    if (isClear) {\n      this.closeTooltip();\n    } else {\n      if ($tooltip) {\n        $tooltip.setActived(true);\n      }\n    }\n  },\n  handleTargetLeaveEvent: function handleTargetLeaveEvent() {\n    var _this30 = this;\n    var tooltipOpts = this.tooltipOpts;\n    var $tooltip = this.$refs.tooltip;\n    if ($tooltip) {\n      $tooltip.setActived(false);\n    }\n    if (tooltipOpts.enterable) {\n      this.tooltipTimeout = setTimeout(function () {\n        $tooltip = _this30.$refs.tooltip;\n        if ($tooltip && !$tooltip.isActived()) {\n          _this30.closeTooltip();\n        }\n      }, tooltipOpts.leaveDelay);\n    } else {\n      this.closeTooltip();\n    }\n  },\n  triggerHeaderHelpEvent: function triggerHeaderHelpEvent(evnt, params) {\n    var column = params.column;\n    var titlePrefix = column.titlePrefix || column.titleHelp;\n    if (titlePrefix.content || titlePrefix.message) {\n      var $refs = this.$refs,\n        tooltipStore = this.tooltipStore;\n      var content = (0, _utils.getFuncText)(titlePrefix.content || titlePrefix.message);\n      this.handleTargetEnterEvent(true);\n      tooltipStore.visible = true;\n      tooltipStore.currOpts = _objectSpread(_objectSpread({}, titlePrefix), {}, {\n        content: null\n      });\n      this.$nextTick(function () {\n        var $tooltip = $refs.tooltip;\n        if ($tooltip) {\n          $tooltip.open(evnt.currentTarget, content);\n        }\n      });\n    }\n  },\n  /**\r\n   * 触发表头 tooltip 事件\r\n   */\n  triggerHeaderTooltipEvent: function triggerHeaderTooltipEvent(evnt, params) {\n    var tooltipStore = this.tooltipStore;\n    var column = params.column;\n    var titleElem = evnt.currentTarget;\n    this.handleTargetEnterEvent(tooltipStore.column !== column || tooltipStore.row);\n    if (tooltipStore.column !== column || !tooltipStore.visible) {\n      this.handleTooltip(evnt, titleElem, titleElem, null, params);\n    }\n  },\n  /**\r\n   * 触发单元格 tooltip 事件\r\n   */\n  triggerBodyTooltipEvent: function triggerBodyTooltipEvent(evnt, params) {\n    var editConfig = this.editConfig,\n      editOpts = this.editOpts,\n      editStore = this.editStore,\n      tooltipStore = this.tooltipStore;\n    var actived = editStore.actived;\n    var row = params.row,\n      column = params.column;\n    var cell = evnt.currentTarget;\n    this.handleTargetEnterEvent(tooltipStore.column !== column || tooltipStore.row !== row);\n    if ((0, _utils.isEnableConf)(editConfig)) {\n      if (editOpts.mode === 'row' && actived.row === row || actived.row === row && actived.column === column) {\n        return;\n      }\n    }\n    if (tooltipStore.column !== column || tooltipStore.row !== row || !tooltipStore.visible) {\n      var overflowElem;\n      var tipElem;\n      if (column.treeNode) {\n        overflowElem = cell.querySelector('.vxe-tree-cell');\n        if (column.type === 'html') {\n          tipElem = cell.querySelector('.vxe-cell--html');\n        }\n      } else {\n        tipElem = cell.querySelector(column.type === 'html' ? '.vxe-cell--html' : '.vxe-cell--label');\n      }\n      this.handleTooltip(evnt, cell, overflowElem || cell.children[0], tipElem, params);\n    }\n  },\n  /**\r\n   * 触发表尾 tooltip 事件\r\n   */\n  triggerFooterTooltipEvent: function triggerFooterTooltipEvent(evnt, params) {\n    var column = params.column;\n    var tooltipStore = this.tooltipStore;\n    var cell = evnt.currentTarget;\n    this.handleTargetEnterEvent(true);\n    if (tooltipStore.column !== column || !tooltipStore.visible) {\n      this.handleTooltip(evnt, cell, cell.querySelector('.vxe-cell--item') || cell.children[0], null, params);\n    }\n  },\n  /**\r\n   * 处理显示 tooltip\r\n   * @param {Event} evnt 事件\r\n   * @param {ColumnInfo} column 列配置\r\n   * @param {Row} row 行对象\r\n   */\n  handleTooltip: function handleTooltip(evnt, cell, overflowElem, tipElem, params) {\n    params.cell = cell;\n    var $refs = this.$refs,\n      tooltipOpts = this.tooltipOpts,\n      tooltipStore = this.tooltipStore;\n    var column = params.column,\n      row = params.row;\n    var showAll = tooltipOpts.showAll,\n      enabled = tooltipOpts.enabled,\n      contentMethod = tooltipOpts.contentMethod;\n    var customContent = contentMethod ? contentMethod(params) : null;\n    var useCustom = contentMethod && !_xeUtils.default.eqNull(customContent);\n    var content = useCustom ? customContent : (column.type === 'html' ? overflowElem.innerText : overflowElem.textContent).trim();\n    var isCellOverflow = overflowElem.scrollWidth > overflowElem.clientWidth;\n    if (content && (showAll || enabled || useCustom || isCellOverflow)) {\n      Object.assign(tooltipStore, {\n        row: row,\n        column: column,\n        visible: true,\n        currOpts: null\n      });\n      this.$nextTick(function () {\n        var $tooltip = $refs.tooltip;\n        if ($tooltip) {\n          $tooltip.open(isCellOverflow ? overflowElem : tipElem || overflowElem, _utils.default.formatText(content));\n        }\n      });\n    }\n    return this.$nextTick();\n  },\n  openTooltip: function openTooltip(target, content) {\n    var $refs = this.$refs;\n    var commTip = $refs.commTip;\n    if (commTip) {\n      return commTip.open(target, content);\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 关闭 tooltip\r\n   */\n  closeTooltip: function closeTooltip() {\n    var $refs = this.$refs,\n      tooltipStore = this.tooltipStore;\n    var tooltip = $refs.tooltip;\n    var commTip = $refs.commTip;\n    if (tooltipStore.visible) {\n      Object.assign(tooltipStore, {\n        row: null,\n        column: null,\n        content: null,\n        visible: false,\n        currOpts: null\n      });\n      if (tooltip) {\n        tooltip.close();\n      }\n    }\n    if (commTip) {\n      commTip.close();\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 判断列头复选框是否被选中\r\n   */\n  isAllCheckboxChecked: function isAllCheckboxChecked() {\n    return this.isAllSelected;\n  },\n  /**\r\n   * 判断列头复选框是否被半选\r\n   */\n  isAllCheckboxIndeterminate: function isAllCheckboxIndeterminate() {\n    return !this.isAllSelected && this.isIndeterminate;\n  },\n  isCheckboxIndeterminate: function isCheckboxIndeterminate() {\n    (0, _log.warnLog)('vxe.error.delFunc', ['isCheckboxIndeterminate', 'isAllCheckboxIndeterminate']);\n    return this.isAllCheckboxIndeterminate();\n  },\n  /**\r\n   * 获取复选框半选状态的行数据\r\n   */\n  getCheckboxIndeterminateRecords: function getCheckboxIndeterminateRecords(isFull) {\n    var _this31 = this;\n    var treeConfig = this.treeConfig,\n      treeIndeterminates = this.treeIndeterminates,\n      afterFullData = this.afterFullData;\n    if (treeConfig) {\n      return isFull ? treeIndeterminates.slice(0) : treeIndeterminates.filter(function (row) {\n        return _this31.findRowIndexOf(afterFullData, row) > -1;\n      });\n    }\n    return [];\n  },\n  /**\r\n   * 处理默认勾选\r\n   */\n  handleDefaultSelectionChecked: function handleDefaultSelectionChecked() {\n    var fullDataRowIdData = this.fullDataRowIdData,\n      checkboxOpts = this.checkboxOpts;\n    var checkAll = checkboxOpts.checkAll,\n      checkRowKeys = checkboxOpts.checkRowKeys;\n    if (checkAll) {\n      this.setAllCheckboxRow(true);\n    } else if (checkRowKeys) {\n      var defSelection = [];\n      checkRowKeys.forEach(function (rowid) {\n        if (fullDataRowIdData[rowid]) {\n          defSelection.push(fullDataRowIdData[rowid].row);\n        }\n      });\n      this.setCheckboxRow(defSelection, true);\n    }\n  },\n  /**\r\n   * 用于多选行，设置行为选中状态，第二个参数为选中与否\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {Boolean} value 是否选中\r\n   */\n  setCheckboxRow: function setCheckboxRow(rows, value) {\n    var _this32 = this;\n    if (rows && !_xeUtils.default.isArray(rows)) {\n      rows = [rows];\n    }\n    rows.forEach(function (row) {\n      return _this32.handleSelectRow({\n        row: row\n      }, !!value);\n    });\n    return this.$nextTick();\n  },\n  isCheckedByCheckboxRow: function isCheckedByCheckboxRow(row) {\n    var selection = this.selection;\n    var checkField = this.checkboxOpts.checkField;\n    if (checkField) {\n      return _xeUtils.default.get(row, checkField);\n    }\n    return this.findRowIndexOf(selection, row) > -1;\n  },\n  isIndeterminateByCheckboxRow: function isIndeterminateByCheckboxRow(row) {\n    var treeIndeterminates = this.treeIndeterminates;\n    return this.findRowIndexOf(treeIndeterminates, row) > -1 && !this.isCheckedByCheckboxRow(row);\n  },\n  /**\r\n   * 多选，行选中事件\r\n   * value 选中true 不选false 半选-1\r\n   */\n  handleSelectRow: function handleSelectRow(_ref6, value) {\n    var _this33 = this;\n    var row = _ref6.row;\n    var selection = this.selection,\n      afterFullData = this.afterFullData,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      treeIndeterminates = this.treeIndeterminates,\n      checkboxOpts = this.checkboxOpts;\n    var checkField = checkboxOpts.checkField,\n      checkStrictly = checkboxOpts.checkStrictly,\n      checkMethod = checkboxOpts.checkMethod;\n    if (checkField) {\n      if (treeConfig && !checkStrictly) {\n        if (value === -1) {\n          if (this.findRowIndexOf(treeIndeterminates, row) === -1) {\n            treeIndeterminates.push(row);\n          }\n          _xeUtils.default.set(row, checkField, false);\n        } else {\n          // 更新子节点状态\n          _xeUtils.default.eachTree([row], function (item) {\n            if (_this33.eqRow(item, row) || !checkMethod || checkMethod({\n              row: item\n            })) {\n              _xeUtils.default.set(item, checkField, value);\n              _xeUtils.default.remove(treeIndeterminates, function (half) {\n                return _this33.eqRow(half, item);\n              });\n              _this33.handleCheckboxReserveRow(row, value);\n            }\n          }, treeOpts);\n        }\n        // 如果存在父节点，更新父节点状态\n        var matchObj = _xeUtils.default.findTree(afterFullData, function (item) {\n          return _this33.eqRow(item, row);\n        }, treeOpts);\n        if (matchObj && matchObj.parent) {\n          var parentStatus;\n          var vItems = checkMethod ? matchObj.items.filter(function (item) {\n            return checkMethod({\n              row: item\n            });\n          }) : matchObj.items;\n          var indeterminatesItem = _xeUtils.default.find(matchObj.items, function (item) {\n            return _this33.findRowIndexOf(treeIndeterminates, item) > -1;\n          });\n          if (indeterminatesItem) {\n            parentStatus = -1;\n          } else {\n            var selectItems = matchObj.items.filter(function (item) {\n              return _xeUtils.default.get(item, checkField);\n            });\n            parentStatus = selectItems.filter(function (item) {\n              return _this33.findRowIndexOf(vItems, item) > -1;\n            }).length === vItems.length ? true : selectItems.length || value === -1 ? -1 : false;\n          }\n          return this.handleSelectRow({\n            row: matchObj.parent\n          }, parentStatus);\n        }\n      } else {\n        if (!checkMethod || checkMethod({\n          row: row\n        })) {\n          _xeUtils.default.set(row, checkField, value);\n          this.handleCheckboxReserveRow(row, value);\n        }\n      }\n    } else {\n      if (treeConfig && !checkStrictly) {\n        if (value === -1) {\n          if (this.findRowIndexOf(treeIndeterminates, row) === -1) {\n            treeIndeterminates.push(row);\n          }\n          _xeUtils.default.remove(selection, function (item) {\n            return _this33.eqRow(item, row);\n          });\n        } else {\n          // 更新子节点状态\n          _xeUtils.default.eachTree([row], function (item) {\n            if (_this33.eqRow(item, row) || !checkMethod || checkMethod({\n              row: item\n            })) {\n              if (value) {\n                selection.push(item);\n              } else {\n                _xeUtils.default.remove(selection, function (select) {\n                  return _this33.eqRow(select, item);\n                });\n              }\n              _xeUtils.default.remove(treeIndeterminates, function (half) {\n                return _this33.eqRow(half, item);\n              });\n              _this33.handleCheckboxReserveRow(row, value);\n            }\n          }, treeOpts);\n        }\n        // 如果存在父节点，更新父节点状态\n        var _matchObj = _xeUtils.default.findTree(afterFullData, function (item) {\n          return _this33.eqRow(item, row);\n        }, treeOpts);\n        if (_matchObj && _matchObj.parent) {\n          var _parentStatus;\n          var _vItems = checkMethod ? _matchObj.items.filter(function (item) {\n            return checkMethod({\n              row: item\n            });\n          }) : _matchObj.items;\n          var _indeterminatesItem = _xeUtils.default.find(_matchObj.items, function (item) {\n            return _this33.findRowIndexOf(treeIndeterminates, item) > -1;\n          });\n          if (_indeterminatesItem) {\n            _parentStatus = -1;\n          } else {\n            var _selectItems = _matchObj.items.filter(function (item) {\n              return _this33.findRowIndexOf(selection, item) > -1;\n            });\n            _parentStatus = _selectItems.filter(function (item) {\n              return _this33.findRowIndexOf(_vItems, item) > -1;\n            }).length === _vItems.length ? true : _selectItems.length || value === -1 ? -1 : false;\n          }\n          return this.handleSelectRow({\n            row: _matchObj.parent\n          }, _parentStatus);\n        }\n      } else {\n        if (!checkMethod || checkMethod({\n          row: row\n        })) {\n          if (value) {\n            if (this.findRowIndexOf(selection, row) === -1) {\n              selection.push(row);\n            }\n          } else {\n            _xeUtils.default.remove(selection, function (item) {\n              return _this33.eqRow(item, row);\n            });\n          }\n          this.handleCheckboxReserveRow(row, value);\n        }\n      }\n    }\n    this.checkSelectionStatus();\n  },\n  handleToggleCheckRowEvent: function handleToggleCheckRowEvent(evnt, params) {\n    var selection = this.selection,\n      checkboxOpts = this.checkboxOpts;\n    var checkField = checkboxOpts.checkField;\n    var row = params.row;\n    var value = checkField ? !_xeUtils.default.get(row, checkField) : this.findRowIndexOf(selection, row) === -1;\n    if (evnt) {\n      this.triggerCheckRowEvent(evnt, params, value);\n    } else {\n      this.handleSelectRow(params, value);\n    }\n  },\n  triggerCheckRowEvent: function triggerCheckRowEvent(evnt, params, value) {\n    var checkMethod = this.checkboxOpts.checkMethod;\n    if (!checkMethod || checkMethod({\n      row: params.row\n    })) {\n      this.handleSelectRow(params, value);\n      this.emitEvent('checkbox-change', Object.assign({\n        records: this.getCheckboxRecords(),\n        reserves: this.getCheckboxReserveRecords(),\n        indeterminates: this.getCheckboxIndeterminateRecords(),\n        checked: value\n      }, params), evnt);\n    }\n  },\n  /**\r\n   * 多选，切换某一行的选中状态\r\n   */\n  toggleCheckboxRow: function toggleCheckboxRow(row) {\n    this.handleToggleCheckRowEvent(null, {\n      row: row\n    });\n    return this.$nextTick();\n  },\n  /**\r\n   * 用于多选行，设置所有行的选中状态\r\n   * @param {Boolean} value 是否选中\r\n   */\n  setAllCheckboxRow: function setAllCheckboxRow(value) {\n    var _this34 = this;\n    var afterFullData = this.afterFullData,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      selection = this.selection,\n      checkboxReserveRowMap = this.checkboxReserveRowMap,\n      checkboxOpts = this.checkboxOpts;\n    var checkField = checkboxOpts.checkField,\n      reserve = checkboxOpts.reserve,\n      checkStrictly = checkboxOpts.checkStrictly,\n      checkMethod = checkboxOpts.checkMethod;\n    var selectRows = [];\n    var beforeSelection = treeConfig ? [] : selection.filter(function (row) {\n      return _this34.findRowIndexOf(afterFullData, row) === -1;\n    });\n    if (checkStrictly) {\n      this.isAllSelected = value;\n    } else {\n      /**\r\n       * 绑定属性方式（高性能，有污染）\r\n       * 必须在行数据存在对应的属性，否则将不响应\r\n       */\n      if (checkField) {\n        var checkValFn = function checkValFn(row) {\n          if (!checkMethod || checkMethod({\n            row: row\n          })) {\n            if (value) {\n              selectRows.push(row);\n            }\n            _xeUtils.default.set(row, checkField, value);\n          }\n        };\n        // 如果存在选中方法\n        // 如果方法成立，则更新值，否则忽略该数据\n        if (treeConfig) {\n          _xeUtils.default.eachTree(afterFullData, checkValFn, treeOpts);\n        } else {\n          afterFullData.forEach(checkValFn);\n        }\n      } else {\n        /**\r\n         * 默认方式（低性能，无污染）\r\n         * 无需任何属性，直接绑定\r\n         */\n        if (treeConfig) {\n          if (value) {\n            /**\r\n             * 如果是树勾选\r\n             * 如果方法成立，则添加到临时集合中\r\n             */\n            _xeUtils.default.eachTree(afterFullData, function (row) {\n              if (!checkMethod || checkMethod({\n                row: row\n              })) {\n                selectRows.push(row);\n              }\n            }, treeOpts);\n          } else {\n            /**\r\n             * 如果是树取消\r\n             * 如果方法成立，则不添加到临时集合中\r\n             */\n            if (checkMethod) {\n              _xeUtils.default.eachTree(afterFullData, function (row) {\n                if (checkMethod({\n                  row: row\n                }) ? 0 : _this34.findRowIndexOf(selection, row) > -1) {\n                  selectRows.push(row);\n                }\n              }, treeOpts);\n            }\n          }\n        } else {\n          if (value) {\n            /**\r\n             * 如果是行勾选\r\n             * 如果存在选中方法且成立或者本身已勾选，则添加到临时集合中\r\n             * 如果不存在选中方法，则添加所有数据到临时集合中\r\n             */\n            if (checkMethod) {\n              selectRows = afterFullData.filter(function (row) {\n                return _this34.findRowIndexOf(selection, row) > -1 || checkMethod({\n                  row: row\n                });\n              });\n            } else {\n              selectRows = afterFullData.slice(0);\n            }\n          } else {\n            /**\r\n             * 如果是行取消\r\n             * 如果方法成立，则不添加到临时集合中；如果方法不成立则判断当前是否已勾选，如果已被勾选则添加到新集合中\r\n             * 如果不存在选中方法，无需处理，临时集合默认为空\r\n             */\n            if (checkMethod) {\n              selectRows = afterFullData.filter(function (row) {\n                return checkMethod({\n                  row: row\n                }) ? 0 : _this34.findRowIndexOf(selection, row) > -1;\n              });\n            }\n          }\n        }\n      }\n      if (reserve) {\n        if (value) {\n          selectRows.forEach(function (row) {\n            checkboxReserveRowMap[(0, _util.getRowid)(_this34, row)] = row;\n          });\n        } else {\n          afterFullData.forEach(function (row) {\n            return _this34.handleCheckboxReserveRow(row, false);\n          });\n        }\n      }\n      this.selection = checkField ? [] : beforeSelection.concat(selectRows);\n    }\n    this.treeIndeterminates = [];\n    this.checkSelectionStatus();\n  },\n  checkSelectionStatus: function checkSelectionStatus() {\n    var _this35 = this;\n    var afterFullData = this.afterFullData,\n      selection = this.selection,\n      treeIndeterminates = this.treeIndeterminates,\n      checkboxOpts = this.checkboxOpts,\n      treeConfig = this.treeConfig;\n    var checkField = checkboxOpts.checkField,\n      halfField = checkboxOpts.halfField,\n      checkStrictly = checkboxOpts.checkStrictly,\n      checkMethod = checkboxOpts.checkMethod;\n    if (!checkStrictly) {\n      var disableRows = [];\n      var checkRows = [];\n      var isAllResolve = false;\n      var isAllSelected = false;\n      var isIndeterminate = false;\n      if (checkField) {\n        isAllResolve = afterFullData.every(checkMethod ? function (row) {\n          if (!checkMethod({\n            row: row\n          })) {\n            disableRows.push(row);\n            return true;\n          }\n          if (_xeUtils.default.get(row, checkField)) {\n            checkRows.push(row);\n            return true;\n          }\n          return false;\n        } : function (row) {\n          return _xeUtils.default.get(row, checkField);\n        });\n        isAllSelected = isAllResolve && afterFullData.length !== disableRows.length;\n        if (treeConfig) {\n          if (halfField) {\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\n              return _xeUtils.default.get(row, checkField) || _xeUtils.default.get(row, halfField) || _this35.findRowIndexOf(treeIndeterminates, row) > -1;\n            });\n          } else {\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\n              return _xeUtils.default.get(row, checkField) || _this35.findRowIndexOf(treeIndeterminates, row) > -1;\n            });\n          }\n        } else {\n          if (halfField) {\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\n              return _xeUtils.default.get(row, checkField) || _xeUtils.default.get(row, halfField);\n            });\n          } else {\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\n              return _xeUtils.default.get(row, checkField);\n            });\n          }\n        }\n      } else {\n        isAllResolve = afterFullData.every(checkMethod ? function (row) {\n          if (!checkMethod({\n            row: row\n          })) {\n            disableRows.push(row);\n            return true;\n          }\n          if (_this35.findRowIndexOf(selection, row) > -1) {\n            checkRows.push(row);\n            return true;\n          }\n          return false;\n        } : function (row) {\n          return _this35.findRowIndexOf(selection, row) > -1;\n        });\n        isAllSelected = isAllResolve && afterFullData.length !== disableRows.length;\n        if (treeConfig) {\n          isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\n            return _this35.findRowIndexOf(treeIndeterminates, row) > -1 || _this35.findRowIndexOf(selection, row) > -1;\n          });\n        } else {\n          isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\n            return _this35.findRowIndexOf(selection, row) > -1;\n          });\n        }\n      }\n      this.isAllSelected = isAllSelected;\n      this.isIndeterminate = isIndeterminate;\n    }\n  },\n  // 还原展开、选中等相关状态\n  handleReserveStatus: function handleReserveStatus() {\n    var expandColumn = this.expandColumn,\n      treeOpts = this.treeOpts,\n      treeConfig = this.treeConfig,\n      fullDataRowIdData = this.fullDataRowIdData,\n      fullAllDataRowMap = this.fullAllDataRowMap,\n      currentRow = this.currentRow,\n      selectRow = this.selectRow,\n      radioReserveRow = this.radioReserveRow,\n      radioOpts = this.radioOpts,\n      checkboxOpts = this.checkboxOpts,\n      selection = this.selection,\n      rowExpandeds = this.rowExpandeds,\n      treeExpandeds = this.treeExpandeds,\n      expandOpts = this.expandOpts;\n    // 单选框\n    if (selectRow && !fullAllDataRowMap.has(selectRow)) {\n      this.selectRow = null; // 刷新单选行状态\n    }\n    // 还原保留选中状态\n    if (radioOpts.reserve && radioReserveRow) {\n      var rowid = (0, _util.getRowid)(this, radioReserveRow);\n      if (fullDataRowIdData[rowid]) {\n        this.setRadioRow(fullDataRowIdData[rowid].row);\n      }\n    }\n    // 复选框\n    this.selection = getRecoverRow(this, selection); // 刷新多选行状态\n    // 还原保留选中状态\n    if (checkboxOpts.reserve) {\n      this.setCheckboxRow(handleReserveRow(this, this.checkboxReserveRowMap), true);\n    }\n    if (currentRow && !fullAllDataRowMap.has(currentRow)) {\n      this.currentRow = null; // 刷新当前行状态\n    }\n    // 行展开\n    this.rowExpandeds = expandColumn ? getRecoverRow(this, rowExpandeds) : []; // 刷新行展开状态\n    // 还原保留状态\n    if (expandColumn && expandOpts.reserve) {\n      this.setRowExpand(handleReserveRow(this, this.rowExpandedReserveRowMap), true);\n    }\n    // 树展开\n    this.treeExpandeds = treeConfig ? getRecoverRow(this, treeExpandeds) : []; // 刷新树展开状态\n    if (treeConfig && treeOpts.reserve) {\n      this.setTreeExpand(handleReserveRow(this, this.treeExpandedReserveRowMap), true);\n    }\n  },\n  /**\r\n   * 获取单选框保留选中的行\r\n   */\n  getRadioReserveRecord: function getRadioReserveRecord(isFull) {\n    var fullDataRowIdData = this.fullDataRowIdData,\n      radioReserveRow = this.radioReserveRow,\n      radioOpts = this.radioOpts,\n      afterFullData = this.afterFullData,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts;\n    if (radioOpts.reserve && radioReserveRow) {\n      var rowid = (0, _util.getRowid)(this, radioReserveRow);\n      if (isFull) {\n        if (!fullDataRowIdData[rowid]) {\n          return radioReserveRow;\n        }\n      } else {\n        var rowkey = (0, _util.getRowkey)(this);\n        if (treeConfig) {\n          var matchObj = _xeUtils.default.findTree(afterFullData, function (row) {\n            return rowid === _xeUtils.default.get(row, rowkey);\n          }, treeOpts);\n          if (matchObj) {\n            return radioReserveRow;\n          }\n        } else {\n          if (!afterFullData.some(function (row) {\n            return rowid === _xeUtils.default.get(row, rowkey);\n          })) {\n            return radioReserveRow;\n          }\n        }\n      }\n    }\n    return null;\n  },\n  clearRadioReserve: function clearRadioReserve() {\n    this.radioReserveRow = null;\n    return this.$nextTick();\n  },\n  handleRadioReserveRow: function handleRadioReserveRow(row) {\n    var radioOpts = this.radioOpts;\n    if (radioOpts.reserve) {\n      this.radioReserveRow = row;\n    }\n  },\n  /**\r\n   * 获取复选框保留选中的行\r\n   */\n  getCheckboxReserveRecords: function getCheckboxReserveRecords(isFull) {\n    var _this36 = this;\n    var fullDataRowIdData = this.fullDataRowIdData,\n      afterFullData = this.afterFullData,\n      checkboxReserveRowMap = this.checkboxReserveRowMap,\n      checkboxOpts = this.checkboxOpts,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts;\n    var reserveSelection = [];\n    if (checkboxOpts.reserve) {\n      var afterFullIdMaps = {};\n      if (treeConfig) {\n        _xeUtils.default.eachTree(afterFullData, function (row) {\n          afterFullIdMaps[(0, _util.getRowid)(_this36, row)] = 1;\n        }, treeOpts);\n      } else {\n        afterFullData.forEach(function (row) {\n          afterFullIdMaps[(0, _util.getRowid)(_this36, row)] = 1;\n        });\n      }\n      _xeUtils.default.each(checkboxReserveRowMap, function (oldRow, oldRowid) {\n        if (oldRow) {\n          if (isFull) {\n            if (!fullDataRowIdData[oldRowid]) {\n              reserveSelection.push(oldRow);\n            }\n          } else {\n            if (!afterFullIdMaps[oldRowid]) {\n              reserveSelection.push(oldRow);\n            }\n          }\n        }\n      });\n    }\n    return reserveSelection;\n  },\n  clearCheckboxReserve: function clearCheckboxReserve() {\n    this.checkboxReserveRowMap = {};\n    return this.$nextTick();\n  },\n  handleCheckboxReserveRow: function handleCheckboxReserveRow(row, checked) {\n    var checkboxReserveRowMap = this.checkboxReserveRowMap,\n      checkboxOpts = this.checkboxOpts;\n    if (checkboxOpts.reserve) {\n      var rowid = (0, _util.getRowid)(this, row);\n      if (checked) {\n        checkboxReserveRowMap[rowid] = row;\n      } else if (checkboxReserveRowMap[rowid]) {\n        delete checkboxReserveRowMap[rowid];\n      }\n    }\n  },\n  /**\r\n   * 多选，选中所有事件\r\n   */\n  triggerCheckAllEvent: function triggerCheckAllEvent(evnt, value) {\n    this.setAllCheckboxRow(value);\n    this.emitEvent('checkbox-all', {\n      records: this.getCheckboxRecords(),\n      reserves: this.getCheckboxReserveRecords(),\n      indeterminates: this.getCheckboxIndeterminateRecords(),\n      checked: value\n    }, evnt);\n  },\n  /**\r\n   * 多选，切换所有行的选中状态\r\n   */\n  toggleAllCheckboxRow: function toggleAllCheckboxRow() {\n    this.triggerCheckAllEvent(null, !this.isAllSelected);\n    return this.$nextTick();\n  },\n  /**\r\n   * 用于多选行，手动清空用户的选择\r\n   * 清空行为不管是否被禁用还是保留记录，都将彻底清空选中状态\r\n   */\n  clearCheckboxRow: function clearCheckboxRow() {\n    var _this37 = this;\n    var tableFullData = this.tableFullData,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      checkboxOpts = this.checkboxOpts;\n    var checkField = checkboxOpts.checkField,\n      reserve = checkboxOpts.reserve;\n    if (checkField) {\n      if (treeConfig) {\n        _xeUtils.default.eachTree(tableFullData, function (item) {\n          return _xeUtils.default.set(item, checkField, false);\n        }, treeOpts);\n      } else {\n        tableFullData.forEach(function (item) {\n          return _xeUtils.default.set(item, checkField, false);\n        });\n      }\n    }\n    if (reserve) {\n      tableFullData.forEach(function (row) {\n        return _this37.handleCheckboxReserveRow(row, false);\n      });\n    }\n    this.isAllSelected = false;\n    this.isIndeterminate = false;\n    this.selection = [];\n    this.treeIndeterminates = [];\n    return this.$nextTick();\n  },\n  /**\r\n   * 处理单选框默认勾选\r\n   */\n  handleDefaultRadioChecked: function handleDefaultRadioChecked() {\n    var radioOpts = this.radioOpts,\n      fullDataRowIdData = this.fullDataRowIdData;\n    var rowid = radioOpts.checkRowKey,\n      reserve = radioOpts.reserve;\n    if (rowid) {\n      if (fullDataRowIdData[rowid]) {\n        this.setRadioRow(fullDataRowIdData[rowid].row);\n      }\n      if (reserve) {\n        var rowkey = (0, _util.getRowkey)(this);\n        this.radioReserveRow = _defineProperty({}, rowkey, rowid);\n      }\n    }\n  },\n  /**\r\n   * 单选，行选中事件\r\n   */\n  triggerRadioRowEvent: function triggerRadioRowEvent(evnt, params) {\n    var oldValue = this.selectRow,\n      radioOpts = this.radioOpts;\n    var row = params.row;\n    var newValue = row;\n    var isChange = oldValue !== newValue;\n    if (isChange) {\n      this.setRadioRow(newValue);\n    } else if (!radioOpts.strict) {\n      isChange = oldValue === newValue;\n      if (isChange) {\n        newValue = null;\n        this.clearRadioRow();\n      }\n    }\n    if (isChange) {\n      this.emitEvent('radio-change', _objectSpread({\n        oldValue: oldValue,\n        newValue: newValue\n      }, params), evnt);\n    }\n  },\n  triggerCurrentRowEvent: function triggerCurrentRowEvent(evnt, params) {\n    var oldValue = this.currentRow;\n    var newValue = params.row;\n    var isChange = oldValue !== newValue;\n    this.setCurrentRow(newValue);\n    if (isChange) {\n      this.emitEvent('current-change', _objectSpread({\n        oldValue: oldValue,\n        newValue: newValue\n      }, params), evnt);\n    }\n  },\n  /**\r\n   * 用于当前行，设置某一行为高亮状态\r\n   * @param {Row} row 行对象\r\n   */\n  setCurrentRow: function setCurrentRow(row) {\n    var $el = this.$el,\n      rowOpts = this.rowOpts;\n    this.clearCurrentRow();\n    this.clearCurrentColumn();\n    this.currentRow = row;\n    if (rowOpts.isCurrent || this.highlightCurrentRow) {\n      if ($el) {\n        _xeUtils.default.arrayEach($el.querySelectorAll(\"[rowid=\\\"\".concat((0, _util.getRowid)(this, row), \"\\\"]\")), function (elem) {\n          return addClass(elem, 'row--current');\n        });\n      }\n    }\n    return this.$nextTick();\n  },\n  isCheckedByRadioRow: function isCheckedByRadioRow(row) {\n    return this.selectRow === row;\n  },\n  /**\r\n   * 用于单选行，设置某一行为选中状态\r\n   * @param {Row} row 行对象\r\n   */\n  setRadioRow: function setRadioRow(row) {\n    var radioOpts = this.radioOpts;\n    var checkMethod = radioOpts.checkMethod;\n    if (row && (!checkMethod || checkMethod({\n      row: row\n    }))) {\n      this.selectRow = row;\n      this.handleRadioReserveRow(row);\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 用于当前行，手动清空当前高亮的状态\r\n   */\n  clearCurrentRow: function clearCurrentRow() {\n    var $el = this.$el;\n    this.currentRow = null;\n    this.hoverRow = null;\n    if ($el) {\n      _xeUtils.default.arrayEach($el.querySelectorAll('.row--current'), function (elem) {\n        return removeClass(elem, 'row--current');\n      });\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 用于单选行，手动清空用户的选择\r\n   */\n  clearRadioRow: function clearRadioRow() {\n    this.selectRow = null;\n    return this.$nextTick();\n  },\n  /**\r\n   * 用于当前行，获取当前行的数据\r\n   */\n  getCurrentRecord: function getCurrentRecord() {\n    return this.rowOpts.isCurrent || this.highlightCurrentRow ? this.currentRow : null;\n  },\n  /**\r\n   * 用于单选行，获取当已选中的数据\r\n   */\n  getRadioRecord: function getRadioRecord(isFull) {\n    var treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      selectRow = this.selectRow,\n      fullDataRowIdData = this.fullDataRowIdData,\n      afterFullData = this.afterFullData;\n    if (selectRow) {\n      var rowid = (0, _util.getRowid)(this, selectRow);\n      if (isFull) {\n        if (!fullDataRowIdData[rowid]) {\n          return selectRow;\n        }\n      } else {\n        if (treeConfig) {\n          var rowkey = (0, _util.getRowkey)(this);\n          var matchObj = _xeUtils.default.findTree(afterFullData, function (row) {\n            return rowid === _xeUtils.default.get(row, rowkey);\n          }, treeOpts);\n          if (matchObj) {\n            return selectRow;\n          }\n        } else {\n          if (afterFullData.indexOf(selectRow) > -1) {\n            return selectRow;\n          }\n        }\n      }\n    }\n    return null;\n  },\n  /**\r\n   * 行 hover 事件\r\n   */\n  triggerHoverEvent: function triggerHoverEvent(evnt, _ref7) {\n    var row = _ref7.row;\n    this.setHoverRow(row);\n  },\n  setHoverRow: function setHoverRow(row) {\n    var $el = this.$el;\n    var rowid = (0, _util.getRowid)(this, row);\n    this.clearHoverRow();\n    if ($el) {\n      _xeUtils.default.arrayEach($el.querySelectorAll(\"[rowid=\\\"\".concat(rowid, \"\\\"]\")), function (elem) {\n        return addClass(elem, 'row--hover');\n      });\n    }\n    this.hoverRow = row;\n  },\n  clearHoverRow: function clearHoverRow() {\n    var $el = this.$el;\n    if ($el) {\n      _xeUtils.default.arrayEach($el.querySelectorAll('.vxe-body--row.row--hover'), function (elem) {\n        return removeClass(elem, 'row--hover');\n      });\n    }\n    this.hoverRow = null;\n  },\n  triggerHeaderCellClickEvent: function triggerHeaderCellClickEvent(evnt, params) {\n    var _lastResizeTime = this._lastResizeTime,\n      sortOpts = this.sortOpts;\n    var column = params.column;\n    var cell = evnt.currentTarget;\n    var triggerResizable = _lastResizeTime && _lastResizeTime > Date.now() - 300;\n    var triggerSort = getEventTargetNode(evnt, cell, 'vxe-cell--sort').flag;\n    var triggerFilter = getEventTargetNode(evnt, cell, 'vxe-cell--filter').flag;\n    if (sortOpts.trigger === 'cell' && !(triggerResizable || triggerSort || triggerFilter)) {\n      this.triggerSortEvent(evnt, column, getNextSortOrder(this, column));\n    }\n    this.emitEvent('header-cell-click', Object.assign({\n      triggerResizable: triggerResizable,\n      triggerSort: triggerSort,\n      triggerFilter: triggerFilter,\n      cell: cell\n    }, params), evnt);\n    if (this.columnOpts.isCurrent || this.highlightCurrentColumn) {\n      return this.setCurrentColumn(column);\n    }\n    return this.$nextTick();\n  },\n  triggerHeaderCellDblclickEvent: function triggerHeaderCellDblclickEvent(evnt, params) {\n    this.emitEvent('header-cell-dblclick', Object.assign({\n      cell: evnt.currentTarget\n    }, params), evnt);\n  },\n  getCurrentColumn: function getCurrentColumn() {\n    return this.columnOpts.isCurrent || this.highlightCurrentColumn ? this.currentColumn : null;\n  },\n  /**\r\n   * 用于当前列，设置某列行为高亮状态\r\n   * @param {ColumnInfo} fieldOrColumn 列配置\r\n   */\n  setCurrentColumn: function setCurrentColumn(fieldOrColumn) {\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n    if (column) {\n      this.clearCurrentRow();\n      this.clearCurrentColumn();\n      this.currentColumn = column;\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 用于当前列，手动清空当前高亮的状态\r\n   */\n  clearCurrentColumn: function clearCurrentColumn() {\n    this.currentColumn = null;\n    return this.$nextTick();\n  },\n  checkValidate: function checkValidate(type) {\n    if (_vXETable.default._valid) {\n      return this.triggerValidate(type);\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 当单元格发生改变时\r\n   * 如果存在规则，则校验\r\n   */\n  handleChangeCell: function handleChangeCell(evnt, params) {\n    var _this38 = this;\n    this.checkValidate('blur').catch(function (e) {\n      return e;\n    }).then(function () {\n      _this38.handleActived(params, evnt).then(function () {\n        return _this38.checkValidate('change');\n      }).catch(function (e) {\n        return e;\n      });\n    });\n  },\n  /**\r\n   * 列点击事件\r\n   * 如果是单击模式，则激活为编辑状态\r\n   * 如果是双击模式，则单击后选中状态\r\n   */\n  triggerCellClickEvent: function triggerCellClickEvent(evnt, params) {\n    var highlightCurrentRow = this.highlightCurrentRow,\n      editStore = this.editStore,\n      radioOpts = this.radioOpts,\n      expandOpts = this.expandOpts,\n      treeOpts = this.treeOpts,\n      editConfig = this.editConfig,\n      editOpts = this.editOpts,\n      checkboxOpts = this.checkboxOpts,\n      rowOpts = this.rowOpts;\n    var actived = editStore.actived;\n    var _params = params,\n      row = _params.row,\n      column = _params.column;\n    var type = column.type,\n      treeNode = column.treeNode;\n    var isRadioType = type === 'radio';\n    var isCheckboxType = type === 'checkbox';\n    var isExpandType = type === 'expand';\n    var cell = evnt.currentTarget;\n    var triggerRadio = isRadioType && getEventTargetNode(evnt, cell, 'vxe-cell--radio').flag;\n    var triggerCheckbox = isCheckboxType && getEventTargetNode(evnt, cell, 'vxe-cell--checkbox').flag;\n    var triggerTreeNode = treeNode && getEventTargetNode(evnt, cell, 'vxe-tree--btn-wrapper').flag;\n    var triggerExpandNode = isExpandType && getEventTargetNode(evnt, cell, 'vxe-table--expanded').flag;\n    params = Object.assign({\n      cell: cell,\n      triggerRadio: triggerRadio,\n      triggerCheckbox: triggerCheckbox,\n      triggerTreeNode: triggerTreeNode,\n      triggerExpandNode: triggerExpandNode\n    }, params);\n    if (!triggerCheckbox && !triggerRadio) {\n      // 如果是展开行\n      if (!triggerExpandNode && (expandOpts.trigger === 'row' || isExpandType && expandOpts.trigger === 'cell')) {\n        this.triggerRowExpandEvent(evnt, params);\n      }\n      // 如果是树形表格\n      if (treeOpts.trigger === 'row' || treeNode && treeOpts.trigger === 'cell') {\n        this.triggerTreeExpandEvent(evnt, params);\n      }\n    }\n    // 如果点击了树节点\n    if (!triggerTreeNode) {\n      if (!triggerExpandNode) {\n        // 如果是高亮行\n        if (rowOpts.isCurrent || highlightCurrentRow) {\n          if (!triggerCheckbox && !triggerRadio) {\n            this.triggerCurrentRowEvent(evnt, params);\n          }\n        }\n        // 如果是单选框\n        if (!triggerRadio && (radioOpts.trigger === 'row' || isRadioType && radioOpts.trigger === 'cell')) {\n          this.triggerRadioRowEvent(evnt, params);\n        }\n        // 如果是复选框\n        if (!triggerCheckbox && (checkboxOpts.trigger === 'row' || isCheckboxType && checkboxOpts.trigger === 'cell')) {\n          this.handleToggleCheckRowEvent(evnt, params);\n        }\n      }\n      // 如果设置了单元格选中功能，则不会使用点击事件去处理（只能支持双击模式）\n      if ((0, _utils.isEnableConf)(editConfig)) {\n        if (editOpts.trigger === 'manual') {\n          if (actived.args && actived.row === row && column !== actived.column) {\n            this.handleChangeCell(evnt, params);\n          }\n        } else if (!actived.args || row !== actived.row || column !== actived.column) {\n          if (editOpts.trigger === 'click') {\n            this.handleChangeCell(evnt, params);\n          } else if (editOpts.trigger === 'dblclick') {\n            if (editOpts.mode === 'row' && actived.row === row) {\n              this.handleChangeCell(evnt, params);\n            }\n          }\n        }\n      }\n    }\n    this.emitEvent('cell-click', params, evnt);\n  },\n  /**\r\n   * 列双击点击事件\r\n   * 如果是双击模式，则激活为编辑状态\r\n   */\n  triggerCellDblclickEvent: function triggerCellDblclickEvent(evnt, params) {\n    var _this39 = this;\n    var editStore = this.editStore,\n      editConfig = this.editConfig,\n      editOpts = this.editOpts;\n    var actived = editStore.actived;\n    var cell = evnt.currentTarget;\n    params.cell = cell;\n    if ((0, _utils.isEnableConf)(editConfig) && editOpts.trigger === 'dblclick') {\n      if (!actived.args || evnt.currentTarget !== actived.args.cell) {\n        if (editOpts.mode === 'row') {\n          this.checkValidate('blur').catch(function (e) {\n            return e;\n          }).then(function () {\n            _this39.handleActived(params, evnt).then(function () {\n              return _this39.checkValidate('change');\n            }).catch(function (e) {\n              return e;\n            });\n          });\n        } else if (editOpts.mode === 'cell') {\n          this.handleActived(params, evnt).then(function () {\n            return _this39.checkValidate('change');\n          }).catch(function (e) {\n            return e;\n          });\n        }\n      }\n    }\n    this.emitEvent('cell-dblclick', params, evnt);\n  },\n  handleDefaultSort: function handleDefaultSort() {\n    var _this40 = this;\n    var sortConfig = this.sortConfig,\n      sortOpts = this.sortOpts;\n    var defaultSort = sortOpts.defaultSort;\n    if (defaultSort) {\n      if (!_xeUtils.default.isArray(defaultSort)) {\n        defaultSort = [defaultSort];\n      }\n      if (defaultSort.length) {\n        (sortConfig.multiple ? defaultSort : defaultSort.slice(0, 1)).forEach(function (item, index) {\n          var field = item.field,\n            order = item.order;\n          if (field && order) {\n            var column = _this40.getColumnByField(field);\n            if (column && column.sortable) {\n              column.order = order;\n              column.sortTime = Date.now() + index;\n            }\n          }\n        });\n        if (!sortOpts.remote) {\n          this.handleTableData(true).then(this.updateStyle);\n        }\n      }\n    }\n  },\n  /**\r\n   * 点击排序事件\r\n   */\n  triggerSortEvent: function triggerSortEvent(evnt, column, order) {\n    var sortOpts = this.sortOpts;\n    var field = column.field,\n      sortable = column.sortable,\n      remoteSort = column.remoteSort;\n    if (sortable || remoteSort) {\n      if (!order || column.order === order) {\n        this.clearSort(sortOpts.multiple ? column : null);\n      } else {\n        this.sort({\n          field: field,\n          order: order\n        });\n      }\n      var params = {\n        column: column,\n        field: field,\n        property: field,\n        order: column.order,\n        sortList: this.getSortColumns()\n      };\n      this.emitEvent('sort-change', params, evnt);\n    }\n  },\n  sort: function sort(sortConfs, sortOrder) {\n    var _this41 = this;\n    var sortOpts = this.sortOpts;\n    var multiple = sortOpts.multiple,\n      remote = sortOpts.remote,\n      orders = sortOpts.orders;\n    if (sortConfs) {\n      if (_xeUtils.default.isString(sortConfs)) {\n        sortConfs = [{\n          field: sortConfs,\n          order: sortOrder\n        }];\n      }\n    }\n    if (!_xeUtils.default.isArray(sortConfs)) {\n      sortConfs = [sortConfs];\n    }\n    if (sortConfs.length) {\n      var firstSortColumn;\n      if (!multiple) {\n        clearAllSort(this);\n      }\n      (multiple ? sortConfs : [sortConfs[0]]).forEach(function (confs, index) {\n        var field = confs.field,\n          order = confs.order;\n        var column = field;\n        if (_xeUtils.default.isString(field)) {\n          column = _this41.getColumnByField(field);\n        }\n        if (column && (column.sortable || column.remoteSort)) {\n          if (!firstSortColumn) {\n            firstSortColumn = column;\n          }\n          if (orders.indexOf(order) === -1) {\n            order = getNextSortOrder(_this41, column);\n          }\n          if (column.order !== order) {\n            column.order = order;\n          }\n          column.sortTime = Date.now() + index;\n        }\n      });\n      // 如果是服务端排序，则跳过本地排序处理\n      if (!remote || firstSortColumn && firstSortColumn.remoteSort) {\n        this.handleTableData(true);\n      }\n      return this.$nextTick().then(this.updateStyle);\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 清空指定列的排序条件\r\n   * 如果为空则清空所有列的排序条件\r\n   * @param {String} column 列或字段名\r\n   */\n  clearSort: function clearSort(fieldOrColumn) {\n    var sortOpts = this.sortOpts;\n    if (fieldOrColumn) {\n      var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n      if (column) {\n        column.order = null;\n      }\n    } else {\n      clearAllSort(this);\n    }\n    if (!sortOpts.remote) {\n      this.handleTableData(true);\n    }\n    return this.$nextTick().then(this.updateStyle);\n  },\n  // 在 v3 中废弃\n  getSortColumn: function getSortColumn() {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['getSortColumn', 'getSortColumns']);\n    }\n    return _xeUtils.default.find(this.tableFullColumn, function (column) {\n      return (column.sortable || column.remoteSort) && column.order;\n    });\n  },\n  isSort: function isSort(fieldOrColumn) {\n    if (fieldOrColumn) {\n      var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n      return column && column.sortable && !!column.order;\n    }\n    return this.getSortColumns().length > 0;\n  },\n  getSortColumns: function getSortColumns() {\n    var _this$sortOpts = this.sortOpts,\n      multiple = _this$sortOpts.multiple,\n      chronological = _this$sortOpts.chronological;\n    var sortList = [];\n    this.tableFullColumn.forEach(function (column) {\n      var field = column.field,\n        order = column.order;\n      if ((column.sortable || column.remoteSort) && order) {\n        sortList.push({\n          column: column,\n          field: field,\n          property: field,\n          order: order,\n          sortTime: column.sortTime\n        });\n      }\n    });\n    if (multiple && chronological && sortList.length > 1) {\n      return _xeUtils.default.orderBy(sortList, 'sortTime');\n    }\n    return sortList;\n  },\n  /**\r\n   * 关闭筛选\r\n   * @param {Event} evnt 事件\r\n   */\n  closeFilter: function closeFilter() {\n    var filterStore = this.filterStore;\n    var column = filterStore.column,\n      visible = filterStore.visible;\n    Object.assign(filterStore, {\n      isAllSelected: false,\n      isIndeterminate: false,\n      options: [],\n      visible: false\n    });\n    if (visible) {\n      this.emitEvent('filter-visible', {\n        column: column,\n        field: column.field,\n        property: column.field,\n        filterList: this.getCheckedFilters(),\n        visible: false\n      }, null);\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 判断指定列是否为筛选状态，如果为空则判断所有列\r\n   * @param {String} fieldOrColumn 字段名\r\n   */\n  isFilter: function isFilter(fieldOrColumn) {\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n    if (column) {\n      return column.filters && column.filters.some(function (option) {\n        return option.checked;\n      });\n    }\n    return this.getCheckedFilters().length > 0;\n  },\n  /**\r\n   * 判断展开行是否懒加载完成\r\n   * @param {Row} row 行对象\r\n   */\n  isRowExpandLoaded: function isRowExpandLoaded(row) {\n    var rest = this.fullAllDataRowMap.get(row);\n    return rest && rest.expandLoaded;\n  },\n  clearRowExpandLoaded: function clearRowExpandLoaded(row) {\n    var _this42 = this;\n    var expandOpts = this.expandOpts,\n      expandLazyLoadeds = this.expandLazyLoadeds,\n      fullAllDataRowMap = this.fullAllDataRowMap;\n    var lazy = expandOpts.lazy;\n    var rest = fullAllDataRowMap.get(row);\n    if (lazy && rest) {\n      rest.expandLoaded = false;\n      _xeUtils.default.remove(expandLazyLoadeds, function (item) {\n        return _this42.eqRow(item, row);\n      });\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 重新懒加载展开行，并展开内容\r\n   * @param {Row} row 行对象\r\n   */\n  reloadRowExpand: function reloadRowExpand(row) {\n    var _this43 = this;\n    var expandOpts = this.expandOpts,\n      expandLazyLoadeds = this.expandLazyLoadeds;\n    var lazy = expandOpts.lazy;\n    if (lazy && this.findRowIndexOf(expandLazyLoadeds, row) === -1) {\n      this.clearRowExpandLoaded(row).then(function () {\n        return _this43.handleAsyncRowExpand(row);\n      });\n    }\n    return this.$nextTick();\n  },\n  reloadExpandContent: function reloadExpandContent(row) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['reloadExpandContent', 'reloadRowExpand']);\n    }\n    // 即将废弃\n    return this.reloadRowExpand(row);\n  },\n  /**\r\n   * 展开行事件\r\n   */\n  triggerRowExpandEvent: function triggerRowExpandEvent(evnt, params) {\n    var expandOpts = this.expandOpts,\n      expandLazyLoadeds = this.expandLazyLoadeds,\n      column = this.expandColumn;\n    var row = params.row;\n    var lazy = expandOpts.lazy;\n    if (!lazy || this.findRowIndexOf(expandLazyLoadeds, row) === -1) {\n      var expanded = !this.isExpandByRow(row);\n      var columnIndex = this.getColumnIndex(column);\n      var $columnIndex = this.getVMColumnIndex(column);\n      this.setRowExpand(row, expanded);\n      this.emitEvent('toggle-row-expand', {\n        expanded: expanded,\n        column: column,\n        columnIndex: columnIndex,\n        $columnIndex: $columnIndex,\n        row: row,\n        rowIndex: this.getRowIndex(row),\n        $rowIndex: this.getVMRowIndex(row)\n      }, evnt);\n    }\n  },\n  /**\r\n   * 切换展开行\r\n   */\n  toggleRowExpand: function toggleRowExpand(row) {\n    return this.setRowExpand(row, !this.isExpandByRow(row));\n  },\n  /**\r\n   * 处理默认展开行\r\n   */\n  handleDefaultRowExpand: function handleDefaultRowExpand() {\n    var expandOpts = this.expandOpts,\n      fullDataRowIdData = this.fullDataRowIdData;\n    var expandAll = expandOpts.expandAll,\n      expandRowKeys = expandOpts.expandRowKeys;\n    if (expandAll) {\n      this.setAllRowExpand(true);\n    } else if (expandRowKeys) {\n      var defExpandeds = [];\n      expandRowKeys.forEach(function (rowid) {\n        if (fullDataRowIdData[rowid]) {\n          defExpandeds.push(fullDataRowIdData[rowid].row);\n        }\n      });\n      this.setRowExpand(defExpandeds, true);\n    }\n  },\n  /**\r\n   * 设置所有行的展开与否\r\n   * @param {Boolean} expanded 是否展开\r\n   */\n  setAllRowExpand: function setAllRowExpand(expanded) {\n    return this.setRowExpand(this.expandOpts.lazy ? this.tableData : this.tableFullData, expanded);\n  },\n  handleAsyncRowExpand: function handleAsyncRowExpand(row) {\n    var _this44 = this;\n    var rest = this.fullAllDataRowMap.get(row);\n    return new Promise(function (resolve) {\n      _this44.expandLazyLoadeds.push(row);\n      _this44.expandOpts.loadMethod({\n        $table: _this44,\n        row: row,\n        rowIndex: _this44.getRowIndex(row),\n        $rowIndex: _this44.getVMRowIndex(row)\n      }).then(function () {\n        rest.expandLoaded = true;\n        _this44.rowExpandeds.push(row);\n      }).catch(function () {\n        rest.expandLoaded = false;\n      }).finally(function () {\n        _xeUtils.default.remove(_this44.expandLazyLoadeds, function (item) {\n          return _this44.eqRow(item, row);\n        });\n        resolve(_this44.$nextTick().then(_this44.recalculate));\n      });\n    });\n  },\n  /**\r\n   * 设置展开行，二个参数设置这一行展开与否\r\n   * 支持单行\r\n   * 支持多行\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {Boolean} expanded 是否展开\r\n   */\n  setRowExpand: function setRowExpand(rows, expanded) {\n    var _this45 = this;\n    var fullAllDataRowMap = this.fullAllDataRowMap,\n      expandLazyLoadeds = this.expandLazyLoadeds,\n      expandOpts = this.expandOpts,\n      column = this.expandColumn;\n    var rowExpandeds = this.rowExpandeds;\n    var reserve = expandOpts.reserve,\n      lazy = expandOpts.lazy,\n      accordion = expandOpts.accordion,\n      toggleMethod = expandOpts.toggleMethod;\n    var lazyRests = [];\n    var columnIndex = this.getColumnIndex(column);\n    var $columnIndex = this.getVMColumnIndex(column);\n    if (rows) {\n      if (!_xeUtils.default.isArray(rows)) {\n        rows = [rows];\n      }\n      if (accordion) {\n        // 只能同时展开一个\n        rowExpandeds = [];\n        rows = rows.slice(rows.length - 1, rows.length);\n      }\n      var validRows = toggleMethod ? rows.filter(function (row) {\n        return toggleMethod({\n          expanded: expanded,\n          column: column,\n          columnIndex: columnIndex,\n          $columnIndex: $columnIndex,\n          row: row,\n          rowIndex: _this45.getRowIndex(row),\n          $rowIndex: _this45.getVMRowIndex(row)\n        });\n      }) : rows;\n      if (expanded) {\n        validRows.forEach(function (row) {\n          if (_this45.findRowIndexOf(rowExpandeds, row) === -1) {\n            var rest = fullAllDataRowMap.get(row);\n            var isLoad = lazy && !rest.expandLoaded && _this45.findRowIndexOf(expandLazyLoadeds, row) === -1;\n            if (isLoad) {\n              lazyRests.push(_this45.handleAsyncRowExpand(row));\n            } else {\n              rowExpandeds.push(row);\n            }\n          }\n        });\n      } else {\n        _xeUtils.default.remove(rowExpandeds, function (row) {\n          return _this45.findRowIndexOf(validRows, row) > -1;\n        });\n      }\n      if (reserve) {\n        validRows.forEach(function (row) {\n          return _this45.handleRowExpandReserve(row, expanded);\n        });\n      }\n    }\n    this.rowExpandeds = rowExpandeds;\n    return Promise.all(lazyRests).then(this.recalculate);\n  },\n  /**\r\n   * 判断行是否为展开状态\r\n   * @param {Row} row 行对象\r\n   */\n  isExpandByRow: function isExpandByRow(row) {\n    var rowExpandeds = this.rowExpandeds;\n    return this.findRowIndexOf(rowExpandeds, row) > -1;\n  },\n  /**\r\n   * 手动清空展开行状态，数据会恢复成未展开的状态\r\n   */\n  clearRowExpand: function clearRowExpand() {\n    var _this46 = this;\n    var expandOpts = this.expandOpts,\n      rowExpandeds = this.rowExpandeds,\n      tableFullData = this.tableFullData;\n    var reserve = expandOpts.reserve;\n    var isExists = rowExpandeds.length;\n    this.rowExpandeds = [];\n    if (reserve) {\n      tableFullData.forEach(function (row) {\n        return _this46.handleRowExpandReserve(row, false);\n      });\n    }\n    return this.$nextTick().then(function () {\n      if (isExists) {\n        _this46.recalculate();\n      }\n    });\n  },\n  clearRowExpandReserve: function clearRowExpandReserve() {\n    this.rowExpandedReserveRowMap = {};\n    return this.$nextTick();\n  },\n  handleRowExpandReserve: function handleRowExpandReserve(row, expanded) {\n    var rowExpandedReserveRowMap = this.rowExpandedReserveRowMap,\n      expandOpts = this.expandOpts;\n    if (expandOpts.reserve) {\n      var rowid = (0, _util.getRowid)(this, row);\n      if (expanded) {\n        rowExpandedReserveRowMap[rowid] = row;\n      } else if (rowExpandedReserveRowMap[rowid]) {\n        delete rowExpandedReserveRowMap[rowid];\n      }\n    }\n  },\n  getRowExpandRecords: function getRowExpandRecords() {\n    return this.rowExpandeds.slice(0);\n  },\n  getTreeExpandRecords: function getTreeExpandRecords() {\n    return this.treeExpandeds.slice(0);\n  },\n  /**\r\n   * 获取数表格状态\r\n   */\n  getTreeStatus: function getTreeStatus() {\n    if (this.treeConfig) {\n      return {\n        config: this.treeOpts,\n        rowExpandeds: this.getTreeExpandRecords()\n      };\n    }\n    return null;\n  },\n  /**\r\n   * 判断树节点是否懒加载完成\r\n   * @param {Row} row 行对象\r\n   */\n  isTreeExpandLoaded: function isTreeExpandLoaded(row) {\n    var rest = this.fullAllDataRowMap.get(row);\n    return rest && rest.treeLoaded;\n  },\n  clearTreeExpandLoaded: function clearTreeExpandLoaded(row) {\n    var treeOpts = this.treeOpts,\n      treeExpandeds = this.treeExpandeds,\n      fullAllDataRowMap = this.fullAllDataRowMap;\n    var transform = treeOpts.transform,\n      lazy = treeOpts.lazy;\n    var rest = fullAllDataRowMap.get(row);\n    if (lazy && rest) {\n      rest.treeLoaded = false;\n      _xeUtils.default.remove(treeExpandeds, function (item) {\n        return row === item;\n      });\n    }\n    if (transform) {\n      this.handleVirtualTreeToList();\n      return this.handleTableData();\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 重新懒加载树节点，并展开该节点\r\n   * @param {Row} row 行对象\r\n   */\n  reloadTreeExpand: function reloadTreeExpand(row) {\n    var _this47 = this;\n    var treeOpts = this.treeOpts,\n      treeLazyLoadeds = this.treeLazyLoadeds;\n    var transform = treeOpts.transform,\n      lazy = treeOpts.lazy,\n      hasChild = treeOpts.hasChild;\n    if (lazy && row[hasChild] && treeLazyLoadeds.indexOf(row) === -1) {\n      this.clearTreeExpandLoaded(row).then(function () {\n        return _this47.handleAsyncTreeExpandChilds(row);\n      }).then(function () {\n        if (transform) {\n          _this47.handleVirtualTreeToList();\n          return _this47.handleTableData();\n        }\n      }).then(function () {\n        return _this47.recalculate();\n      });\n    }\n    return this.$nextTick();\n  },\n  reloadTreeChilds: function reloadTreeChilds(row) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _log.warnLog)('vxe.error.delFunc', ['reloadTreeChilds', 'reloadTreeExpand']);\n    }\n    // 即将废弃\n    return this.reloadTreeExpand(row);\n  },\n  /**\r\n   * 展开树节点事件\r\n   */\n  triggerTreeExpandEvent: function triggerTreeExpandEvent(evnt, params) {\n    var treeOpts = this.treeOpts,\n      treeLazyLoadeds = this.treeLazyLoadeds;\n    var row = params.row,\n      column = params.column;\n    var lazy = treeOpts.lazy;\n    if (!lazy || treeLazyLoadeds.indexOf(row) === -1) {\n      var expanded = !this.isTreeExpandByRow(row);\n      var columnIndex = this.getColumnIndex(column);\n      var $columnIndex = this.getVMColumnIndex(column);\n      this.setTreeExpand(row, expanded);\n      this.emitEvent('toggle-tree-expand', {\n        expanded: expanded,\n        column: column,\n        columnIndex: columnIndex,\n        $columnIndex: $columnIndex,\n        row: row\n      }, evnt);\n    }\n  },\n  /**\r\n   * 切换/展开树节点\r\n   */\n  toggleTreeExpand: function toggleTreeExpand(row) {\n    return this.setTreeExpand(row, !this.isTreeExpandByRow(row));\n  },\n  /**\r\n   * 处理默认展开树节点\r\n   */\n  handleDefaultTreeExpand: function handleDefaultTreeExpand() {\n    var treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts,\n      tableFullData = this.tableFullData;\n    if (treeConfig) {\n      var expandAll = treeOpts.expandAll,\n        expandRowKeys = treeOpts.expandRowKeys;\n      if (expandAll) {\n        this.setAllTreeExpand(true);\n      } else if (expandRowKeys) {\n        var defExpandeds = [];\n        var rowkey = (0, _util.getRowkey)(this);\n        expandRowKeys.forEach(function (rowid) {\n          var matchObj = _xeUtils.default.findTree(tableFullData, function (item) {\n            return rowid === _xeUtils.default.get(item, rowkey);\n          }, treeOpts);\n          if (matchObj) {\n            defExpandeds.push(matchObj.item);\n          }\n        });\n        this.setTreeExpand(defExpandeds, true);\n      }\n    }\n  },\n  handleAsyncTreeExpandChilds: function handleAsyncTreeExpandChilds(row) {\n    var _this48 = this;\n    var fullAllDataRowMap = this.fullAllDataRowMap,\n      treeExpandeds = this.treeExpandeds,\n      treeOpts = this.treeOpts,\n      treeLazyLoadeds = this.treeLazyLoadeds,\n      checkboxOpts = this.checkboxOpts;\n    var transform = treeOpts.transform,\n      loadMethod = treeOpts.loadMethod;\n    var checkStrictly = checkboxOpts.checkStrictly;\n    var rest = fullAllDataRowMap.get(row);\n    return new Promise(function (resolve) {\n      treeLazyLoadeds.push(row);\n      loadMethod({\n        $table: _this48,\n        row: row\n      }).then(function (childRecords) {\n        // 响应成功后则展开行，并将子节点挂载到该节点下\n        rest.treeLoaded = true;\n        _xeUtils.default.remove(treeLazyLoadeds, function (item) {\n          return item === row;\n        });\n        if (!_xeUtils.default.isArray(childRecords)) {\n          childRecords = [];\n        }\n        if (childRecords) {\n          return _this48.loadTreeChildren(row, childRecords).then(function (childRows) {\n            if (childRows.length && treeExpandeds.indexOf(row) === -1) {\n              treeExpandeds.push(row);\n            }\n            // 如果当前节点已选中，则展开后子节点也被选中\n            if (!checkStrictly && _this48.isCheckedByCheckboxRow(row)) {\n              _this48.setCheckboxRow(childRows, true);\n            }\n            return _this48.$nextTick().then(function () {\n              if (transform) {\n                return _this48.handleTableData();\n              }\n            });\n          });\n        }\n      }).catch(function () {\n        // 如果响应异常，则不展开，再次点击后将重新触发懒加载\n        rest.treeLoaded = false;\n        _xeUtils.default.remove(treeLazyLoadeds, function (item) {\n          return item === row;\n        });\n      }).finally(function () {\n        _this48.$nextTick().then(function () {\n          return _this48.recalculate();\n        }).then(function () {\n          return resolve();\n        });\n      });\n    });\n  },\n  /**\r\n   * 设置所有树节点的展开与否\r\n   * @param {Boolean} expanded 是否展开\r\n   */\n  setAllTreeExpand: function setAllTreeExpand(expanded) {\n    var tableFullData = this.tableFullData,\n      treeOpts = this.treeOpts;\n    var lazy = treeOpts.lazy,\n      children = treeOpts.children;\n    var expandeds = [];\n    _xeUtils.default.eachTree(tableFullData, function (row) {\n      var rowChildren = row[children];\n      if (lazy || rowChildren && rowChildren.length) {\n        expandeds.push(row);\n      }\n    }, treeOpts);\n    return this.setTreeExpand(expandeds, expanded);\n  },\n  /**\r\n   * 默认，展开与收起树节点\r\n   * @param rows\r\n   * @param expanded\r\n   * @returns\r\n   */\n  handleBaseTreeExpand: function handleBaseTreeExpand(rows, expanded) {\n    var _this49 = this;\n    var fullAllDataRowMap = this.fullAllDataRowMap,\n      tableFullData = this.tableFullData,\n      treeExpandeds = this.treeExpandeds,\n      treeOpts = this.treeOpts,\n      treeLazyLoadeds = this.treeLazyLoadeds,\n      treeNodeColumn = this.treeNodeColumn;\n    var reserve = treeOpts.reserve,\n      lazy = treeOpts.lazy,\n      hasChild = treeOpts.hasChild,\n      children = treeOpts.children,\n      accordion = treeOpts.accordion,\n      toggleMethod = treeOpts.toggleMethod;\n    var result = [];\n    var columnIndex = this.getColumnIndex(treeNodeColumn);\n    var $columnIndex = this.getVMColumnIndex(treeNodeColumn);\n    var validRows = toggleMethod ? rows.filter(function (row) {\n      return toggleMethod({\n        expanded: expanded,\n        column: treeNodeColumn,\n        columnIndex: columnIndex,\n        $columnIndex: $columnIndex,\n        row: row\n      });\n    }) : rows;\n    if (accordion) {\n      validRows = validRows.length ? [validRows[validRows.length - 1]] : [];\n      // 同一级只能展开一个\n      var matchObj = _xeUtils.default.findTree(tableFullData, function (item) {\n        return item === validRows[0];\n      }, treeOpts);\n      if (matchObj) {\n        _xeUtils.default.remove(treeExpandeds, function (item) {\n          return matchObj.items.indexOf(item) > -1;\n        });\n      }\n    }\n    if (expanded) {\n      validRows.forEach(function (row) {\n        if (treeExpandeds.indexOf(row) === -1) {\n          var rest = fullAllDataRowMap.get(row);\n          var isLoad = lazy && row[hasChild] && !rest.treeLoaded && treeLazyLoadeds.indexOf(row) === -1;\n          // 是否使用懒加载\n          if (isLoad) {\n            result.push(_this49.handleAsyncTreeExpandChilds(row));\n          } else {\n            if (row[children] && row[children].length) {\n              treeExpandeds.push(row);\n            }\n          }\n        }\n      });\n    } else {\n      _xeUtils.default.remove(treeExpandeds, function (row) {\n        return validRows.indexOf(row) > -1;\n      });\n    }\n    if (reserve) {\n      validRows.forEach(function (row) {\n        return _this49.handleTreeExpandReserve(row, expanded);\n      });\n    }\n    return Promise.all(result).then(this.recalculate);\n  },\n  /**\r\n   * 虚拟树的展开与收起\r\n   * @param rows\r\n   * @param expanded\r\n   * @returns\r\n   */\n  handleVirtualTreeExpand: function handleVirtualTreeExpand(rows, expanded) {\n    var _this50 = this;\n    return this.handleBaseTreeExpand(rows, expanded).then(function () {\n      _this50.handleVirtualTreeToList();\n      return _this50.handleTableData();\n    }).then(function () {\n      return _this50.recalculate();\n    });\n  },\n  /**\r\n   * 设置展开树形节点，二个参数设置这一行展开与否\r\n   * 支持单行\r\n   * 支持多行\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {Boolean} expanded 是否展开\r\n   */\n  setTreeExpand: function setTreeExpand(rows, expanded) {\n    var treeOpts = this.treeOpts;\n    var transform = treeOpts.transform;\n    if (rows) {\n      if (!_xeUtils.default.isArray(rows)) {\n        rows = [rows];\n      }\n      if (rows.length) {\n        // 如果为虚拟树\n        if (transform) {\n          return this.handleVirtualTreeExpand(rows, expanded);\n        } else {\n          return this.handleBaseTreeExpand(rows, expanded);\n        }\n      }\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 判断行是否为树形节点展开状态\r\n   * @param {Row} row 行对象\r\n   */\n  isTreeExpandByRow: function isTreeExpandByRow(row) {\n    return this.treeExpandeds.indexOf(row) > -1;\n  },\n  /**\r\n   * 手动清空树形节点的展开状态，数据会恢复成未展开的状态\r\n   */\n  clearTreeExpand: function clearTreeExpand() {\n    var _this51 = this;\n    var treeOpts = this.treeOpts,\n      treeExpandeds = this.treeExpandeds,\n      tableFullData = this.tableFullData;\n    var transform = treeOpts.transform,\n      reserve = treeOpts.reserve;\n    var isExists = treeExpandeds.length;\n    this.treeExpandeds = [];\n    if (reserve) {\n      _xeUtils.default.eachTree(tableFullData, function (row) {\n        return _this51.handleTreeExpandReserve(row, false);\n      }, treeOpts);\n    }\n    return this.handleTableData().then(function () {\n      if (transform) {\n        _this51.handleVirtualTreeToList();\n        return _this51.handleTableData();\n      }\n    }).then(function () {\n      if (isExists) {\n        _this51.recalculate();\n      }\n    });\n  },\n  clearTreeExpandReserve: function clearTreeExpandReserve() {\n    this.treeExpandedReserveRowMap = {};\n    return this.$nextTick();\n  },\n  handleTreeExpandReserve: function handleTreeExpandReserve(row, expanded) {\n    var treeExpandedReserveRowMap = this.treeExpandedReserveRowMap,\n      treeOpts = this.treeOpts;\n    if (treeOpts.reserve) {\n      var rowid = (0, _util.getRowid)(this, row);\n      if (expanded) {\n        treeExpandedReserveRowMap[rowid] = row;\n      } else if (treeExpandedReserveRowMap[rowid]) {\n        delete treeExpandedReserveRowMap[rowid];\n      }\n    }\n  },\n  /**\r\n   * 获取表格的滚动状态\r\n   */\n  getScroll: function getScroll() {\n    var $refs = this.$refs,\n      scrollXLoad = this.scrollXLoad,\n      scrollYLoad = this.scrollYLoad;\n    var bodyElem = $refs.tableBody.$el;\n    return {\n      virtualX: scrollXLoad,\n      virtualY: scrollYLoad,\n      scrollTop: bodyElem.scrollTop,\n      scrollLeft: bodyElem.scrollLeft\n    };\n  },\n  /**\r\n   * 横向 X 可视渲染事件处理\r\n   */\n  triggerScrollXEvent: function triggerScrollXEvent() {\n    this.loadScrollXData();\n  },\n  loadScrollXData: function loadScrollXData() {\n    var mergeList = this.mergeList,\n      mergeFooterList = this.mergeFooterList,\n      scrollXStore = this.scrollXStore;\n    var startIndex = scrollXStore.startIndex,\n      endIndex = scrollXStore.endIndex,\n      offsetSize = scrollXStore.offsetSize;\n    var _computeVirtualX2 = computeVirtualX(this),\n      toVisibleIndex = _computeVirtualX2.toVisibleIndex,\n      visibleSize = _computeVirtualX2.visibleSize;\n    var offsetItem = {\n      startIndex: Math.max(0, toVisibleIndex - 1 - offsetSize),\n      endIndex: toVisibleIndex + visibleSize + offsetSize\n    };\n    calculateMergerOffserIndex(mergeList.concat(mergeFooterList), offsetItem, 'col');\n    var offsetStartIndex = offsetItem.startIndex,\n      offsetEndIndex = offsetItem.endIndex;\n    if (toVisibleIndex <= startIndex || toVisibleIndex >= endIndex - visibleSize - 1) {\n      if (startIndex !== offsetStartIndex || endIndex !== offsetEndIndex) {\n        scrollXStore.startIndex = offsetStartIndex;\n        scrollXStore.endIndex = offsetEndIndex;\n        this.updateScrollXData();\n      }\n    }\n    this.closeTooltip();\n  },\n  /**\r\n   * 纵向 Y 可视渲染事件处理\r\n   */\n  triggerScrollYEvent: function triggerScrollYEvent(evnt) {\n    var scrollYStore = this.scrollYStore;\n    var adaptive = scrollYStore.adaptive,\n      offsetSize = scrollYStore.offsetSize,\n      visibleSize = scrollYStore.visibleSize;\n    // webkit 浏览器使用最佳的渲染方式，且最高渲染量不能大于 40 条\n    if (isWebkit && adaptive && offsetSize * 2 + visibleSize <= 40) {\n      this.loadScrollYData(evnt);\n    } else {\n      this.debounceScrollY(evnt);\n    }\n  },\n  debounceScrollY: _xeUtils.default.debounce(function (evnt) {\n    this.loadScrollYData(evnt);\n  }, debounceScrollYDuration, {\n    leading: false,\n    trailing: true\n  }),\n  /**\r\n   * 纵向 Y 可视渲染处理\r\n   */\n  loadScrollYData: function loadScrollYData(evnt) {\n    var mergeList = this.mergeList,\n      scrollYStore = this.scrollYStore;\n    var startIndex = scrollYStore.startIndex,\n      endIndex = scrollYStore.endIndex,\n      visibleSize = scrollYStore.visibleSize,\n      offsetSize = scrollYStore.offsetSize,\n      rowHeight = scrollYStore.rowHeight;\n    var scrollBodyElem = evnt.currentTarget || evnt.target;\n    var scrollTop = scrollBodyElem.scrollTop;\n    var toVisibleIndex = Math.floor(scrollTop / rowHeight);\n    var offsetItem = {\n      startIndex: Math.max(0, toVisibleIndex - 1 - offsetSize),\n      endIndex: toVisibleIndex + visibleSize + offsetSize\n    };\n    calculateMergerOffserIndex(mergeList, offsetItem, 'row');\n    var offsetStartIndex = offsetItem.startIndex,\n      offsetEndIndex = offsetItem.endIndex;\n    if (toVisibleIndex <= startIndex || toVisibleIndex >= endIndex - visibleSize - 1) {\n      if (startIndex !== offsetStartIndex || endIndex !== offsetEndIndex) {\n        scrollYStore.startIndex = offsetStartIndex;\n        scrollYStore.endIndex = offsetEndIndex;\n        this.updateScrollYData();\n      }\n    }\n  },\n  // 计算可视渲染相关数据\n  computeScrollLoad: function computeScrollLoad() {\n    var _this52 = this;\n    return this.$nextTick().then(function () {\n      var sYOpts = _this52.sYOpts,\n        sXOpts = _this52.sXOpts,\n        scrollXLoad = _this52.scrollXLoad,\n        scrollYLoad = _this52.scrollYLoad,\n        scrollXStore = _this52.scrollXStore,\n        scrollYStore = _this52.scrollYStore;\n      // 计算 X 逻辑\n      if (scrollXLoad) {\n        var _computeVirtualX3 = computeVirtualX(_this52),\n          visibleXSize = _computeVirtualX3.visibleSize;\n        var offsetXSize = sXOpts.oSize ? _xeUtils.default.toNumber(sXOpts.oSize) : _dom.browse.msie ? 10 : _dom.browse.edge ? 5 : 0;\n        scrollXStore.offsetSize = offsetXSize;\n        scrollXStore.visibleSize = visibleXSize;\n        scrollXStore.endIndex = Math.max(scrollXStore.startIndex + scrollXStore.visibleSize + offsetXSize, scrollXStore.endIndex);\n        _this52.updateScrollXData();\n      } else {\n        _this52.updateScrollXSpace();\n      }\n      // 计算 Y 逻辑\n      var _computeVirtualY = computeVirtualY(_this52),\n        rowHeight = _computeVirtualY.rowHeight,\n        visibleYSize = _computeVirtualY.visibleSize;\n      scrollYStore.rowHeight = rowHeight;\n      if (scrollYLoad) {\n        var offsetYSize = sYOpts.oSize ? _xeUtils.default.toNumber(sYOpts.oSize) : _dom.browse.msie ? 20 : _dom.browse.edge ? 10 : 0;\n        scrollYStore.offsetSize = offsetYSize;\n        scrollYStore.visibleSize = visibleYSize;\n        scrollYStore.endIndex = Math.max(scrollYStore.startIndex + visibleYSize + offsetYSize, scrollYStore.endIndex);\n        _this52.updateScrollYData();\n      } else {\n        _this52.updateScrollYSpace();\n      }\n      _this52.rowHeight = rowHeight;\n      _this52.$nextTick(_this52.updateStyle);\n    });\n  },\n  handleTableColumn: function handleTableColumn() {\n    var scrollXLoad = this.scrollXLoad,\n      visibleColumn = this.visibleColumn,\n      scrollXStore = this.scrollXStore;\n    this.tableColumn = scrollXLoad ? visibleColumn.slice(scrollXStore.startIndex, scrollXStore.endIndex) : visibleColumn.slice(0);\n  },\n  updateScrollXData: function updateScrollXData() {\n    var _this53 = this;\n    // this.tableColumn = []\n    this.$nextTick(function () {\n      _this53.handleTableColumn();\n      _this53.updateScrollXSpace();\n    });\n  },\n  // 更新横向 X 可视渲染上下剩余空间大小\n  updateScrollXSpace: function updateScrollXSpace() {\n    var $refs = this.$refs,\n      isGroup = this.isGroup,\n      elemStore = this.elemStore,\n      visibleColumn = this.visibleColumn,\n      scrollXStore = this.scrollXStore,\n      scrollXLoad = this.scrollXLoad,\n      tableWidth = this.tableWidth,\n      scrollbarWidth = this.scrollbarWidth;\n    var tableHeader = $refs.tableHeader,\n      tableBody = $refs.tableBody,\n      tableFooter = $refs.tableFooter;\n    var tableBodyElem = tableBody ? tableBody.$el : null;\n    if (tableBodyElem) {\n      var tableHeaderElem = tableHeader ? tableHeader.$el : null;\n      var tableFooterElem = tableFooter ? tableFooter.$el : null;\n      var headerElem = tableHeaderElem ? tableHeaderElem.querySelector('.vxe-table--header') : null;\n      var bodyElem = tableBodyElem.querySelector('.vxe-table--body');\n      var footerElem = tableFooterElem ? tableFooterElem.querySelector('.vxe-table--footer') : null;\n      var leftSpaceWidth = visibleColumn.slice(0, scrollXStore.startIndex).reduce(function (previous, column) {\n        return previous + column.renderWidth;\n      }, 0);\n      var marginLeft = '';\n      if (scrollXLoad) {\n        marginLeft = \"\".concat(leftSpaceWidth, \"px\");\n      }\n      if (headerElem) {\n        headerElem.style.marginLeft = isGroup ? '' : marginLeft;\n      }\n      bodyElem.style.marginLeft = marginLeft;\n      if (footerElem) {\n        footerElem.style.marginLeft = marginLeft;\n      }\n      var containerList = ['main'];\n      containerList.forEach(function (name) {\n        var layoutList = ['header', 'body', 'footer'];\n        layoutList.forEach(function (layout) {\n          var xSpaceElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-xSpace\")];\n          if (xSpaceElem) {\n            xSpaceElem.style.width = scrollXLoad ? \"\".concat(tableWidth + (layout === 'header' ? scrollbarWidth : 0), \"px\") : '';\n          }\n        });\n      });\n      this.$nextTick(this.updateStyle);\n    }\n  },\n  updateScrollYData: function updateScrollYData() {\n    var _this54 = this;\n    // this.tableData = []\n    this.$nextTick(function () {\n      _this54.handleTableData();\n      _this54.updateScrollYSpace();\n    });\n  },\n  // 更新纵向 Y 可视渲染上下剩余空间大小\n  updateScrollYSpace: function updateScrollYSpace() {\n    var elemStore = this.elemStore,\n      scrollYStore = this.scrollYStore,\n      scrollYLoad = this.scrollYLoad,\n      afterFullData = this.afterFullData;\n    var startIndex = scrollYStore.startIndex,\n      rowHeight = scrollYStore.rowHeight;\n    var bodyHeight = afterFullData.length * rowHeight;\n    var topSpaceHeight = Math.max(0, startIndex * rowHeight);\n    var containerList = ['main', 'left', 'right'];\n    var marginTop = '';\n    var ySpaceHeight = '';\n    if (scrollYLoad) {\n      marginTop = \"\".concat(topSpaceHeight, \"px\");\n      ySpaceHeight = \"\".concat(bodyHeight, \"px\");\n    }\n    containerList.forEach(function (name) {\n      var layoutList = ['header', 'body', 'footer'];\n      var tableElem = elemStore[\"\".concat(name, \"-body-table\")];\n      if (tableElem) {\n        tableElem.style.marginTop = marginTop;\n      }\n      layoutList.forEach(function (layout) {\n        var ySpaceElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-ySpace\")];\n        if (ySpaceElem) {\n          ySpaceElem.style.height = ySpaceHeight;\n        }\n      });\n    });\n    this.$nextTick(this.updateStyle);\n  },\n  /**\r\n   * 如果有滚动条，则滚动到对应的位置\r\n   * @param {Number} scrollLeft 左距离\r\n   * @param {Number} scrollTop 上距离\r\n   */\n  scrollTo: function scrollTo(scrollLeft, scrollTop) {\n    var _this55 = this;\n    var $refs = this.$refs;\n    var tableBody = $refs.tableBody,\n      rightBody = $refs.rightBody,\n      tableFooter = $refs.tableFooter;\n    var tableBodyElem = tableBody ? tableBody.$el : null;\n    var rightBodyElem = rightBody ? rightBody.$el : null;\n    var tableFooterElem = tableFooter ? tableFooter.$el : null;\n    if (_xeUtils.default.isNumber(scrollLeft)) {\n      (0, _dom.setScrollLeft)(tableFooterElem || tableBodyElem, scrollLeft);\n    }\n    if (_xeUtils.default.isNumber(scrollTop)) {\n      (0, _dom.setScrollTop)(rightBodyElem || tableBodyElem, scrollTop);\n    }\n    if (this.scrollXLoad || this.scrollYLoad) {\n      return new Promise(function (resolve) {\n        return setTimeout(function () {\n          return resolve(_this55.$nextTick());\n        }, 50);\n      });\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 如果有滚动条，则滚动到对应的行\r\n   * @param {Row} row 行对象\r\n   * @param {ColumnInfo} column 列配置\r\n   */\n  scrollToRow: function scrollToRow(row, fieldOrColumn) {\n    var rest = [];\n    if (row) {\n      if (this.treeConfig) {\n        rest.push(this.scrollToTreeRow(row));\n      } else {\n        rest.push((0, _util.rowToVisible)(this, row));\n      }\n    }\n    if (fieldOrColumn) {\n      rest.push(this.scrollToColumn(fieldOrColumn));\n    }\n    return Promise.all(rest);\n  },\n  /**\r\n   * 如果有滚动条，则滚动到对应的列\r\n   * @param {ColumnInfo} column 列配置\r\n   */\n  scrollToColumn: function scrollToColumn(fieldOrColumn) {\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\n    if (column && this.fullColumnMap.has(column)) {\n      return (0, _util.colToVisible)(this, column);\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 对于树形结构中，可以直接滚动到指定深层节点中\r\n   * 对于某些特定的场景可能会用到，比如定位到某一节点\r\n   * @param {Row} row 行对象\r\n   */\n  scrollToTreeRow: function scrollToTreeRow(row) {\n    var _this56 = this;\n    var tableFullData = this.tableFullData,\n      treeConfig = this.treeConfig,\n      treeOpts = this.treeOpts;\n    var rests = [];\n    if (treeConfig) {\n      var matchObj = _xeUtils.default.findTree(tableFullData, function (item) {\n        return item === row;\n      }, treeOpts);\n      if (matchObj) {\n        var nodes = matchObj.nodes;\n        nodes.forEach(function (row, index) {\n          if (index < nodes.length - 1 && !_this56.isTreeExpandByRow(row)) {\n            rests.push(_this56.setTreeExpand(row, true));\n          }\n        });\n      }\n    }\n    return Promise.all(rests).then(function () {\n      return (0, _util.rowToVisible)(_this56, row);\n    });\n  },\n  /**\r\n   * 手动清除滚动相关信息，还原到初始状态\r\n   */\n  clearScroll: function clearScroll() {\n    var $refs = this.$refs,\n      scrollXStore = this.scrollXStore,\n      scrollYStore = this.scrollYStore;\n    var tableBody = $refs.tableBody,\n      rightBody = $refs.rightBody,\n      tableFooter = $refs.tableFooter;\n    var tableBodyElem = tableBody ? tableBody.$el : null;\n    var rightBodyElem = rightBody ? rightBody.$el : null;\n    var tableFooterElem = tableFooter ? tableFooter.$el : null;\n    if (rightBodyElem) {\n      (0, _util.restoreScrollListener)(rightBodyElem);\n      rightBodyElem.scrollTop = 0;\n    }\n    if (tableFooterElem) {\n      tableFooterElem.scrollLeft = 0;\n    }\n    if (tableBodyElem) {\n      (0, _util.restoreScrollListener)(tableBodyElem);\n      tableBodyElem.scrollTop = 0;\n      tableBodyElem.scrollLeft = 0;\n    }\n    scrollXStore.startIndex = 0;\n    scrollYStore.startIndex = 0;\n    return this.$nextTick();\n  },\n  /**\r\n   * 更新表尾合计\r\n   */\n  updateFooter: function updateFooter() {\n    var showFooter = this.showFooter,\n      visibleColumn = this.visibleColumn,\n      footerMethod = this.footerMethod;\n    if (showFooter && footerMethod) {\n      this.footerTableData = visibleColumn.length ? footerMethod({\n        columns: visibleColumn,\n        data: this.afterFullData,\n        $table: this,\n        $grid: this.$xegrid\n      }) : [];\n    }\n    return this.$nextTick();\n  },\n  /**\r\n   * 更新列状态\r\n   * 如果组件值 v-model 发生 change 时，调用改函数用于更新某一列编辑状态\r\n   * 如果单元格配置了校验规则，则会进行校验\r\n   */\n  updateStatus: function updateStatus(scope, cellValue) {\n    var _this57 = this;\n    var customVal = !_xeUtils.default.isUndefined(cellValue);\n    return this.$nextTick().then(function () {\n      var $refs = _this57.$refs,\n        editRules = _this57.editRules,\n        validStore = _this57.validStore;\n      if (scope && $refs.tableBody && editRules) {\n        var row = scope.row,\n          column = scope.column;\n        var type = 'change';\n        if (_this57.hasCellRules(type, row, column)) {\n          var cell = _this57.getCell(row, column);\n          if (cell) {\n            return _this57.validCellRules(type, row, column, cellValue).then(function () {\n              if (customVal && validStore.visible) {\n                setCellValue(row, column, cellValue);\n              }\n              _this57.clearValidate();\n            }).catch(function (_ref8) {\n              var rule = _ref8.rule;\n              if (customVal) {\n                setCellValue(row, column, cellValue);\n              }\n              _this57.showValidTooltip({\n                rule: rule,\n                row: row,\n                column: column,\n                cell: cell\n              });\n            });\n          }\n        }\n      }\n    });\n  },\n  handleDefaultMergeCells: function handleDefaultMergeCells() {\n    this.setMergeCells(this.mergeCells);\n  },\n  /**\r\n   * 设置合并单元格\r\n   * @param {TableMergeConfig[]} merges { row: Row|number, column: ColumnInfo|number, rowspan: number, colspan: number }\r\n   */\n  setMergeCells: function setMergeCells(merges) {\n    var _this58 = this;\n    if (this.spanMethod) {\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-cells', 'span-method']);\n    }\n    setMerges(this, merges, this.mergeList, this.afterFullData);\n    return this.$nextTick().then(function () {\n      return _this58.updateCellAreas();\n    });\n  },\n  /**\r\n   * 移除单元格合并\r\n   * @param {TableMergeConfig[]} merges 多个或数组 [{row:Row|number, col:ColumnInfo|number}]\r\n   */\n  removeMergeCells: function removeMergeCells(merges) {\n    var _this59 = this;\n    if (this.spanMethod) {\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-cells', 'span-method']);\n    }\n    var rest = removeMerges(this, merges, this.mergeList, this.afterFullData);\n    return this.$nextTick().then(function () {\n      _this59.updateCellAreas();\n      return rest;\n    });\n  },\n  /**\r\n   * 获取所有被合并的单元格\r\n   */\n  getMergeCells: function getMergeCells() {\n    return this.mergeList.slice(0);\n  },\n  /**\r\n   * 清除所有单元格合并\r\n   */\n  clearMergeCells: function clearMergeCells() {\n    this.mergeList = [];\n    return this.$nextTick();\n  },\n  handleDefaultMergeFooterItems: function handleDefaultMergeFooterItems() {\n    this.setMergeFooterItems(this.mergeFooterItems);\n  },\n  setMergeFooterItems: function setMergeFooterItems(merges) {\n    var _this60 = this;\n    if (this.footerSpanMethod) {\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-footer-items', 'footer-span-method']);\n    }\n    setMerges(this, merges, this.mergeFooterList, null);\n    return this.$nextTick().then(function () {\n      return _this60.updateCellAreas();\n    });\n  },\n  removeMergeFooterItems: function removeMergeFooterItems(merges) {\n    var _this61 = this;\n    if (this.footerSpanMethod) {\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-footer-items', 'footer-span-method']);\n    }\n    var rest = removeMerges(this, merges, this.mergeFooterList, null);\n    return this.$nextTick().then(function () {\n      _this61.updateCellAreas();\n      return rest;\n    });\n  },\n  /**\r\n   * 获取所有被合并的表尾\r\n   */\n  getMergeFooterItems: function getMergeFooterItems() {\n    return this.mergeFooterList.slice(0);\n  },\n  /**\r\n   * 清除所有表尾合并\r\n   */\n  clearMergeFooterItems: function clearMergeFooterItems() {\n    this.mergeFooterList = [];\n    return this.$nextTick();\n  },\n  updateZindex: function updateZindex() {\n    if (this.zIndex) {\n      this.tZindex = this.zIndex;\n    } else if (this.tZindex < _utils.default.getLastZIndex()) {\n      this.tZindex = _utils.default.nextZIndex();\n    }\n  },\n  updateCellAreas: function updateCellAreas() {\n    if (this.mouseConfig && this.mouseOpts.area && this.handleUpdateCellAreas) {\n      this.handleUpdateCellAreas();\n    }\n  },\n  emitEvent: function emitEvent(type, params, evnt) {\n    this.$emit(type, Object.assign({\n      $table: this,\n      $grid: this.$xegrid,\n      $event: evnt\n    }, params));\n  },\n  focus: function focus() {\n    this.isActivated = true;\n    return this.$nextTick();\n  },\n  blur: function blur() {\n    this.isActivated = false;\n    return this.$nextTick();\n  },\n  // 连接工具栏\n  connect: function connect($toolbar) {\n    if ($toolbar && $toolbar.syncUpdate) {\n      $toolbar.syncUpdate({\n        collectColumn: this.collectColumn,\n        $table: this\n      });\n      this.$toolbar = $toolbar;\n    } else {\n      (0, _log.errLog)('vxe.error.barUnableLink');\n    }\n    return this.$nextTick();\n  },\n  /*************************\r\n   * Publish methods\r\n   *************************/\n  getCell: function getCell(row, column) {\n    var $refs = this.$refs;\n    var rowid = (0, _util.getRowid)(this, row);\n    var bodyElem = $refs[\"\".concat(column.fixed || 'table', \"Body\")] || $refs.tableBody;\n    if (bodyElem && bodyElem.$el) {\n      return bodyElem.$el.querySelector(\".vxe-body--row[rowid=\\\"\".concat(rowid, \"\\\"] .\").concat(column.id));\n    }\n    return null;\n  },\n  getCellLabel: function getCellLabel(row, column) {\n    var formatter = column.formatter;\n    var cellValue = _utils.default.getCellValue(row, column);\n    var cellLabel = cellValue;\n    if (formatter) {\n      var rest, formatData;\n      var fullAllDataRowMap = this.fullAllDataRowMap;\n      var colid = column.id;\n      var cacheFormat = fullAllDataRowMap.has(row);\n      if (cacheFormat) {\n        rest = fullAllDataRowMap.get(row);\n        formatData = rest.formatData;\n        if (!formatData) {\n          formatData = fullAllDataRowMap.get(row).formatData = {};\n        }\n        if (rest && formatData[colid]) {\n          if (formatData[colid].value === cellValue) {\n            return formatData[colid].label;\n          }\n        }\n      }\n      var formatParams = {\n        cellValue: cellValue,\n        row: row,\n        rowIndex: this.getRowIndex(row),\n        column: column,\n        columnIndex: this.getColumnIndex(column)\n      };\n      if (_xeUtils.default.isString(formatter)) {\n        var globalFunc = _formats.formats.get(formatter);\n        cellLabel = globalFunc ? globalFunc(formatParams) : '';\n      } else if (_xeUtils.default.isArray(formatter)) {\n        var _globalFunc = _formats.formats.get(formatter[0]);\n        cellLabel = _globalFunc ? _globalFunc.apply(void 0, [formatParams].concat(_toConsumableArray(formatter.slice(1)))) : '';\n      } else {\n        cellLabel = formatter(formatParams);\n      }\n      if (formatData) {\n        formatData[colid] = {\n          value: cellValue,\n          label: cellLabel\n        };\n      }\n    }\n    return cellLabel;\n  },\n  findRowIndexOf: function findRowIndexOf(list, row) {\n    var _this62 = this;\n    return row ? _xeUtils.default.findIndexOf(list, function (item) {\n      return _this62.eqRow(item, row);\n    }) : -1;\n  },\n  eqRow: function eqRow(row1, row2) {\n    if (row1 && row2) {\n      if (row1 === row2) {\n        return true;\n      }\n      return (0, _util.getRowid)(this, row1) === (0, _util.getRowid)(this, row2);\n    }\n    return false;\n  },\n  /*************************\r\n   * Publish methods\r\n   *************************/\n  getSetupOptions: function getSetupOptions() {\n    return _conf.default;\n  }\n};\n\n// Module methods\nvar funcs = 'setFilter,openFilter,clearFilter,getCheckedFilters,closeMenu,setActiveCellArea,getActiveCellArea,getCellAreas,clearCellAreas,copyCellArea,cutCellArea,pasteCellArea,getCopyCellArea,getCopyCellAreas,clearCopyCellArea,setCellAreas,openFind,openReplace,closeFNR,getSelectedCell,clearSelected,insert,insertAt,remove,removeCheckboxRow,removeRadioRow,removeCurrentRow,getRecordset,getInsertRecords,getRemoveRecords,getUpdateRecords,clearEdit,clearActived,getEditRecord,getActiveRecord,isEditByRow,isActiveByRow,setEditRow,setActiveRow,setEditCell,setActiveCell,setSelectCell,clearValidate,fullValidate,validate,openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print'.split(',');\nfuncs.forEach(function (name) {\n  Methods[name] = function () {\n    if (process.env.NODE_ENV === 'development') {\n      if (!this[\"_\".concat(name)]) {\n        if ('openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print'.split(',').includes(name)) {\n          (0, _log.errLog)('vxe.error.reqModule', ['Export']);\n        } else if ('clearValidate,fullValidate,validate'.split(',').includes(name)) {\n          (0, _log.errLog)('vxe.error.reqModule', ['Validator']);\n        }\n      }\n    }\n    return this[\"_\".concat(name)] ? this[\"_\".concat(name)].apply(this, arguments) : null;\n  };\n});\nvar _default = Methods;\nexports.default = _default;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_xeUtils","_interopRequireDefault","require","_conf","_cell","_vXETable","_util","_utils","_interopRequireWildcard","_dom","_formats","_log","_vn","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","isArray","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","setCellValue","hasChildrenList","getColumnList","calcHeight","hasClass","addClass","removeClass","getEventTargetNode","isNodeElement","isWebkit","browse","edge","debounceScrollYDuration","msie","resizableStorageKey","visibleStorageKey","getRowUniqueId","uniqueId","eqCellValue","row1","row2","field","val1","val2","eqEmptyValue","isString","isNumber","isEqual","getNextSortOrder","_vm","column","orders","sortOpts","currOrder","order","oIndex","indexOf","getCustomStorageMap","version","rest","toStringJSON","localStorage","getItem","_v","getRecoverRow","list","fullAllDataRowMap","row","handleReserveRow","reserveRowMap","fullDataRowIdData","reserveList","each","item","rowid","computeVirtualX","$refs","visibleColumn","tableBody","tableBodyElem","$el","scrollLeft","clientWidth","endWidth","toVisibleIndex","cWidth","visibleSize","colIndex","colLen","renderWidth","Math","max","computeVirtualY","vSize","rowHeightMaps","tableHeader","tableHeaderElem","rowHeight","firstTrElem","querySelector","clientHeight","ceil","calculateMergerOffserIndex","offsetItem","type","mcIndex","mergeItem","startIndex","endIndex","mergeStartIndex","mergeSpanNumber","mergeEndIndex","setMerges","merges","mList","rowList","treeConfig","errLog","col","rowspan","colspan","toNumber","findIndexOf","_row","_col","_rowspan","_colspan","mergeRowIndex","mergeColIndex","removeMerges","rItems","splice","clearAllSort","tableFullColumn","getOrderField","sortBy","sortType","cellValue","isFunction","getCellLabel","isNaN","toValueString","Methods","callSlot","slotFunc","params","h","vNodes","$xegrid","getSlotVNs","getParentElem","parentNode","getParentHeight","height","parentElem","parentPaddingSize","getPaddingTopBottomSize","floor","getComputedStyle","getExcludeHeight","clearAll","clearTableAllStatus","syncData","_this","$nextTick","then","tableData","loadTableData","tableFullData","updateData","_this2","scrollXLoad","scrollYLoad","handleTableData","updateFooter","checkSelectionStatus","updateScrollXSpace","updateScrollYSpace","refreshScroll","updateCellAreas","recalculate","setTimeout","force","_this3","scrollYStore","afterFullData","fullList","updateAfterFullData","handleVirtualTreeToList","$index","getRowid","updateScrollYStatus","fullData","treeOpts","sYOpts","transform","enabled","gt","datas","_this4","keepSource","editStore","scrollXStore","lastScrollLeft","lastScrollTop","oldScrollYLoad","sXOpts","treeData","process","env","NODE_ENV","rowField","parentField","children","mapChildren","warnLog","concat","toArrayTree","parentKey","insertList","removeList","sYLoad","tableFullTreeData","cacheRowMap","tableSynchData","tableSourceData","clone","maxHeight","showOverflow","spanMethod","clearCellAreas","mouseConfig","clearCopyCellArea","clearMergeCells","clearMergeFooterItems","updateHeight","updateStyle","computeScrollLoad","handleReserveStatus","Promise","resolve","targetScrollLeft","targetScrollTop","scrollToLeftOnChange","scrollToTopOnChange","restoreScrollLocation","loadData","_this5","inited","initStatus","handleLoadDefaults","handleInitDefaults","reloadData","_this6","reloadRow","record","rowIndex","getRowIndex","oRow","newValue","newRecord","destructuring","assign","loadColumn","columns","_this7","collectColumn","mapTree","createColumn","handleColumn","reloadColumn","_this8","_this9","cacheColumnMap","restoreCustomStorage","parseColumns","loadScrollXData","expandColumn","$toolbar","syncUpdate","$table","_this10","fullDataRowMap","fullAllDataRowIdData","rowkey","getRowkey","isLazy","lazy","handleCache","index","items","path","parent","nodes","seq","toTreePathSeq","level","hasChild","isUndefined","_index","clear","eachTree","loadTreeChildren","childRecords","_this11","parentLevel","createData","rows","matchObj","findTree","childRow","updateAfterDataIndex","_this12","fullColumnMap","fullColumnIdData","fullColumnFieldData","isGroup","some","isAllOverflow","treeNodeColumn","checkboxColumn","radioColumn","hasFixed","handleFunc","colid","id","fixed","treeNode","showHeaderOverflow","showFooterOverflow","mouseOpts","area","getRowNode","tr","getAttribute","getColumnNode","cell","getRowSeq","getVTRowIndex","_getRowIndex","getVMRowIndex","$getRowIndex","getColumnIndex","getVTColumnIndex","_getColumnIndex","getVMColumnIndex","tableColumn","$getColumnIndex","isSeqColumn","defineField","radioOpts","checkboxOpts","expandOpts","editRender","defaultValue","otherFields","labelField","checkField","records","_this13","handleRrecord","map","createRow","_this14","isArr","revertData","_this15","targetRows","toArray","getUpdateRecords","isInsertByRow","clearData","removeInsertRow","remove","isUpdateByRow","_this16","property","oRowIndex","getColumns","columnIndex","getColumnById","getColumnByField","getTableColumn","fullColumn","getData","data","getCheckboxRecords","isFull","_this17","afterTreeFullData","currTableData","filterTree","selection","findRowIndexOf","treeExpandeds","expandMaps","Map","_this18","filterOpts","allRemoteFilter","remote","allFilterMethod","filterMethod","allRemoteSort","allSortMethod","sortMethod","sortMultiple","multiple","chronological","tableTree","filterColumns","orderColumns","sortable","filters","valueList","itemList","checked","sortTime","orderBy","handleFilter","every","_ref","filterRender","compConf","renderer","compFilterMethod","renderFilter","defaultFilterMethod","getCellValue","option","options","values","searchTree","original","firstOrderColumn","sortRests","sortList","_ref2","_sortRests","_ref3","sortByConfs","_ref4","_this19","allrest","num","Number","join","getParentRow","rowOrRowid","getRowById","eqNull","encodeURIComponent","getTableData","footerTableData","visibleData","footerData","_this20","checkboxConfig","handleDefaultSelectionChecked","radioConfig","handleDefaultRadioChecked","expandConfig","handleDefaultRowExpand","handleDefaultTreeExpand","mergeCells","handleDefaultMergeCells","mergeFooterItems","handleDefaultMergeFooterItems","sortConfig","handleDefaultSort","hideColumn","fieldOrColumn","handleFieldOrColumn","visible","handleCustom","showColumn","resetColumn","customOpts","checkMethod","opts","resizable","resizeWidth","defaultVisible","saveCustomResizable","saveCustomVisible","analyColumnWidth","refreshColumn","customConfig","storage","isAllStorage","isResizable","isVisible","customMap","columnWidthStorage","columnVisibleStorage","colVisibles","split","colHides","colShows","keyMap","colKey","getKey","_ref5","isBoolean","columnVisibleStorageMap","_colKey","undefined","setItem","toJSONString","isReset","columnWidthStorageMap","isPlainObject","isEmpty","_this21","_this22","leftList","centerList","rightList","columnStore","leftGroupList","centerGroupList","rightGroupList","isColGroup","subColumn","tableGroupColumn","hasFixedColumn","showHeader","showFooter","footerSpanMethod","_computeVirtualX","handleTableColumn","columnOpts","defaultWidth","width","defaultMinWidth","minWidth","resizeList","pxList","pxMinList","scaleList","scaleMinList","autoList","isPx","isScale","_this23","leftBody","rightBody","tableFooter","leftBodyElem","rightBodyElem","tableFooterElem","setScrollTop","setScrollLeft","refull","_this24","bodyElem","headerElem","footerElem","autoCellWidth","tableWidth","minCellWidth","bodyWidth","remainWidth","meanWidth","fit","parseInt","scaleWidth","dynamicList","dynamicSize","odiffer","tableHeight","offsetHeight","overflowY","scrollHeight","scrollbarWidth","offsetWidth","headerHeight","footerHeight","scrollbarHeight","overflowX","parentHeight","checkScrolling","customHeight","customMaxHeight","_this25","border","allColumnOverflow","allColumnHeaderOverflow","allColumnFooterOverflow","cellOffsetWidth","elemStore","currentRow","keyboardConfig","keyboardOpts","mergeList","mergeFooterList","containerList","emptyPlaceholderElem","emptyPlaceholder","bodyWrapperElem","style","top","fixedType","layoutList","fixedColumn","fixedWrapperElem","layout","wrapperElem","tableElem","tWidth","renderColumnList","reduce","previous","arrayEach","querySelectorAll","resizeElem","repairElem","listElem","thElem","colNode","cellOverflow","showEllipsis","showTitle","showTooltip","hasEllipsis","childWidth","countChild","emptyBlockElem","isRightFixed","_fixedColumn","_tWidth","_renderColumnList","isMerge","paddingRight","safari","_tWidth2","_renderColumnList2","marginTop","colgroupElem","colElem","isNull","_listElem","elem","cellElem","colWidth","nextColumn","setCurrentRow","selected","addColSdCls","_this$$refs","leftContainer","rightContainer","scrollWidth","preventEvent","evnt","args","next","end","_this26","evntList","interceptor","func","$grid","$event","handleGlobalMousedownEvent","_this27","ctxMenuStore","editOpts","filterStore","actived","ctxWrapper","filterWrapper","validTip","flag","document","body","closeFilter","autoClear","lastCallTime","Date","now","isClearActived","mode","rowNode","targetElem","offsetY","clearEdit","clearSelected","closeMenu","isActivated","handleGlobalBlurEvent","handleGlobalMousewheelEvent","closeTooltip","keydownEvent","_this28","keyCode","isEsc","emitEvent","handleKeyboardEvent","stopPropagation","handleSelected","handleGlobalKeydownEvent","_this29","isCtxMenu","editConfig","highlightCurrentRow","bodyCtxMenu","rowOpts","isBack","isTab","isEnter","isSpacebar","isLeftArrow","isUpArrow","isRightArrow","isDwArrow","isDel","isF2","isContextMenu","hasMetaKey","metaKey","hasCtrlKey","ctrlKey","hasShiftKey","shiftKey","hasAltKey","altKey","operArrow","operCtxMenu","isEditStatus","isEnableConf","preventDefault","showChild","moveCtxMenu","ctxMenuList","isChecked","handleToggleCheckRowEvent","triggerRadioRowEvent","handleActived","_keyCtx","clearTimeout","keyCtxTimeout","isCurrent","targetArgs","enterToTab","moveTabSelected","moveSelected","childrens","targetRow","setTreeExpand","scrollToRow","triggerCurrentRowEvent","isArrow","moveCurrentRow","delMethod","backMethod","_XEUtils$findTree","parentRow","isEdit","editMethod","beforeEditMethod","activeMethod","handleGlobalPasteEvent","isClip","handlePasteCellAreaEvent","handleGlobalCopyEvent","handleCopyCellAreaEvent","handleGlobalCutEvent","handleCutCellAreaEvent","handleGlobalResizeEvent","handleTargetEnterEvent","isClear","$tooltip","tooltip","tooltipTimeout","setActived","handleTargetLeaveEvent","_this30","tooltipOpts","enterable","isActived","leaveDelay","triggerHeaderHelpEvent","titlePrefix","titleHelp","content","message","tooltipStore","getFuncText","currOpts","open","currentTarget","triggerHeaderTooltipEvent","titleElem","handleTooltip","triggerBodyTooltipEvent","overflowElem","tipElem","triggerFooterTooltipEvent","showAll","contentMethod","customContent","useCustom","innerText","textContent","trim","isCellOverflow","formatText","openTooltip","commTip","close","isAllCheckboxChecked","isAllSelected","isAllCheckboxIndeterminate","isIndeterminate","isCheckboxIndeterminate","getCheckboxIndeterminateRecords","_this31","treeIndeterminates","checkAll","checkRowKeys","setAllCheckboxRow","defSelection","setCheckboxRow","_this32","handleSelectRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","_ref6","_this33","checkStrictly","eqRow","half","handleCheckboxReserveRow","parentStatus","vItems","indeterminatesItem","find","selectItems","select","_matchObj","_parentStatus","_vItems","_indeterminatesItem","_selectItems","triggerCheckRowEvent","reserves","getCheckboxReserveRecords","indeterminates","toggleCheckboxRow","_this34","checkboxReserveRowMap","reserve","selectRows","beforeSelection","checkValFn","_this35","halfField","disableRows","checkRows","isAllResolve","selectRow","radioReserveRow","rowExpandeds","setRadioRow","setRowExpand","rowExpandedReserveRowMap","treeExpandedReserveRowMap","getRadioReserveRecord","clearRadioReserve","handleRadioReserveRow","_this36","reserveSelection","afterFullIdMaps","oldRow","oldRowid","clearCheckboxReserve","triggerCheckAllEvent","toggleAllCheckboxRow","clearCheckboxRow","_this37","checkRowKey","oldValue","isChange","strict","clearRadioRow","clearCurrentRow","clearCurrentColumn","isCheckedByRadioRow","hoverRow","getCurrentRecord","getRadioRecord","triggerHoverEvent","_ref7","setHoverRow","clearHoverRow","triggerHeaderCellClickEvent","_lastResizeTime","triggerResizable","triggerSort","triggerFilter","trigger","triggerSortEvent","highlightCurrentColumn","setCurrentColumn","triggerHeaderCellDblclickEvent","getCurrentColumn","currentColumn","checkValidate","_valid","triggerValidate","handleChangeCell","_this38","catch","e","triggerCellClickEvent","_params","isRadioType","isCheckboxType","isExpandType","triggerRadio","triggerCheckbox","triggerTreeNode","triggerExpandNode","triggerRowExpandEvent","triggerTreeExpandEvent","triggerCellDblclickEvent","_this39","_this40","defaultSort","remoteSort","clearSort","sort","getSortColumns","sortConfs","sortOrder","_this41","firstSortColumn","confs","getSortColumn","isSort","_this$sortOpts","filterList","getCheckedFilters","isFilter","isRowExpandLoaded","expandLoaded","clearRowExpandLoaded","_this42","expandLazyLoadeds","reloadRowExpand","_this43","handleAsyncRowExpand","reloadExpandContent","expanded","isExpandByRow","$columnIndex","$rowIndex","toggleRowExpand","expandAll","expandRowKeys","setAllRowExpand","defExpandeds","_this44","loadMethod","finally","_this45","accordion","toggleMethod","lazyRests","validRows","isLoad","handleRowExpandReserve","all","clearRowExpand","_this46","isExists","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","getTreeStatus","config","isTreeExpandLoaded","treeLoaded","clearTreeExpandLoaded","reloadTreeExpand","_this47","treeLazyLoadeds","handleAsyncTreeExpandChilds","reloadTreeChilds","isTreeExpandByRow","toggleTreeExpand","setAllTreeExpand","_this48","childRows","expandeds","rowChildren","handleBaseTreeExpand","_this49","result","handleTreeExpandReserve","handleVirtualTreeExpand","_this50","clearTreeExpand","_this51","clearTreeExpandReserve","getScroll","virtualX","virtualY","scrollTop","triggerScrollXEvent","offsetSize","_computeVirtualX2","offsetStartIndex","offsetEndIndex","updateScrollXData","triggerScrollYEvent","adaptive","loadScrollYData","debounceScrollY","debounce","leading","trailing","scrollBodyElem","updateScrollYData","_this52","_computeVirtualX3","visibleXSize","offsetXSize","oSize","_computeVirtualY","visibleYSize","offsetYSize","_this53","leftSpaceWidth","marginLeft","xSpaceElem","_this54","bodyHeight","topSpaceHeight","ySpaceHeight","ySpaceElem","scrollTo","_this55","scrollToTreeRow","rowToVisible","scrollToColumn","colToVisible","_this56","rests","clearScroll","restoreScrollListener","footerMethod","updateStatus","scope","_this57","customVal","editRules","validStore","hasCellRules","getCell","validCellRules","clearValidate","_ref8","rule","showValidTooltip","setMergeCells","_this58","removeMergeCells","_this59","getMergeCells","setMergeFooterItems","_this60","removeMergeFooterItems","_this61","getMergeFooterItems","updateZindex","zIndex","tZindex","getLastZIndex","nextZIndex","handleUpdateCellAreas","$emit","focus","blur","connect","formatter","cellLabel","formatData","cacheFormat","label","formatParams","globalFunc","formats","_globalFunc","_this62","getSetupOptions","funcs","includes","_default"],"sources":["D:/program/LanqiaoVue/vue-demo/node_modules/vxe-table/lib/table/src/methods.js"],"sourcesContent":["\"use strict\";\r\n\r\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _xeUtils = _interopRequireDefault(require(\"xe-utils\"));\r\nvar _conf = _interopRequireDefault(require(\"../../v-x-e-table/src/conf\"));\r\nvar _cell = _interopRequireDefault(require(\"./cell\"));\r\nvar _vXETable = _interopRequireDefault(require(\"../../v-x-e-table\"));\r\nvar _util = require(\"./util\");\r\nvar _utils = _interopRequireWildcard(require(\"../../tools/utils\"));\r\nvar _dom = _interopRequireWildcard(require(\"../../tools/dom\"));\r\nvar _formats = require(\"../../v-x-e-table/src/formats\");\r\nvar _log = require(\"../../tools/log\");\r\nvar _vn = require(\"../../tools/vn\");\r\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\r\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nvar setCellValue = _utils.default.setCellValue,\r\n  hasChildrenList = _utils.default.hasChildrenList,\r\n  getColumnList = _utils.default.getColumnList;\r\nvar calcHeight = _dom.default.calcHeight,\r\n  hasClass = _dom.default.hasClass,\r\n  addClass = _dom.default.addClass,\r\n  removeClass = _dom.default.removeClass,\r\n  getEventTargetNode = _dom.default.getEventTargetNode,\r\n  isNodeElement = _dom.default.isNodeElement;\r\nvar isWebkit = _dom.browse['-webkit'] && !_dom.browse.edge;\r\nvar debounceScrollYDuration = _dom.browse.msie ? 80 : 20;\r\nvar resizableStorageKey = 'VXE_TABLE_CUSTOM_COLUMN_WIDTH';\r\nvar visibleStorageKey = 'VXE_TABLE_CUSTOM_COLUMN_VISIBLE';\r\n\r\n/**\r\n * 生成行的唯一主键\r\n */\r\nfunction getRowUniqueId() {\r\n  return _xeUtils.default.uniqueId('row_');\r\n}\r\nfunction eqCellValue(row1, row2, field) {\r\n  var val1 = _xeUtils.default.get(row1, field);\r\n  var val2 = _xeUtils.default.get(row2, field);\r\n  if ((0, _utils.eqEmptyValue)(val1) && (0, _utils.eqEmptyValue)(val2)) {\r\n    return true;\r\n  }\r\n  if (_xeUtils.default.isString(val1) || _xeUtils.default.isNumber(val1)) {\r\n    return '' + val1 === '' + val2;\r\n  }\r\n  return _xeUtils.default.isEqual(val1, val2);\r\n}\r\nfunction getNextSortOrder(_vm, column) {\r\n  var orders = _vm.sortOpts.orders;\r\n  var currOrder = column.order || null;\r\n  var oIndex = orders.indexOf(currOrder) + 1;\r\n  return orders[oIndex < orders.length ? oIndex : 0];\r\n}\r\nfunction getCustomStorageMap(key) {\r\n  var version = _conf.default.version;\r\n  var rest = _xeUtils.default.toStringJSON(localStorage.getItem(key));\r\n  return rest && rest._v === version ? rest : {\r\n    _v: version\r\n  };\r\n}\r\nfunction getRecoverRow(_vm, list) {\r\n  var fullAllDataRowMap = _vm.fullAllDataRowMap;\r\n  return list.filter(function (row) {\r\n    return fullAllDataRowMap.has(row);\r\n  });\r\n}\r\nfunction handleReserveRow(_vm, reserveRowMap) {\r\n  var fullDataRowIdData = _vm.fullDataRowIdData;\r\n  var reserveList = [];\r\n  _xeUtils.default.each(reserveRowMap, function (item, rowid) {\r\n    if (fullDataRowIdData[rowid] && reserveList.indexOf(fullDataRowIdData[rowid].row) === -1) {\r\n      reserveList.push(fullDataRowIdData[rowid].row);\r\n    }\r\n  });\r\n  return reserveList;\r\n}\r\nfunction computeVirtualX(_vm) {\r\n  var $refs = _vm.$refs,\r\n    visibleColumn = _vm.visibleColumn;\r\n  var tableBody = $refs.tableBody;\r\n  var tableBodyElem = tableBody ? tableBody.$el : null;\r\n  if (tableBodyElem) {\r\n    var scrollLeft = tableBodyElem.scrollLeft,\r\n      clientWidth = tableBodyElem.clientWidth;\r\n    var endWidth = scrollLeft + clientWidth;\r\n    var toVisibleIndex = -1;\r\n    var cWidth = 0;\r\n    var visibleSize = 0;\r\n    for (var colIndex = 0, colLen = visibleColumn.length; colIndex < colLen; colIndex++) {\r\n      cWidth += visibleColumn[colIndex].renderWidth;\r\n      if (toVisibleIndex === -1 && scrollLeft < cWidth) {\r\n        toVisibleIndex = colIndex;\r\n      }\r\n      if (toVisibleIndex >= 0) {\r\n        visibleSize++;\r\n        if (cWidth > endWidth) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      toVisibleIndex: Math.max(0, toVisibleIndex),\r\n      visibleSize: Math.max(8, visibleSize)\r\n    };\r\n  }\r\n  return {\r\n    toVisibleIndex: 0,\r\n    visibleSize: 8\r\n  };\r\n}\r\nfunction computeVirtualY(_vm) {\r\n  var $refs = _vm.$refs,\r\n    vSize = _vm.vSize,\r\n    rowHeightMaps = _vm.rowHeightMaps;\r\n  var tableHeader = $refs.tableHeader,\r\n    tableBody = $refs.tableBody;\r\n  var tableBodyElem = tableBody ? tableBody.$el : null;\r\n  if (tableBodyElem) {\r\n    var tableHeaderElem = tableHeader ? tableHeader.$el : null;\r\n    var rowHeight = 0;\r\n    var firstTrElem;\r\n    firstTrElem = tableBodyElem.querySelector('tr');\r\n    if (!firstTrElem && tableHeaderElem) {\r\n      firstTrElem = tableHeaderElem.querySelector('tr');\r\n    }\r\n    if (firstTrElem) {\r\n      rowHeight = firstTrElem.clientHeight;\r\n    }\r\n    if (!rowHeight) {\r\n      rowHeight = rowHeightMaps[vSize || 'default'];\r\n    }\r\n    var visibleSize = Math.max(8, Math.ceil(tableBodyElem.clientHeight / rowHeight) + 2);\r\n    return {\r\n      rowHeight: rowHeight,\r\n      visibleSize: visibleSize\r\n    };\r\n  }\r\n  return {\r\n    rowHeight: 0,\r\n    visibleSize: 8\r\n  };\r\n}\r\nfunction calculateMergerOffserIndex(list, offsetItem, type) {\r\n  for (var mcIndex = 0, len = list.length; mcIndex < len; mcIndex++) {\r\n    var mergeItem = list[mcIndex];\r\n    var startIndex = offsetItem.startIndex,\r\n      endIndex = offsetItem.endIndex;\r\n    var mergeStartIndex = mergeItem[type];\r\n    var mergeSpanNumber = mergeItem[type + 'span'];\r\n    var mergeEndIndex = mergeStartIndex + mergeSpanNumber;\r\n    if (mergeStartIndex < startIndex && startIndex < mergeEndIndex) {\r\n      offsetItem.startIndex = mergeStartIndex;\r\n    }\r\n    if (mergeStartIndex < endIndex && endIndex < mergeEndIndex) {\r\n      offsetItem.endIndex = mergeEndIndex;\r\n    }\r\n    if (offsetItem.startIndex !== startIndex || offsetItem.endIndex !== endIndex) {\r\n      mcIndex = -1;\r\n    }\r\n  }\r\n}\r\nfunction setMerges(_vm, merges, mList, rowList) {\r\n  if (merges) {\r\n    var treeConfig = _vm.treeConfig,\r\n      visibleColumn = _vm.visibleColumn;\r\n    if (!_xeUtils.default.isArray(merges)) {\r\n      merges = [merges];\r\n    }\r\n    if (treeConfig && merges.length) {\r\n      (0, _log.errLog)('vxe.error.noTree', ['merge-cells | merge-footer-items']);\r\n    }\r\n    merges.forEach(function (item) {\r\n      var row = item.row,\r\n        col = item.col,\r\n        rowspan = item.rowspan,\r\n        colspan = item.colspan;\r\n      if (rowList && _xeUtils.default.isNumber(row)) {\r\n        row = rowList[row];\r\n      }\r\n      if (_xeUtils.default.isNumber(col)) {\r\n        col = visibleColumn[col];\r\n      }\r\n      if ((rowList ? row : _xeUtils.default.isNumber(row)) && col && (rowspan || colspan)) {\r\n        rowspan = _xeUtils.default.toNumber(rowspan) || 1;\r\n        colspan = _xeUtils.default.toNumber(colspan) || 1;\r\n        if (rowspan > 1 || colspan > 1) {\r\n          var mcIndex = _xeUtils.default.findIndexOf(mList, function (item) {\r\n            return item._row === row && item._col === col;\r\n          });\r\n          var mergeItem = mList[mcIndex];\r\n          if (mergeItem) {\r\n            mergeItem.rowspan = rowspan;\r\n            mergeItem.colspan = colspan;\r\n            mergeItem._rowspan = rowspan;\r\n            mergeItem._colspan = colspan;\r\n          } else {\r\n            var mergeRowIndex = rowList ? rowList.indexOf(row) : row;\r\n            var mergeColIndex = visibleColumn.indexOf(col);\r\n            mList.push({\r\n              row: mergeRowIndex,\r\n              col: mergeColIndex,\r\n              rowspan: rowspan,\r\n              colspan: colspan,\r\n              _row: row,\r\n              _col: col,\r\n              _rowspan: rowspan,\r\n              _colspan: colspan\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\nfunction removeMerges(_vm, merges, mList, rowList) {\r\n  var rest = [];\r\n  if (merges) {\r\n    var treeConfig = _vm.treeConfig,\r\n      visibleColumn = _vm.visibleColumn;\r\n    if (!_xeUtils.default.isArray(merges)) {\r\n      merges = [merges];\r\n    }\r\n    if (treeConfig && merges.length) {\r\n      (0, _log.errLog)('vxe.error.noTree', ['merge-cells | merge-footer-items']);\r\n    }\r\n    merges.forEach(function (item) {\r\n      var row = item.row,\r\n        col = item.col;\r\n      if (rowList && _xeUtils.default.isNumber(row)) {\r\n        row = rowList[row];\r\n      }\r\n      if (_xeUtils.default.isNumber(col)) {\r\n        col = visibleColumn[col];\r\n      }\r\n      var mcIndex = _xeUtils.default.findIndexOf(mList, function (item) {\r\n        return item._row === row && item._col === col;\r\n      });\r\n      if (mcIndex > -1) {\r\n        var rItems = mList.splice(mcIndex, 1);\r\n        rest.push(rItems[0]);\r\n      }\r\n    });\r\n  }\r\n  return rest;\r\n}\r\nfunction clearAllSort(_vm) {\r\n  _vm.tableFullColumn.forEach(function (column) {\r\n    column.order = null;\r\n  });\r\n}\r\nfunction getOrderField(_vm, column) {\r\n  var sortBy = column.sortBy,\r\n    sortType = column.sortType;\r\n  return function (row) {\r\n    var cellValue;\r\n    if (sortBy) {\r\n      cellValue = _xeUtils.default.isFunction(sortBy) ? sortBy({\r\n        row: row,\r\n        column: column\r\n      }) : _xeUtils.default.get(row, sortBy);\r\n    } else {\r\n      cellValue = _vm.getCellLabel(row, column);\r\n    }\r\n    if (!sortType || sortType === 'auto') {\r\n      return isNaN(cellValue) ? cellValue : _xeUtils.default.toNumber(cellValue);\r\n    } else if (sortType === 'number') {\r\n      return _xeUtils.default.toNumber(cellValue);\r\n    } else if (sortType === 'string') {\r\n      return _xeUtils.default.toValueString(cellValue);\r\n    }\r\n    return cellValue;\r\n  };\r\n}\r\nvar Methods = {\r\n  callSlot: function callSlot(slotFunc, params, h, vNodes) {\r\n    if (slotFunc) {\r\n      var $xegrid = this.$xegrid;\r\n      if ($xegrid) {\r\n        return $xegrid.callSlot(slotFunc, params, h, vNodes);\r\n      }\r\n      if (_xeUtils.default.isFunction(slotFunc)) {\r\n        return (0, _vn.getSlotVNs)(slotFunc.call(this, params, h, vNodes));\r\n      }\r\n    }\r\n    return [];\r\n  },\r\n  /**\r\n   * 获取父容器元素\r\n   */\r\n  getParentElem: function getParentElem() {\r\n    var $el = this.$el,\r\n      $xegrid = this.$xegrid;\r\n    return $xegrid ? $xegrid.$el.parentNode : $el.parentNode;\r\n  },\r\n  /**\r\n   * 获取父容器的高度\r\n   */\r\n  getParentHeight: function getParentHeight() {\r\n    var $el = this.$el,\r\n      $xegrid = this.$xegrid,\r\n      height = this.height;\r\n    var parentElem = $el.parentNode;\r\n    var parentPaddingSize = height === 'auto' ? (0, _dom.getPaddingTopBottomSize)(parentElem) : 0;\r\n    return Math.floor($xegrid ? $xegrid.getParentHeight() : _xeUtils.default.toNumber(getComputedStyle(parentElem).height) - parentPaddingSize);\r\n  },\r\n  /**\r\n   * 获取需要排除的高度\r\n   * 但渲染表格高度时，需要排除工具栏或分页等相关组件的高度\r\n   * 如果存在表尾合计滚动条，则需要排除滚动条高度\r\n   */\r\n  getExcludeHeight: function getExcludeHeight() {\r\n    var $xegrid = this.$xegrid;\r\n    return $xegrid ? $xegrid.getExcludeHeight() : 0;\r\n  },\r\n  /**\r\n   * 重置表格的一切数据状态\r\n   */\r\n  clearAll: function clearAll() {\r\n    return (0, _util.clearTableAllStatus)(this);\r\n  },\r\n  /**\r\n   * 同步 data 数据（即将废弃）\r\n   * 如果用了该方法，那么组件将不再记录增删改的状态，只能自行实现对应逻辑\r\n   * 对于某些特殊的场景，比如深层树节点元素发生变动时可能会用到\r\n   */\r\n  syncData: function syncData() {\r\n    var _this = this;\r\n    return this.$nextTick().then(function () {\r\n      _this.tableData = [];\r\n      return _this.$nextTick().then(function () {\r\n        return _this.loadTableData(_this.tableFullData);\r\n      });\r\n    });\r\n  },\r\n  /**\r\n   * 手动处理数据，用于手动排序与筛选\r\n   * 对于手动更改了排序、筛选...等条件后需要重新处理数据时可能会用到\r\n   */\r\n  updateData: function updateData() {\r\n    var _this2 = this;\r\n    var scrollXLoad = this.scrollXLoad,\r\n      scrollYLoad = this.scrollYLoad;\r\n    return this.handleTableData(true).then(function () {\r\n      _this2.updateFooter();\r\n      _this2.checkSelectionStatus();\r\n      if (scrollXLoad || scrollYLoad) {\r\n        if (scrollXLoad) {\r\n          _this2.updateScrollXSpace();\r\n        }\r\n        if (scrollYLoad) {\r\n          _this2.updateScrollYSpace();\r\n        }\r\n        return _this2.refreshScroll();\r\n      }\r\n    }).then(function () {\r\n      _this2.updateCellAreas();\r\n      return _this2.recalculate(true);\r\n    }).then(function () {\r\n      // 存在滚动行为未结束情况\r\n      setTimeout(function () {\r\n        return _this2.recalculate();\r\n      }, 50);\r\n    });\r\n  },\r\n  handleTableData: function handleTableData(force) {\r\n    var _this3 = this;\r\n    var scrollYLoad = this.scrollYLoad,\r\n      scrollYStore = this.scrollYStore,\r\n      fullDataRowIdData = this.fullDataRowIdData,\r\n      afterFullData = this.afterFullData;\r\n    var fullList = afterFullData;\r\n    // 是否进行数据处理\r\n    if (force) {\r\n      // 更新数据，处理筛选和排序\r\n      this.updateAfterFullData();\r\n      // 如果为虚拟树，将树结构拍平\r\n      fullList = this.handleVirtualTreeToList();\r\n    }\r\n    var tableData = scrollYLoad ? fullList.slice(scrollYStore.startIndex, scrollYStore.endIndex) : fullList.slice(0);\r\n    tableData.forEach(function (row, $index) {\r\n      var rowid = (0, _util.getRowid)(_this3, row);\r\n      var rest = fullDataRowIdData[rowid];\r\n      if (rest) {\r\n        rest.$index = $index;\r\n      }\r\n    });\r\n    this.tableData = tableData;\r\n    return this.$nextTick();\r\n  },\r\n  updateScrollYStatus: function updateScrollYStatus(fullData) {\r\n    var treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      sYOpts = this.sYOpts;\r\n    var transform = treeOpts.transform;\r\n    var scrollYLoad = (transform || !treeConfig) && !!sYOpts.enabled && sYOpts.gt > -1 && sYOpts.gt < fullData.length;\r\n    this.scrollYLoad = scrollYLoad;\r\n    return scrollYLoad;\r\n  },\r\n  /**\r\n   * 加载表格数据\r\n   * @param {Array} datas 数据\r\n   */\r\n  loadTableData: function loadTableData(datas) {\r\n    var _this4 = this;\r\n    var keepSource = this.keepSource,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      editStore = this.editStore,\r\n      scrollYStore = this.scrollYStore,\r\n      scrollXStore = this.scrollXStore,\r\n      lastScrollLeft = this.lastScrollLeft,\r\n      lastScrollTop = this.lastScrollTop,\r\n      oldScrollYLoad = this.scrollYLoad,\r\n      sXOpts = this.sXOpts,\r\n      sYOpts = this.sYOpts;\r\n    var treeData = [];\r\n    var fullData = datas ? datas.slice(0) : [];\r\n    if (treeConfig) {\r\n      // 树结构自动转换\r\n      if (treeOpts.transform) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          if (!treeOpts.rowField) {\r\n            (0, _log.errLog)('vxe.error.reqProp', ['table.tree-config.rowField']);\r\n          }\r\n          if (!treeOpts.parentField) {\r\n            (0, _log.errLog)('vxe.error.reqProp', ['table.tree-config.parentField']);\r\n          }\r\n          if (!treeOpts.children) {\r\n            (0, _log.errLog)('vxe.error.reqProp', ['tree-config.children']);\r\n          }\r\n          if (!treeOpts.mapChildren) {\r\n            (0, _log.errLog)('vxe.error.reqProp', ['tree-config.mapChildren']);\r\n          }\r\n          if (treeOpts.children === treeOpts.mapChildren) {\r\n            (0, _log.errLog)('vxe.error.errConflicts', ['tree-config.children', 'tree-config.mapChildren']);\r\n          }\r\n          fullData.forEach(function (row) {\r\n            if (row[treeOpts.children] && row[treeOpts.children].length) {\r\n              (0, _log.warnLog)('vxe.error.errConflicts', ['tree-config.transform', \"row.\".concat(treeOpts.children)]);\r\n            }\r\n          });\r\n        }\r\n        treeData = _xeUtils.default.toArrayTree(fullData, {\r\n          key: treeOpts.rowField,\r\n          parentKey: treeOpts.parentField,\r\n          children: treeOpts.children,\r\n          mapChildren: treeOpts.mapChildren\r\n        });\r\n        fullData = treeData.slice(0);\r\n      } else {\r\n        treeData = fullData.slice(0);\r\n      }\r\n    }\r\n    scrollYStore.startIndex = 0;\r\n    scrollYStore.endIndex = 1;\r\n    scrollXStore.startIndex = 0;\r\n    scrollXStore.endIndex = 1;\r\n    editStore.insertList = [];\r\n    editStore.removeList = [];\r\n    var sYLoad = this.updateScrollYStatus(fullData);\r\n    this.scrollYLoad = sYLoad;\r\n    // 全量数据\r\n    this.tableFullData = fullData;\r\n    this.tableFullTreeData = treeData;\r\n    // 缓存数据\r\n    this.cacheRowMap(true);\r\n    // 原始数据\r\n    this.tableSynchData = datas;\r\n    // 克隆原数据，用于显示编辑状态，与编辑值做对比\r\n    if (keepSource) {\r\n      this.tableSourceData = _xeUtils.default.clone(fullData, true);\r\n    }\r\n    if (process.env.NODE_ENV === 'development') {\r\n      if (sYLoad) {\r\n        if (!(this.height || this.maxHeight)) {\r\n          (0, _log.errLog)('vxe.error.reqProp', ['table.height | table.max-height | table.scroll-y={enabled: false}']);\r\n        }\r\n        if (!this.showOverflow) {\r\n          (0, _log.warnLog)('vxe.error.reqProp', ['table.show-overflow']);\r\n        }\r\n        if (this.spanMethod) {\r\n          (0, _log.warnLog)('vxe.error.scrollErrProp', ['table.span-method']);\r\n        }\r\n      }\r\n    }\r\n    if (this.clearCellAreas && this.mouseConfig) {\r\n      this.clearCellAreas();\r\n      this.clearCopyCellArea();\r\n    }\r\n    this.clearMergeCells();\r\n    this.clearMergeFooterItems();\r\n    this.handleTableData(true);\r\n    this.updateFooter();\r\n    return this.$nextTick().then(function () {\r\n      _this4.updateHeight();\r\n      _this4.updateStyle();\r\n    }).then(function () {\r\n      _this4.computeScrollLoad();\r\n    }).then(function () {\r\n      // 是否启用了虚拟滚动\r\n      if (sYLoad) {\r\n        scrollYStore.endIndex = scrollYStore.visibleSize;\r\n      }\r\n      _this4.handleReserveStatus();\r\n      _this4.checkSelectionStatus();\r\n      return new Promise(function (resolve) {\r\n        _this4.$nextTick().then(function () {\r\n          return _this4.recalculate();\r\n        }).then(function () {\r\n          var targetScrollLeft = lastScrollLeft;\r\n          var targetScrollTop = lastScrollTop;\r\n          // 是否在更新数据之后自动滚动重置滚动条\r\n          if (sXOpts.scrollToLeftOnChange) {\r\n            targetScrollLeft = 0;\r\n          }\r\n          if (sYOpts.scrollToTopOnChange) {\r\n            targetScrollTop = 0;\r\n          }\r\n          // 是否变更虚拟滚动\r\n          if (oldScrollYLoad === sYLoad) {\r\n            (0, _util.restoreScrollLocation)(_this4, targetScrollLeft, targetScrollTop).then(resolve);\r\n          } else {\r\n            setTimeout(function () {\r\n              return (0, _util.restoreScrollLocation)(_this4, targetScrollLeft, targetScrollTop).then(resolve);\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n  },\r\n  /**\r\n   * 重新加载数据，不会清空表格状态\r\n   * @param {Array} datas 数据\r\n   */\r\n  loadData: function loadData(datas) {\r\n    var _this5 = this;\r\n    var inited = this.inited,\r\n      initStatus = this.initStatus;\r\n    return this.loadTableData(datas).then(function () {\r\n      _this5.inited = true;\r\n      _this5.initStatus = true;\r\n      if (!initStatus) {\r\n        _this5.handleLoadDefaults();\r\n      }\r\n      if (!inited) {\r\n        _this5.handleInitDefaults();\r\n      }\r\n      return _this5.recalculate();\r\n    });\r\n  },\r\n  /**\r\n   * 重新加载数据，会清空表格状态\r\n   * @param {Array} datas 数据\r\n   */\r\n  reloadData: function reloadData(datas) {\r\n    var _this6 = this;\r\n    var inited = this.inited;\r\n    return this.clearAll().then(function () {\r\n      _this6.inited = true;\r\n      _this6.initStatus = true;\r\n      return _this6.loadTableData(datas);\r\n    }).then(function () {\r\n      _this6.handleLoadDefaults();\r\n      if (!inited) {\r\n        _this6.handleInitDefaults();\r\n      }\r\n      return _this6.recalculate();\r\n    });\r\n  },\r\n  /**\r\n   * 局部加载行数据并恢复到初始状态\r\n   * 对于行数据需要局部更改的场景中可能会用到\r\n   * @param {Row} row 行对象\r\n   * @param {Object} record 新数据\r\n   * @param {String} field 字段名\r\n   */\r\n  reloadRow: function reloadRow(row, record, field) {\r\n    var keepSource = this.keepSource,\r\n      tableSourceData = this.tableSourceData,\r\n      tableData = this.tableData;\r\n    if (keepSource) {\r\n      var rowIndex = this.getRowIndex(row);\r\n      var oRow = tableSourceData[rowIndex];\r\n      if (oRow && row) {\r\n        if (field) {\r\n          var newValue = _xeUtils.default.get(record || row, field);\r\n          _xeUtils.default.set(row, field, newValue);\r\n          _xeUtils.default.set(oRow, field, newValue);\r\n        } else {\r\n          var newRecord = _xeUtils.default.clone(_objectSpread({}, record), true);\r\n          _xeUtils.default.destructuring(oRow, Object.assign(row, newRecord));\r\n        }\r\n      }\r\n      this.tableData = tableData.slice(0);\r\n    } else {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        (0, _log.warnLog)('vxe.error.reqProp', ['keep-source']);\r\n      }\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 加载列配置\r\n   * 对于表格列需要重载、局部递增场景下可能会用到\r\n   * @param {ColumnInfo} columns 列配置\r\n   */\r\n  loadColumn: function loadColumn(columns) {\r\n    var _this7 = this;\r\n    var collectColumn = _xeUtils.default.mapTree(columns, function (column) {\r\n      return _cell.default.createColumn(_this7, column);\r\n    }, {\r\n      children: 'children'\r\n    });\r\n    return this.handleColumn(collectColumn);\r\n  },\r\n  /**\r\n   * 加载列配置并恢复到初始状态\r\n   * 对于表格列需要重载、局部递增场景下可能会用到\r\n   * @param {ColumnInfo} columns 列配置\r\n   */\r\n  reloadColumn: function reloadColumn(columns) {\r\n    var _this8 = this;\r\n    return this.clearAll().then(function () {\r\n      return _this8.loadColumn(columns);\r\n    });\r\n  },\r\n  handleColumn: function handleColumn(collectColumn) {\r\n    var _this9 = this;\r\n    this.collectColumn = collectColumn;\r\n    var tableFullColumn = getColumnList(collectColumn);\r\n    this.tableFullColumn = tableFullColumn;\r\n    this.cacheColumnMap();\r\n    this.restoreCustomStorage();\r\n    this.parseColumns().then(function () {\r\n      if (_this9.scrollXLoad) {\r\n        _this9.loadScrollXData(true);\r\n      }\r\n    });\r\n    this.clearMergeCells();\r\n    this.clearMergeFooterItems();\r\n    this.handleTableData(true);\r\n    if (process.env.NODE_ENV === 'development') {\r\n      if ((this.scrollXLoad || this.scrollYLoad) && this.expandColumn) {\r\n        (0, _log.warnLog)('vxe.error.scrollErrProp', ['column.type=expand']);\r\n      }\r\n    }\r\n    return this.$nextTick().then(function () {\r\n      if (_this9.$toolbar) {\r\n        _this9.$toolbar.syncUpdate({\r\n          collectColumn: collectColumn,\r\n          $table: _this9\r\n        });\r\n      }\r\n      return _this9.recalculate();\r\n    });\r\n  },\r\n  /**\r\n   * 更新数据行的 Map\r\n   * 牺牲数据组装的耗时，用来换取使用过程中的流畅\r\n   */\r\n  cacheRowMap: function cacheRowMap(source) {\r\n    var _this10 = this;\r\n    var treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      tableFullData = this.tableFullData,\r\n      fullDataRowMap = this.fullDataRowMap,\r\n      fullAllDataRowMap = this.fullAllDataRowMap,\r\n      tableFullTreeData = this.tableFullTreeData;\r\n    var fullDataRowIdData = this.fullDataRowIdData,\r\n      fullAllDataRowIdData = this.fullAllDataRowIdData;\r\n    var rowkey = (0, _util.getRowkey)(this);\r\n    var isLazy = treeConfig && treeOpts.lazy;\r\n    var handleCache = function handleCache(row, index, items, path, parent, nodes) {\r\n      var rowid = (0, _util.getRowid)(_this10, row);\r\n      var seq = treeConfig && path ? (0, _util.toTreePathSeq)(path) : index + 1;\r\n      var level = nodes ? nodes.length - 1 : 0;\r\n      if ((0, _utils.eqEmptyValue)(rowid)) {\r\n        rowid = getRowUniqueId();\r\n        _xeUtils.default.set(row, rowkey, rowid);\r\n      }\r\n      if (isLazy && row[treeOpts.hasChild] && _xeUtils.default.isUndefined(row[treeOpts.children])) {\r\n        row[treeOpts.children] = null;\r\n      }\r\n      var rest = {\r\n        row: row,\r\n        rowid: rowid,\r\n        seq: seq,\r\n        index: treeConfig && parent ? -1 : index,\r\n        _index: -1,\r\n        $index: -1,\r\n        items: items,\r\n        parent: parent,\r\n        level: level\r\n      };\r\n      if (source) {\r\n        fullDataRowIdData[rowid] = rest;\r\n        fullDataRowMap.set(row, rest);\r\n      }\r\n      fullAllDataRowIdData[rowid] = rest;\r\n      fullAllDataRowMap.set(row, rest);\r\n    };\r\n    if (source) {\r\n      fullDataRowIdData = this.fullDataRowIdData = {};\r\n      fullDataRowMap.clear();\r\n    }\r\n    fullAllDataRowIdData = this.fullAllDataRowIdData = {};\r\n    fullAllDataRowMap.clear();\r\n    if (treeConfig) {\r\n      _xeUtils.default.eachTree(tableFullTreeData, handleCache, treeOpts);\r\n    } else {\r\n      tableFullData.forEach(handleCache);\r\n    }\r\n  },\r\n  loadTreeChildren: function loadTreeChildren(row, childRecords) {\r\n    var _this11 = this;\r\n    var keepSource = this.keepSource,\r\n      tableSourceData = this.tableSourceData,\r\n      treeOpts = this.treeOpts,\r\n      fullDataRowIdData = this.fullDataRowIdData,\r\n      fullDataRowMap = this.fullDataRowMap,\r\n      fullAllDataRowMap = this.fullAllDataRowMap,\r\n      fullAllDataRowIdData = this.fullAllDataRowIdData;\r\n    var transform = treeOpts.transform,\r\n      children = treeOpts.children,\r\n      mapChildren = treeOpts.mapChildren;\r\n    var rest = fullAllDataRowIdData[(0, _util.getRowid)(this, row)];\r\n    var parentLevel = rest ? rest.level : 0;\r\n    return this.createData(childRecords).then(function (rows) {\r\n      if (keepSource) {\r\n        var rowid = (0, _util.getRowid)(_this11, row);\r\n        var matchObj = _xeUtils.default.findTree(tableSourceData, function (item) {\r\n          return rowid === (0, _util.getRowid)(_this11, item);\r\n        }, treeOpts);\r\n        if (matchObj) {\r\n          matchObj.item[children] = _xeUtils.default.clone(rows, true);\r\n        }\r\n      }\r\n      _xeUtils.default.eachTree(rows, function (childRow, index, items, path, parent, nodes) {\r\n        var rowid = (0, _util.getRowid)(_this11, childRow);\r\n        var rest = {\r\n          row: childRow,\r\n          rowid: rowid,\r\n          seq: -1,\r\n          index: index,\r\n          _index: -1,\r\n          $index: -1,\r\n          items: items,\r\n          parent: parent,\r\n          level: parentLevel + nodes.length\r\n        };\r\n        fullDataRowIdData[rowid] = rest;\r\n        fullDataRowMap.set(childRow, rest);\r\n        fullAllDataRowIdData[rowid] = rest;\r\n        fullAllDataRowMap.set(childRow, rest);\r\n      }, treeOpts);\r\n      row[children] = rows;\r\n      if (transform) {\r\n        row[mapChildren] = rows;\r\n      }\r\n      _this11.updateAfterDataIndex();\r\n      return rows;\r\n    });\r\n  },\r\n  /**\r\n   * 更新数据列的 Map\r\n   * 牺牲数据组装的耗时，用来换取使用过程中的流畅\r\n   */\r\n  cacheColumnMap: function cacheColumnMap() {\r\n    var _this12 = this;\r\n    var tableFullColumn = this.tableFullColumn,\r\n      collectColumn = this.collectColumn,\r\n      fullColumnMap = this.fullColumnMap,\r\n      showOverflow = this.showOverflow;\r\n    var fullColumnIdData = this.fullColumnIdData = {};\r\n    var fullColumnFieldData = this.fullColumnFieldData = {};\r\n    var isGroup = collectColumn.some(hasChildrenList);\r\n    var isAllOverflow = !!showOverflow;\r\n    var expandColumn;\r\n    var treeNodeColumn;\r\n    var checkboxColumn;\r\n    var radioColumn;\r\n    var hasFixed;\r\n    var handleFunc = function handleFunc(column, index, items, path, parent) {\r\n      var colid = column.id,\r\n        field = column.field,\r\n        fixed = column.fixed,\r\n        type = column.type,\r\n        treeNode = column.treeNode;\r\n      var rest = {\r\n        column: column,\r\n        colid: colid,\r\n        index: index,\r\n        items: items,\r\n        parent: parent\r\n      };\r\n      if (field) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          if (fullColumnFieldData[field]) {\r\n            (0, _log.warnLog)('vxe.error.colRepet', ['field', field]);\r\n          }\r\n        }\r\n        fullColumnFieldData[field] = rest;\r\n      }\r\n      if (!hasFixed && fixed) {\r\n        hasFixed = fixed;\r\n      }\r\n      if (treeNode) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          if (treeNodeColumn) {\r\n            (0, _log.warnLog)('vxe.error.colRepet', ['tree-node', treeNode]);\r\n          }\r\n        }\r\n        if (!treeNodeColumn) {\r\n          treeNodeColumn = column;\r\n        }\r\n      } else if (type === 'expand') {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          if (expandColumn) {\r\n            (0, _log.warnLog)('vxe.error.colRepet', ['type', type]);\r\n          }\r\n        }\r\n        if (!expandColumn) {\r\n          expandColumn = column;\r\n        }\r\n      }\r\n      if (process.env.NODE_ENV === 'development') {\r\n        if (type === 'checkbox') {\r\n          if (checkboxColumn) {\r\n            (0, _log.warnLog)('vxe.error.colRepet', ['type', type]);\r\n          }\r\n          if (!checkboxColumn) {\r\n            checkboxColumn = column;\r\n          }\r\n        } else if (type === 'radio') {\r\n          if (radioColumn) {\r\n            (0, _log.warnLog)('vxe.error.colRepet', ['type', type]);\r\n          }\r\n          if (!radioColumn) {\r\n            radioColumn = column;\r\n          }\r\n        }\r\n      }\r\n      if (process.env.NODE_ENV === 'development') {\r\n        if (_this12.showOverflow && column.showOverflow === false) {\r\n          (0, _log.warnLog)('vxe.error.errConflicts', [\"table.show-overflow=\".concat(_this12.showOverflow), \"column.show-overflow=\".concat(column.showOverflow)]);\r\n        }\r\n        if (_this12.showHeaderOverflow && column.showHeaderOverflow === false) {\r\n          (0, _log.warnLog)('vxe.error.errConflicts', [\"table.show-header-overflow=\".concat(_this12.showHeaderOverflow), \"column.show-header-overflow=\".concat(column.showHeaderOverflow)]);\r\n        }\r\n        if (_this12.showFooterOverflow && column.showFooterOverflow === false) {\r\n          (0, _log.warnLog)('vxe.error.errConflicts', [\"table.show-footer-overflow=\".concat(_this12.showFooterOverflow), \"column.show-footer-overflow=\".concat(column.showFooterOverflow)]);\r\n        }\r\n      }\r\n      if (isAllOverflow && column.showOverflow === false) {\r\n        isAllOverflow = false;\r\n      }\r\n      if (fullColumnIdData[colid]) {\r\n        (0, _log.errLog)('vxe.error.colRepet', ['colId', colid]);\r\n      }\r\n      fullColumnIdData[colid] = rest;\r\n      fullColumnMap.set(column, rest);\r\n    };\r\n    fullColumnMap.clear();\r\n    if (isGroup) {\r\n      _xeUtils.default.eachTree(collectColumn, function (column, index, items, path, parent, nodes) {\r\n        column.level = nodes.length;\r\n        handleFunc(column, index, items, path, parent);\r\n      });\r\n    } else {\r\n      tableFullColumn.forEach(handleFunc);\r\n    }\r\n    if (process.env.NODE_ENV === 'development') {\r\n      if (expandColumn && this.mouseOpts.area) {\r\n        (0, _log.errLog)('vxe.error.errConflicts', ['mouse-config.area', 'column.type=expand']);\r\n      }\r\n    }\r\n    this.isGroup = isGroup;\r\n    this.treeNodeColumn = treeNodeColumn;\r\n    this.expandColumn = expandColumn;\r\n    this.isAllOverflow = isAllOverflow;\r\n  },\r\n  /**\r\n   * 根据 tr 元素获取对应的 row 信息\r\n   * @param {Element} tr 元素\r\n   */\r\n  getRowNode: function getRowNode(tr) {\r\n    if (tr) {\r\n      var fullAllDataRowIdData = this.fullAllDataRowIdData;\r\n      var rowid = tr.getAttribute('rowid');\r\n      var rest = fullAllDataRowIdData[rowid];\r\n      if (rest) {\r\n        return {\r\n          rowid: rest.rowid,\r\n          item: rest.row,\r\n          index: rest.index,\r\n          items: rest.items,\r\n          parent: rest.parent\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n  /**\r\n   * 根据 th/td 元素获取对应的 column 信息\r\n   * @param {Element} cell 元素\r\n   */\r\n  getColumnNode: function getColumnNode(cell) {\r\n    if (cell) {\r\n      var fullColumnIdData = this.fullColumnIdData;\r\n      var colid = cell.getAttribute('colid');\r\n      var rest = fullColumnIdData[colid];\r\n      if (rest) {\r\n        return {\r\n          colid: rest.colid,\r\n          item: rest.column,\r\n          index: rest.index,\r\n          items: rest.items,\r\n          parent: rest.parent\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n  /**\r\n   * 根据 row 获取序号\r\n   * @param {Row} row 行对象\r\n   */\r\n  getRowSeq: function getRowSeq(row) {\r\n    var fullDataRowIdData = this.fullDataRowIdData;\r\n    if (row) {\r\n      var rowid = (0, _util.getRowid)(this, row);\r\n      var rest = fullDataRowIdData[rowid];\r\n      if (rest) {\r\n        return rest.seq;\r\n      }\r\n    }\r\n    return -1;\r\n  },\r\n  /**\r\n   * 根据 row 获取相对于 data 中的索引\r\n   * @param {Row} row 行对象\r\n   */\r\n  getRowIndex: function getRowIndex(row) {\r\n    return this.fullDataRowMap.has(row) ? this.fullDataRowMap.get(row).index : -1;\r\n  },\r\n  /**\r\n   * 根据 row 获取相对于当前数据中的索引\r\n   * @param {Row} row 行对象\r\n   */\r\n  getVTRowIndex: function getVTRowIndex(row) {\r\n    return this.afterFullData.indexOf(row);\r\n  },\r\n  // 在 v3 中废弃\r\n  _getRowIndex: function _getRowIndex(row) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['_getRowIndex', 'getVTRowIndex']);\r\n    }\r\n    return this.getVTRowIndex(row);\r\n  },\r\n  /**\r\n   * 根据 row 获取渲染中的虚拟索引\r\n   * @param {Row} row 行对象\r\n   */\r\n  getVMRowIndex: function getVMRowIndex(row) {\r\n    return this.tableData.indexOf(row);\r\n  },\r\n  // 在 v3 中废弃\r\n  $getRowIndex: function $getRowIndex(row) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['$getRowIndex', 'getVMRowIndex']);\r\n    }\r\n    return this.getVMRowIndex(row);\r\n  },\r\n  /**\r\n   * 根据 column 获取相对于 columns 中的索引\r\n   * @param {ColumnInfo} column 列配置\r\n   */\r\n  getColumnIndex: function getColumnIndex(column) {\r\n    return this.fullColumnMap.has(column) ? this.fullColumnMap.get(column).index : -1;\r\n  },\r\n  /**\r\n   * 根据 column 获取相对于当前表格列中的索引\r\n   * @param {ColumnInfo} column 列配置\r\n   */\r\n  getVTColumnIndex: function getVTColumnIndex(column) {\r\n    return this.visibleColumn.indexOf(column);\r\n  },\r\n  // 在 v3 中废弃\r\n  _getColumnIndex: function _getColumnIndex(column) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['_getColumnIndex', 'getVTColumnIndex']);\r\n    }\r\n    return this.getVTColumnIndex(column);\r\n  },\r\n  /**\r\n   * 根据 column 获取渲染中的虚拟索引\r\n   * @param {ColumnInfo} column 列配置\r\n   */\r\n  getVMColumnIndex: function getVMColumnIndex(column) {\r\n    return this.tableColumn.indexOf(column);\r\n  },\r\n  // 在 v3 中废弃\r\n  $getColumnIndex: function $getColumnIndex(column) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['$getColumnIndex', 'getVMColumnIndex']);\r\n    }\r\n    return this.getVMColumnIndex(column);\r\n  },\r\n  /**\r\n   * 判断是否为索引列\r\n   * @param {ColumnInfo} column 列配置\r\n   */\r\n  isSeqColumn: function isSeqColumn(column) {\r\n    return column && column.type === 'seq';\r\n  },\r\n  /**\r\n   * 定义行数据中的列属性，如果不存在则定义\r\n   * @param {Row} record 行数据\r\n   */\r\n  defineField: function defineField(record) {\r\n    var radioOpts = this.radioOpts,\r\n      checkboxOpts = this.checkboxOpts,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      expandOpts = this.expandOpts;\r\n    var rowkey = (0, _util.getRowkey)(this);\r\n    this.tableFullColumn.forEach(function (column) {\r\n      var field = column.field,\r\n        editRender = column.editRender;\r\n      if (field && !_xeUtils.default.has(record, field)) {\r\n        var cellValue = null;\r\n        if (editRender) {\r\n          var defaultValue = editRender.defaultValue;\r\n          if (_xeUtils.default.isFunction(defaultValue)) {\r\n            cellValue = defaultValue({\r\n              column: column\r\n            });\r\n          } else if (!_xeUtils.default.isUndefined(defaultValue)) {\r\n            cellValue = defaultValue;\r\n          }\r\n        }\r\n        _xeUtils.default.set(record, field, cellValue);\r\n      }\r\n    });\r\n    var otherFields = [radioOpts.labelField, checkboxOpts.checkField, checkboxOpts.labelField, expandOpts.labelField];\r\n    otherFields.forEach(function (key) {\r\n      if (key && (0, _utils.eqEmptyValue)(_xeUtils.default.get(record, key))) {\r\n        _xeUtils.default.set(record, key, null);\r\n      }\r\n    });\r\n    if (treeConfig && treeOpts.lazy && _xeUtils.default.isUndefined(record[treeOpts.children])) {\r\n      record[treeOpts.children] = null;\r\n    }\r\n    // 必须有行数据的唯一主键，可以自行设置；也可以默认生成一个随机数\r\n    if ((0, _utils.eqEmptyValue)(_xeUtils.default.get(record, rowkey))) {\r\n      _xeUtils.default.set(record, rowkey, getRowUniqueId());\r\n    }\r\n    return record;\r\n  },\r\n  /**\r\n   * 创建 data 对象\r\n   * 对于某些特殊场景可能会用到，会自动对数据的字段名进行检测，如果不存在就自动定义\r\n   * @param {Array} records 新数据\r\n   */\r\n  createData: function createData(records) {\r\n    var _this13 = this;\r\n    var treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts;\r\n    var handleRrecord = function handleRrecord(record) {\r\n      return _this13.defineField(Object.assign({}, record));\r\n    };\r\n    var rows = treeConfig ? _xeUtils.default.mapTree(records, handleRrecord, treeOpts) : records.map(handleRrecord);\r\n    return this.$nextTick().then(function () {\r\n      return rows;\r\n    });\r\n  },\r\n  /**\r\n   * 创建 Row|Rows 对象\r\n   * 对于某些特殊场景需要对数据进行手动插入时可能会用到\r\n   * @param {Array/Object} records 新数据\r\n   */\r\n  createRow: function createRow(records) {\r\n    var _this14 = this;\r\n    var isArr = _xeUtils.default.isArray(records);\r\n    if (!isArr) {\r\n      records = [records];\r\n    }\r\n    return this.$nextTick().then(function () {\r\n      return _this14.createData(records).then(function (rows) {\r\n        return isArr ? rows : rows[0];\r\n      });\r\n    });\r\n  },\r\n  /**\r\n   * 还原数据\r\n   * 如果不传任何参数，则还原整个表格\r\n   * 如果传 row 则还原一行\r\n   * 如果传 rows 则还原多行\r\n   * 如果还额外传了 field 则还原指定的单元格数据\r\n   */\r\n  revertData: function revertData(rows, field) {\r\n    var _this15 = this;\r\n    var keepSource = this.keepSource,\r\n      tableSourceData = this.tableSourceData,\r\n      treeConfig = this.treeConfig;\r\n    if (!keepSource) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        (0, _log.warnLog)('vxe.error.reqProp', ['keep-source']);\r\n      }\r\n      return this.$nextTick();\r\n    }\r\n    var targetRows = rows;\r\n    if (rows) {\r\n      if (!_xeUtils.default.isArray(rows)) {\r\n        targetRows = [rows];\r\n      }\r\n    } else {\r\n      targetRows = _xeUtils.default.toArray(this.getUpdateRecords());\r\n    }\r\n    if (targetRows.length) {\r\n      targetRows.forEach(function (row) {\r\n        if (!_this15.isInsertByRow(row)) {\r\n          var rowIndex = _this15.getRowIndex(row);\r\n          if (treeConfig && rowIndex === -1) {\r\n            (0, _log.errLog)('vxe.error.noTree', ['revertData']);\r\n          }\r\n          var oRow = tableSourceData[rowIndex];\r\n          if (oRow && row) {\r\n            if (field) {\r\n              _xeUtils.default.set(row, field, _xeUtils.default.clone(_xeUtils.default.get(oRow, field), true));\r\n            } else {\r\n              _xeUtils.default.destructuring(row, _xeUtils.default.clone(oRow, true));\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (rows) {\r\n      return this.$nextTick();\r\n    }\r\n    return this.reloadData(tableSourceData);\r\n  },\r\n  /**\r\n   * 清空单元格内容\r\n   * 如果不创参数，则清空整个表格内容\r\n   * 如果传 row 则清空一行内容\r\n   * 如果传 rows 则清空多行内容\r\n   * 如果还额外传了 field 则清空指定单元格内容\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {String} field 字段名\r\n   */\r\n  clearData: function clearData(rows, field) {\r\n    var tableFullData = this.tableFullData,\r\n      visibleColumn = this.visibleColumn;\r\n    if (!arguments.length) {\r\n      rows = tableFullData;\r\n    } else if (rows && !_xeUtils.default.isArray(rows)) {\r\n      rows = [rows];\r\n    }\r\n    if (field) {\r\n      rows.forEach(function (row) {\r\n        return _xeUtils.default.set(row, field, null);\r\n      });\r\n    } else {\r\n      rows.forEach(function (row) {\r\n        visibleColumn.forEach(function (column) {\r\n          if (column.field) {\r\n            setCellValue(row, column, null);\r\n          }\r\n        });\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 检查是否为临时行数据\r\n   * @param {Row} row 行对象\r\n   */\r\n  isInsertByRow: function isInsertByRow(row) {\r\n    return this.editStore.insertList.indexOf(row) > -1;\r\n  },\r\n  /**\r\n   * 删除所有新增的临时数据\r\n   * @returns\r\n   */\r\n  removeInsertRow: function removeInsertRow() {\r\n    return this.remove(this.editStore.insertList);\r\n  },\r\n  /**\r\n   * 检查行或列数据是否发生改变\r\n   * @param {Row} row 行对象\r\n   * @param {String} field 字段名\r\n   */\r\n  isUpdateByRow: function isUpdateByRow(row, field) {\r\n    var _this16 = this;\r\n    var visibleColumn = this.visibleColumn,\r\n      keepSource = this.keepSource,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      tableSourceData = this.tableSourceData,\r\n      fullDataRowIdData = this.fullDataRowIdData;\r\n    if (keepSource) {\r\n      var oRow, property;\r\n      var rowid = (0, _util.getRowid)(this, row);\r\n      // 新增的数据不需要检测\r\n      if (!fullDataRowIdData[rowid]) {\r\n        return false;\r\n      }\r\n      if (treeConfig) {\r\n        var children = treeOpts.children;\r\n        var matchObj = _xeUtils.default.findTree(tableSourceData, function (item) {\r\n          return rowid === (0, _util.getRowid)(_this16, item);\r\n        }, treeOpts);\r\n        row = Object.assign({}, row, _defineProperty({}, children, null));\r\n        if (matchObj) {\r\n          oRow = Object.assign({}, matchObj.item, _defineProperty({}, children, null));\r\n        }\r\n      } else {\r\n        var oRowIndex = fullDataRowIdData[rowid].index;\r\n        oRow = tableSourceData[oRowIndex];\r\n      }\r\n      if (oRow) {\r\n        if (arguments.length > 1) {\r\n          return !eqCellValue(oRow, row, field);\r\n        }\r\n        for (var index = 0, len = visibleColumn.length; index < len; index++) {\r\n          property = visibleColumn[index].field;\r\n          if (property && !eqCellValue(oRow, row, property)) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  /**\r\n   * 获取表格的可视列，也可以指定索引获取列\r\n   * @param {Number} columnIndex 索引\r\n   */\r\n  getColumns: function getColumns(columnIndex) {\r\n    var columns = this.visibleColumn;\r\n    return _xeUtils.default.isUndefined(columnIndex) ? columns.slice(0) : columns[columnIndex];\r\n  },\r\n  /**\r\n   * 根据列的唯一主键获取列\r\n   * @param {String} colid 列主键\r\n   */\r\n  getColumnById: function getColumnById(colid) {\r\n    var fullColumnIdData = this.fullColumnIdData;\r\n    return fullColumnIdData[colid] ? fullColumnIdData[colid].column : null;\r\n  },\r\n  /**\r\n   * 根据列的字段名获取列\r\n   * @param {String} field 字段名\r\n   */\r\n  getColumnByField: function getColumnByField(field) {\r\n    var fullColumnFieldData = this.fullColumnFieldData;\r\n    return fullColumnFieldData[field] ? fullColumnFieldData[field].column : null;\r\n  },\r\n  /**\r\n   * 获取当前表格的列\r\n   * 收集到的全量列、全量表头列、处理条件之后的全量表头列、当前渲染中的表头列\r\n   */\r\n  getTableColumn: function getTableColumn() {\r\n    return {\r\n      collectColumn: this.collectColumn.slice(0),\r\n      fullColumn: this.tableFullColumn.slice(0),\r\n      visibleColumn: this.visibleColumn.slice(0),\r\n      tableColumn: this.tableColumn.slice(0)\r\n    };\r\n  },\r\n  /**\r\n   * 获取数据，和 data 的行为一致，也可以指定索引获取数据\r\n   */\r\n  getData: function getData(rowIndex) {\r\n    var tableSynchData = this.data || this.tableSynchData;\r\n    return _xeUtils.default.isUndefined(rowIndex) ? tableSynchData.slice(0) : tableSynchData[rowIndex];\r\n  },\r\n  /**\r\n   * 用于多选行，获取已选中的数据\r\n   */\r\n  getCheckboxRecords: function getCheckboxRecords(isFull) {\r\n    var _this17 = this;\r\n    var tableFullData = this.tableFullData,\r\n      afterFullData = this.afterFullData,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      checkboxOpts = this.checkboxOpts,\r\n      tableFullTreeData = this.tableFullTreeData,\r\n      afterTreeFullData = this.afterTreeFullData;\r\n    var transform = treeOpts.transform,\r\n      children = treeOpts.children,\r\n      mapChildren = treeOpts.mapChildren;\r\n    var checkField = checkboxOpts.checkField;\r\n    var currTableData = isFull ? transform ? tableFullTreeData : tableFullData : transform ? afterTreeFullData : afterFullData;\r\n    var rowList = [];\r\n    if (checkField) {\r\n      if (treeConfig) {\r\n        rowList = _xeUtils.default.filterTree(currTableData, function (row) {\r\n          return _xeUtils.default.get(row, checkField);\r\n        }, {\r\n          children: transform ? mapChildren : children\r\n        });\r\n      } else {\r\n        rowList = currTableData.filter(function (row) {\r\n          return _xeUtils.default.get(row, checkField);\r\n        });\r\n      }\r\n    } else {\r\n      var selection = this.selection;\r\n      if (treeConfig) {\r\n        rowList = _xeUtils.default.filterTree(currTableData, function (row) {\r\n          return _this17.findRowIndexOf(selection, row) > -1;\r\n        }, {\r\n          children: transform ? mapChildren : children\r\n        });\r\n      } else {\r\n        rowList = currTableData.filter(function (row) {\r\n          return _this17.findRowIndexOf(selection, row) > -1;\r\n        });\r\n      }\r\n    }\r\n    return rowList;\r\n  },\r\n  /**\r\n   * 如果为虚拟树，将树结构拍平\r\n   * @returns\r\n   */\r\n  handleVirtualTreeToList: function handleVirtualTreeToList() {\r\n    var treeOpts = this.treeOpts,\r\n      treeConfig = this.treeConfig,\r\n      treeExpandeds = this.treeExpandeds,\r\n      afterTreeFullData = this.afterTreeFullData,\r\n      afterFullData = this.afterFullData;\r\n    if (treeConfig && treeOpts.transform) {\r\n      var fullData = [];\r\n      var expandMaps = new Map();\r\n      _xeUtils.default.eachTree(afterTreeFullData, function (row, index, items, path, parent) {\r\n        if (!parent || expandMaps.has(parent) && treeExpandeds.indexOf(parent) > -1) {\r\n          expandMaps.set(row, 1);\r\n          fullData.push(row);\r\n        }\r\n      }, {\r\n        children: treeOpts.mapChildren\r\n      });\r\n      this.afterFullData = fullData;\r\n      this.updateScrollYStatus(fullData);\r\n      return fullData;\r\n    }\r\n    return afterFullData;\r\n  },\r\n  /**\r\n   * 获取处理后全量的表格数据\r\n   * 如果存在筛选条件，继续处理\r\n   */\r\n  updateAfterFullData: function updateAfterFullData() {\r\n    var _this18 = this;\r\n    var tableFullColumn = this.tableFullColumn,\r\n      tableFullData = this.tableFullData,\r\n      filterOpts = this.filterOpts,\r\n      sortOpts = this.sortOpts,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      tableFullTreeData = this.tableFullTreeData;\r\n    var allRemoteFilter = filterOpts.remote,\r\n      allFilterMethod = filterOpts.filterMethod;\r\n    var allRemoteSort = sortOpts.remote,\r\n      allSortMethod = sortOpts.sortMethod,\r\n      sortMultiple = sortOpts.multiple,\r\n      chronological = sortOpts.chronological;\r\n    var transform = treeOpts.transform;\r\n    var tableData = [];\r\n    var tableTree = [];\r\n    var filterColumns = [];\r\n    var orderColumns = [];\r\n    tableFullColumn.forEach(function (column) {\r\n      var field = column.field,\r\n        sortable = column.sortable,\r\n        order = column.order,\r\n        filters = column.filters;\r\n      if (!allRemoteFilter && filters && filters.length) {\r\n        var valueList = [];\r\n        var itemList = [];\r\n        filters.forEach(function (item) {\r\n          if (item.checked) {\r\n            itemList.push(item);\r\n            valueList.push(item.value);\r\n          }\r\n        });\r\n        if (itemList.length) {\r\n          filterColumns.push({\r\n            column: column,\r\n            valueList: valueList,\r\n            itemList: itemList\r\n          });\r\n        }\r\n      }\r\n      if (!allRemoteSort && sortable && order) {\r\n        orderColumns.push({\r\n          column: column,\r\n          field: field,\r\n          property: field,\r\n          order: order,\r\n          sortTime: column.sortTime\r\n        });\r\n      }\r\n    });\r\n    if (sortMultiple && chronological && orderColumns.length > 1) {\r\n      orderColumns = _xeUtils.default.orderBy(orderColumns, 'sortTime');\r\n    }\r\n    if (filterColumns.length) {\r\n      var handleFilter = function handleFilter(row) {\r\n        return filterColumns.every(function (_ref) {\r\n          var column = _ref.column,\r\n            valueList = _ref.valueList,\r\n            itemList = _ref.itemList;\r\n          if (valueList.length && !allRemoteFilter) {\r\n            var filterMethod = column.filterMethod,\r\n              filterRender = column.filterRender,\r\n              field = column.field;\r\n            var compConf = filterRender ? _vXETable.default.renderer.get(filterRender.name) : null;\r\n            var compFilterMethod = compConf && compConf.renderFilter ? compConf.filterMethod : null;\r\n            var defaultFilterMethod = compConf ? compConf.defaultFilterMethod : null;\r\n            var cellValue = _utils.default.getCellValue(row, column);\r\n            if (filterMethod) {\r\n              return itemList.some(function (item) {\r\n                return filterMethod({\r\n                  value: item.value,\r\n                  option: item,\r\n                  cellValue: cellValue,\r\n                  row: row,\r\n                  column: column,\r\n                  $table: _this18\r\n                });\r\n              });\r\n            } else if (compFilterMethod) {\r\n              return itemList.some(function (item) {\r\n                return compFilterMethod({\r\n                  value: item.value,\r\n                  option: item,\r\n                  cellValue: cellValue,\r\n                  row: row,\r\n                  column: column,\r\n                  $table: _this18\r\n                });\r\n              });\r\n            } else if (allFilterMethod) {\r\n              return allFilterMethod({\r\n                options: itemList,\r\n                values: valueList,\r\n                cellValue: cellValue,\r\n                row: row,\r\n                column: column\r\n              });\r\n            } else if (defaultFilterMethod) {\r\n              return itemList.some(function (item) {\r\n                return defaultFilterMethod({\r\n                  value: item.value,\r\n                  option: item,\r\n                  cellValue: cellValue,\r\n                  row: row,\r\n                  column: column,\r\n                  $table: _this18\r\n                });\r\n              });\r\n            }\r\n            return valueList.indexOf(_xeUtils.default.get(row, field)) > -1;\r\n          }\r\n          return true;\r\n        });\r\n      };\r\n      if (treeConfig && transform) {\r\n        // 筛选虚拟树\r\n        tableTree = _xeUtils.default.searchTree(tableFullTreeData, handleFilter, _objectSpread(_objectSpread({}, treeOpts), {}, {\r\n          original: true\r\n        }));\r\n        tableData = tableTree;\r\n      } else {\r\n        tableData = treeConfig ? tableFullTreeData.filter(handleFilter) : tableFullData.filter(handleFilter);\r\n        tableTree = tableData;\r\n      }\r\n    } else {\r\n      if (treeConfig && transform) {\r\n        // 还原虚拟树\r\n        tableTree = _xeUtils.default.searchTree(tableFullTreeData, function () {\r\n          return true;\r\n        }, _objectSpread(_objectSpread({}, treeOpts), {}, {\r\n          original: true\r\n        }));\r\n        tableData = tableTree;\r\n      } else {\r\n        tableData = treeConfig ? tableFullTreeData.slice(0) : tableFullData.slice(0);\r\n        tableTree = tableData;\r\n      }\r\n    }\r\n    var firstOrderColumn = orderColumns[0];\r\n    if (!allRemoteSort && firstOrderColumn) {\r\n      if (treeConfig && transform) {\r\n        // 虚拟树和列表一样，只能排序根级节点\r\n        if (allSortMethod) {\r\n          var sortRests = allSortMethod({\r\n            data: tableTree,\r\n            sortList: orderColumns,\r\n            $table: this\r\n          });\r\n          tableTree = _xeUtils.default.isArray(sortRests) ? sortRests : tableTree;\r\n        } else {\r\n          tableTree = _xeUtils.default.orderBy(tableTree, orderColumns.map(function (_ref2) {\r\n            var column = _ref2.column,\r\n              order = _ref2.order;\r\n            return [getOrderField(_this18, column), order];\r\n          }));\r\n        }\r\n        tableData = tableTree;\r\n      } else {\r\n        if (allSortMethod) {\r\n          var _sortRests = allSortMethod({\r\n            data: tableData,\r\n            column: firstOrderColumn.column,\r\n            property: firstOrderColumn.field,\r\n            field: firstOrderColumn.field,\r\n            order: firstOrderColumn.order,\r\n            sortList: orderColumns,\r\n            $table: this\r\n          });\r\n          tableData = _xeUtils.default.isArray(_sortRests) ? _sortRests : tableData;\r\n        } else {\r\n          // 兼容 v4\r\n          if (sortMultiple) {\r\n            tableData = _xeUtils.default.orderBy(tableData, orderColumns.map(function (_ref3) {\r\n              var column = _ref3.column,\r\n                order = _ref3.order;\r\n              return [getOrderField(_this18, column), order];\r\n            }));\r\n          } else {\r\n            // 兼容 v2，在 v4 中废弃， sortBy 不能为数组\r\n            var sortByConfs;\r\n            if (_xeUtils.default.isArray(firstOrderColumn.sortBy)) {\r\n              sortByConfs = firstOrderColumn.sortBy.map(function (item) {\r\n                return [item, firstOrderColumn.order];\r\n              });\r\n            }\r\n            tableData = _xeUtils.default.orderBy(tableData, sortByConfs || [firstOrderColumn].map(function (_ref4) {\r\n              var column = _ref4.column,\r\n                order = _ref4.order;\r\n              return [getOrderField(_this18, column), order];\r\n            }));\r\n          }\r\n        }\r\n        tableTree = tableData;\r\n      }\r\n    }\r\n    this.afterFullData = tableData;\r\n    this.afterTreeFullData = tableTree;\r\n    this.updateAfterDataIndex();\r\n  },\r\n  /**\r\n   * 预编译\r\n   * 对渲染中的数据提前解析序号及索引。牺牲提前编译耗时换取渲染中额外损耗，使运行时更加流畅\r\n   */\r\n  updateAfterDataIndex: function updateAfterDataIndex() {\r\n    var _this19 = this;\r\n    var treeConfig = this.treeConfig,\r\n      afterFullData = this.afterFullData,\r\n      fullDataRowIdData = this.fullDataRowIdData,\r\n      fullAllDataRowIdData = this.fullAllDataRowIdData,\r\n      afterTreeFullData = this.afterTreeFullData,\r\n      treeOpts = this.treeOpts;\r\n    if (treeConfig) {\r\n      _xeUtils.default.eachTree(afterTreeFullData, function (row, index, items, path) {\r\n        var rowid = (0, _util.getRowid)(_this19, row);\r\n        var allrest = fullAllDataRowIdData[rowid];\r\n        var seq = path.map(function (num, i) {\r\n          return i % 2 === 0 ? Number(num) + 1 : '.';\r\n        }).join('');\r\n        if (allrest) {\r\n          allrest.seq = seq;\r\n          allrest._index = index;\r\n        } else {\r\n          var rest = {\r\n            row: row,\r\n            rowid: rowid,\r\n            seq: seq,\r\n            index: -1,\r\n            $index: -1,\r\n            _index: index,\r\n            items: [],\r\n            parent: null,\r\n            level: 0\r\n          };\r\n          fullAllDataRowIdData[rowid] = rest;\r\n          fullDataRowIdData[rowid] = rest;\r\n        }\r\n      }, {\r\n        children: treeOpts.transform ? treeOpts.mapChildren : treeOpts.children\r\n      });\r\n    } else {\r\n      afterFullData.forEach(function (row, index) {\r\n        var rowid = (0, _util.getRowid)(_this19, row);\r\n        var allrest = fullAllDataRowIdData[rowid];\r\n        var seq = index + 1;\r\n        if (allrest) {\r\n          allrest.seq = seq;\r\n          allrest._index = index;\r\n        } else {\r\n          var rest = {\r\n            row: row,\r\n            rowid: rowid,\r\n            seq: seq,\r\n            index: -1,\r\n            $index: -1,\r\n            _index: index,\r\n            items: [],\r\n            parent: null,\r\n            level: 0\r\n          };\r\n          fullAllDataRowIdData[rowid] = rest;\r\n          fullDataRowIdData[rowid] = rest;\r\n        }\r\n      });\r\n    }\r\n  },\r\n  /**\r\n   * 只对 tree-config 有效，获取行的父级\r\n   */\r\n  getParentRow: function getParentRow(rowOrRowid) {\r\n    var treeConfig = this.treeConfig,\r\n      fullDataRowIdData = this.fullDataRowIdData;\r\n    if (rowOrRowid && treeConfig) {\r\n      var rowid;\r\n      if (_xeUtils.default.isString(rowOrRowid)) {\r\n        rowid = rowOrRowid;\r\n      } else {\r\n        rowid = (0, _util.getRowid)(this, rowOrRowid);\r\n      }\r\n      if (rowid) {\r\n        return fullDataRowIdData[rowid] ? fullDataRowIdData[rowid].parent : null;\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n  /**\r\n   * 根据行的唯一主键获取行\r\n   * @param {String/Number} rowid 行主键\r\n   */\r\n  getRowById: function getRowById(cellValue) {\r\n    var fullDataRowIdData = this.fullDataRowIdData;\r\n    var rowid = _xeUtils.default.eqNull(cellValue) ? '' : encodeURIComponent(cellValue);\r\n    return fullDataRowIdData[rowid] ? fullDataRowIdData[rowid].row : null;\r\n  },\r\n  /**\r\n   * 根据行获取行的唯一主键\r\n   * @param {Row} row 行对象\r\n   */\r\n  getRowid: function getRowid(row) {\r\n    var fullAllDataRowMap = this.fullAllDataRowMap;\r\n    return fullAllDataRowMap.has(row) ? fullAllDataRowMap.get(row).rowid : null;\r\n  },\r\n  /**\r\n   * 获取处理后的表格数据\r\n   * 如果存在筛选条件，继续处理\r\n   * 如果存在排序，继续处理\r\n   */\r\n  getTableData: function getTableData() {\r\n    var tableFullData = this.tableFullData,\r\n      afterFullData = this.afterFullData,\r\n      tableData = this.tableData,\r\n      footerTableData = this.footerTableData;\r\n    return {\r\n      fullData: tableFullData.slice(0),\r\n      visibleData: afterFullData.slice(0),\r\n      tableData: tableData.slice(0),\r\n      footerData: footerTableData.slice(0)\r\n    };\r\n  },\r\n  /**\r\n   * 处理数据加载默认行为\r\n   * 默认执行一次，除非被重置\r\n   */\r\n  handleLoadDefaults: function handleLoadDefaults() {\r\n    var _this20 = this;\r\n    if (this.checkboxConfig) {\r\n      this.handleDefaultSelectionChecked();\r\n    }\r\n    if (this.radioConfig) {\r\n      this.handleDefaultRadioChecked();\r\n    }\r\n    if (this.expandConfig) {\r\n      this.handleDefaultRowExpand();\r\n    }\r\n    if (this.treeConfig) {\r\n      this.handleDefaultTreeExpand();\r\n    }\r\n    if (this.mergeCells) {\r\n      this.handleDefaultMergeCells();\r\n    }\r\n    if (this.mergeFooterItems) {\r\n      this.handleDefaultMergeFooterItems();\r\n    }\r\n    this.$nextTick(function () {\r\n      return setTimeout(_this20.recalculate);\r\n    });\r\n  },\r\n  /**\r\n   * 处理初始化的默认行为\r\n   * 只会执行一次\r\n   */\r\n  handleInitDefaults: function handleInitDefaults() {\r\n    var sortConfig = this.sortConfig;\r\n    if (sortConfig) {\r\n      this.handleDefaultSort();\r\n    }\r\n  },\r\n  /**\r\n   * 隐藏指定列\r\n   */\r\n  hideColumn: function hideColumn(fieldOrColumn) {\r\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n    if (column) {\r\n      column.visible = false;\r\n    }\r\n    return this.handleCustom();\r\n  },\r\n  /**\r\n   * 显示指定列\r\n   */\r\n  showColumn: function showColumn(fieldOrColumn) {\r\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n    if (column) {\r\n      column.visible = true;\r\n    }\r\n    return this.handleCustom();\r\n  },\r\n  /**\r\n   * 手动重置列的显示隐藏、列宽拖动的状态；\r\n   * 如果为 true 则重置所有状态\r\n   * 如果已关联工具栏，则会同步更新\r\n   */\r\n  resetColumn: function resetColumn(options) {\r\n    var customOpts = this.customOpts;\r\n    var checkMethod = customOpts.checkMethod;\r\n    var opts = Object.assign({\r\n      visible: true,\r\n      resizable: options === true\r\n    }, options);\r\n    this.tableFullColumn.forEach(function (column) {\r\n      if (opts.resizable) {\r\n        column.resizeWidth = 0;\r\n      }\r\n      if (!checkMethod || checkMethod({\r\n        column: column\r\n      })) {\r\n        column.visible = column.defaultVisible;\r\n      }\r\n    });\r\n    if (opts.resizable) {\r\n      this.saveCustomResizable(true);\r\n    }\r\n    return this.handleCustom();\r\n  },\r\n  handleCustom: function handleCustom() {\r\n    this.saveCustomVisible();\r\n    this.analyColumnWidth();\r\n    return this.refreshColumn();\r\n  },\r\n  /**\r\n   * 还原自定义列操作状态\r\n   */\r\n  restoreCustomStorage: function restoreCustomStorage() {\r\n    var id = this.id,\r\n      collectColumn = this.collectColumn,\r\n      customConfig = this.customConfig,\r\n      customOpts = this.customOpts;\r\n    var storage = customOpts.storage;\r\n    var isAllStorage = customOpts.storage === true;\r\n    var isResizable = isAllStorage || storage && storage.resizable;\r\n    var isVisible = isAllStorage || storage && storage.visible;\r\n    if (customConfig && (isResizable || isVisible)) {\r\n      var customMap = {};\r\n      if (!id) {\r\n        (0, _log.errLog)('vxe.error.reqProp', ['id']);\r\n        return;\r\n      }\r\n      if (isResizable) {\r\n        var columnWidthStorage = getCustomStorageMap(resizableStorageKey)[id];\r\n        if (columnWidthStorage) {\r\n          _xeUtils.default.each(columnWidthStorage, function (resizeWidth, field) {\r\n            customMap[field] = {\r\n              field: field,\r\n              resizeWidth: resizeWidth\r\n            };\r\n          });\r\n        }\r\n      }\r\n      if (isVisible) {\r\n        var columnVisibleStorage = getCustomStorageMap(visibleStorageKey)[id];\r\n        if (columnVisibleStorage) {\r\n          var colVisibles = columnVisibleStorage.split('|');\r\n          var colHides = colVisibles[0] ? colVisibles[0].split(',') : [];\r\n          var colShows = colVisibles[1] ? colVisibles[1].split(',') : [];\r\n          colHides.forEach(function (field) {\r\n            if (customMap[field]) {\r\n              customMap[field].visible = false;\r\n            } else {\r\n              customMap[field] = {\r\n                field: field,\r\n                visible: false\r\n              };\r\n            }\r\n          });\r\n          colShows.forEach(function (field) {\r\n            if (customMap[field]) {\r\n              customMap[field].visible = true;\r\n            } else {\r\n              customMap[field] = {\r\n                field: field,\r\n                visible: true\r\n              };\r\n            }\r\n          });\r\n        }\r\n      }\r\n      var keyMap = {};\r\n      _xeUtils.default.eachTree(collectColumn, function (column) {\r\n        var colKey = column.getKey();\r\n        if (colKey) {\r\n          keyMap[colKey] = column;\r\n        }\r\n      });\r\n      _xeUtils.default.each(customMap, function (_ref5, field) {\r\n        var visible = _ref5.visible,\r\n          resizeWidth = _ref5.resizeWidth;\r\n        var column = keyMap[field];\r\n        if (column) {\r\n          if (_xeUtils.default.isNumber(resizeWidth)) {\r\n            column.resizeWidth = resizeWidth;\r\n          }\r\n          if (_xeUtils.default.isBoolean(visible)) {\r\n            column.visible = visible;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n  saveCustomVisible: function saveCustomVisible() {\r\n    var id = this.id,\r\n      collectColumn = this.collectColumn,\r\n      customConfig = this.customConfig,\r\n      customOpts = this.customOpts;\r\n    var checkMethod = customOpts.checkMethod,\r\n      storage = customOpts.storage;\r\n    var isAllStorage = customOpts.storage === true;\r\n    var isVisible = isAllStorage || storage && storage.visible;\r\n    if (customConfig && isVisible) {\r\n      var columnVisibleStorageMap = getCustomStorageMap(visibleStorageKey);\r\n      var colHides = [];\r\n      var colShows = [];\r\n      if (!id) {\r\n        (0, _log.errLog)('vxe.error.reqProp', ['id']);\r\n        return;\r\n      }\r\n      _xeUtils.default.eachTree(collectColumn, function (column) {\r\n        if (!checkMethod || checkMethod({\r\n          column: column\r\n        })) {\r\n          if (!column.visible && column.defaultVisible) {\r\n            var colKey = column.getKey();\r\n            if (colKey) {\r\n              colHides.push(colKey);\r\n            }\r\n          } else if (column.visible && !column.defaultVisible) {\r\n            var _colKey = column.getKey();\r\n            if (_colKey) {\r\n              colShows.push(_colKey);\r\n            }\r\n          }\r\n        }\r\n      });\r\n      columnVisibleStorageMap[id] = [colHides.join(',')].concat(colShows.length ? [colShows.join(',')] : []).join('|') || undefined;\r\n      localStorage.setItem(visibleStorageKey, _xeUtils.default.toJSONString(columnVisibleStorageMap));\r\n    }\r\n  },\r\n  saveCustomResizable: function saveCustomResizable(isReset) {\r\n    var id = this.id,\r\n      collectColumn = this.collectColumn,\r\n      customConfig = this.customConfig,\r\n      customOpts = this.customOpts;\r\n    var storage = customOpts.storage;\r\n    var isAllStorage = customOpts.storage === true;\r\n    var isResizable = isAllStorage || storage && storage.resizable;\r\n    if (customConfig && isResizable) {\r\n      var columnWidthStorageMap = getCustomStorageMap(resizableStorageKey);\r\n      var columnWidthStorage;\r\n      if (!id) {\r\n        (0, _log.errLog)('vxe.error.reqProp', ['id']);\r\n        return;\r\n      }\r\n      if (!isReset) {\r\n        columnWidthStorage = _xeUtils.default.isPlainObject(columnWidthStorageMap[id]) ? columnWidthStorageMap[id] : {};\r\n        _xeUtils.default.eachTree(collectColumn, function (column) {\r\n          if (column.resizeWidth) {\r\n            var colKey = column.getKey();\r\n            if (colKey) {\r\n              columnWidthStorage[colKey] = column.renderWidth;\r\n            }\r\n          }\r\n        });\r\n      }\r\n      columnWidthStorageMap[id] = _xeUtils.default.isEmpty(columnWidthStorage) ? undefined : columnWidthStorage;\r\n      localStorage.setItem(resizableStorageKey, _xeUtils.default.toJSONString(columnWidthStorageMap));\r\n    }\r\n  },\r\n  /**\r\n   * 刷新列配置\r\n   */\r\n  refreshColumn: function refreshColumn() {\r\n    var _this21 = this;\r\n    return this.parseColumns().then(function () {\r\n      return _this21.refreshScroll();\r\n    }).then(function () {\r\n      return _this21.recalculate();\r\n    });\r\n  },\r\n  /**\r\n   * 刷新列信息\r\n   * 将固定的列左边、右边分别靠边\r\n   */\r\n  parseColumns: function parseColumns() {\r\n    var _this22 = this;\r\n    var leftList = [];\r\n    var centerList = [];\r\n    var rightList = [];\r\n    var collectColumn = this.collectColumn,\r\n      tableFullColumn = this.tableFullColumn,\r\n      isGroup = this.isGroup,\r\n      columnStore = this.columnStore,\r\n      sXOpts = this.sXOpts,\r\n      scrollXStore = this.scrollXStore;\r\n    // 如果是分组表头，如果子列全部被隐藏，则根列也隐藏\r\n    if (isGroup) {\r\n      var leftGroupList = [];\r\n      var centerGroupList = [];\r\n      var rightGroupList = [];\r\n      _xeUtils.default.eachTree(collectColumn, function (column, index, items, path, parent) {\r\n        var isColGroup = hasChildrenList(column);\r\n        // 如果是分组，必须按组设置固定列，不允许给子列设置固定\r\n        if (parent && parent.fixed) {\r\n          column.fixed = parent.fixed;\r\n        }\r\n        if (parent && column.fixed !== parent.fixed) {\r\n          (0, _log.errLog)('vxe.error.groupFixed');\r\n        }\r\n        if (isColGroup) {\r\n          column.visible = !!_xeUtils.default.findTree(column.children, function (subColumn) {\r\n            return hasChildrenList(subColumn) ? null : subColumn.visible;\r\n          });\r\n        } else if (column.visible) {\r\n          if (column.fixed === 'left') {\r\n            leftList.push(column);\r\n          } else if (column.fixed === 'right') {\r\n            rightList.push(column);\r\n          } else {\r\n            centerList.push(column);\r\n          }\r\n        }\r\n      });\r\n      collectColumn.forEach(function (column) {\r\n        if (column.visible) {\r\n          if (column.fixed === 'left') {\r\n            leftGroupList.push(column);\r\n          } else if (column.fixed === 'right') {\r\n            rightGroupList.push(column);\r\n          } else {\r\n            centerGroupList.push(column);\r\n          }\r\n        }\r\n      });\r\n      this.tableGroupColumn = leftGroupList.concat(centerGroupList).concat(rightGroupList);\r\n    } else {\r\n      // 重新分配列\r\n      tableFullColumn.forEach(function (column) {\r\n        if (column.visible) {\r\n          if (column.fixed === 'left') {\r\n            leftList.push(column);\r\n          } else if (column.fixed === 'right') {\r\n            rightList.push(column);\r\n          } else {\r\n            centerList.push(column);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    var visibleColumn = leftList.concat(centerList).concat(rightList);\r\n    var scrollXLoad = sXOpts.enabled && sXOpts.gt > -1 && sXOpts.gt < tableFullColumn.length;\r\n    this.hasFixedColumn = leftList.length > 0 || rightList.length > 0;\r\n    Object.assign(columnStore, {\r\n      leftList: leftList,\r\n      centerList: centerList,\r\n      rightList: rightList\r\n    });\r\n    if (scrollXLoad) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        if (this.showHeader && !this.showHeaderOverflow) {\r\n          (0, _log.warnLog)('vxe.error.reqProp', ['show-header-overflow']);\r\n        }\r\n        if (this.showFooter && !this.showFooterOverflow) {\r\n          (0, _log.warnLog)('vxe.error.reqProp', ['show-footer-overflow']);\r\n        }\r\n        if (this.spanMethod) {\r\n          (0, _log.warnLog)('vxe.error.scrollErrProp', ['span-method']);\r\n        }\r\n        if (this.footerSpanMethod) {\r\n          (0, _log.warnLog)('vxe.error.scrollErrProp', ['footer-span-method']);\r\n        }\r\n      }\r\n      var _computeVirtualX = computeVirtualX(this),\r\n        visibleSize = _computeVirtualX.visibleSize;\r\n      scrollXStore.startIndex = 0;\r\n      scrollXStore.endIndex = visibleSize;\r\n      scrollXStore.visibleSize = visibleSize;\r\n    }\r\n    // 如果列被显示/隐藏，则清除合并状态\r\n    // 如果列被设置为固定，则清除合并状态\r\n    if (visibleColumn.length !== this.visibleColumn.length || !this.visibleColumn.every(function (column, index) {\r\n      return column === visibleColumn[index];\r\n    })) {\r\n      this.clearMergeCells();\r\n      this.clearMergeFooterItems();\r\n    }\r\n    this.scrollXLoad = scrollXLoad;\r\n    this.visibleColumn = visibleColumn;\r\n    this.handleTableColumn();\r\n    return this.updateFooter().then(function () {\r\n      return _this22.recalculate();\r\n    }).then(function () {\r\n      _this22.updateCellAreas();\r\n      return _this22.recalculate();\r\n    });\r\n  },\r\n  /**\r\n   * 指定列宽的列进行拆分\r\n   */\r\n  analyColumnWidth: function analyColumnWidth() {\r\n    var columnOpts = this.columnOpts;\r\n    var defaultWidth = columnOpts.width,\r\n      defaultMinWidth = columnOpts.minWidth;\r\n    var resizeList = [];\r\n    var pxList = [];\r\n    var pxMinList = [];\r\n    var scaleList = [];\r\n    var scaleMinList = [];\r\n    var autoList = [];\r\n    this.tableFullColumn.forEach(function (column) {\r\n      if (defaultWidth && !column.width) {\r\n        column.width = defaultWidth;\r\n      }\r\n      if (defaultMinWidth && !column.minWidth) {\r\n        column.minWidth = defaultMinWidth;\r\n      }\r\n      if (column.visible) {\r\n        if (column.resizeWidth) {\r\n          resizeList.push(column);\r\n        } else if (_dom.default.isPx(column.width)) {\r\n          pxList.push(column);\r\n        } else if (_dom.default.isScale(column.width)) {\r\n          scaleList.push(column);\r\n        } else if (_dom.default.isPx(column.minWidth)) {\r\n          pxMinList.push(column);\r\n        } else if (_dom.default.isScale(column.minWidth)) {\r\n          scaleMinList.push(column);\r\n        } else {\r\n          autoList.push(column);\r\n        }\r\n      }\r\n    });\r\n    Object.assign(this.columnStore, {\r\n      resizeList: resizeList,\r\n      pxList: pxList,\r\n      pxMinList: pxMinList,\r\n      scaleList: scaleList,\r\n      scaleMinList: scaleMinList,\r\n      autoList: autoList\r\n    });\r\n  },\r\n  /**\r\n   * 刷新滚动操作，手动同步滚动相关位置（对于某些特殊的操作，比如滚动条错位、固定列不同步）\r\n   */\r\n  refreshScroll: function refreshScroll() {\r\n    var _this23 = this;\r\n    var lastScrollLeft = this.lastScrollLeft,\r\n      lastScrollTop = this.lastScrollTop;\r\n    var $refs = this.$refs;\r\n    var tableBody = $refs.tableBody,\r\n      leftBody = $refs.leftBody,\r\n      rightBody = $refs.rightBody,\r\n      tableFooter = $refs.tableFooter;\r\n    var tableBodyElem = tableBody ? tableBody.$el : null;\r\n    var leftBodyElem = leftBody ? leftBody.$el : null;\r\n    var rightBodyElem = rightBody ? rightBody.$el : null;\r\n    var tableFooterElem = tableFooter ? tableFooter.$el : null;\r\n    return new Promise(function (resolve) {\r\n      // 还原滚动条位置\r\n      if (lastScrollLeft || lastScrollTop) {\r\n        return (0, _util.restoreScrollLocation)(_this23, lastScrollLeft, lastScrollTop).then(function () {\r\n          // 存在滚动行为未结束情况\r\n          setTimeout(resolve, 30);\r\n        });\r\n      }\r\n      // 重置\r\n      (0, _dom.setScrollTop)(tableBodyElem, lastScrollTop);\r\n      (0, _dom.setScrollTop)(leftBodyElem, lastScrollTop);\r\n      (0, _dom.setScrollTop)(rightBodyElem, lastScrollTop);\r\n      (0, _dom.setScrollLeft)(tableFooterElem, lastScrollLeft);\r\n      // 存在滚动行为未结束情况\r\n      setTimeout(resolve, 30);\r\n    });\r\n  },\r\n  /**\r\n   * 计算单元格列宽，动态分配可用剩余空间\r\n   * 支持 width=? width=?px width=?% min-width=? min-width=?px min-width=?%\r\n   */\r\n  recalculate: function recalculate(refull) {\r\n    var _this24 = this;\r\n    var $refs = this.$refs;\r\n    var tableBody = $refs.tableBody,\r\n      tableHeader = $refs.tableHeader,\r\n      tableFooter = $refs.tableFooter;\r\n    var bodyElem = tableBody ? tableBody.$el : null;\r\n    var headerElem = tableHeader ? tableHeader.$el : null;\r\n    var footerElem = tableFooter ? tableFooter.$el : null;\r\n    if (bodyElem) {\r\n      this.autoCellWidth(headerElem, bodyElem, footerElem);\r\n      if (refull === true) {\r\n        // 初始化时需要在列计算之后再执行优化运算，达到最优显示效果\r\n        return this.computeScrollLoad().then(function () {\r\n          _this24.autoCellWidth(headerElem, bodyElem, footerElem);\r\n          return _this24.computeScrollLoad();\r\n        });\r\n      }\r\n    }\r\n    return this.computeScrollLoad();\r\n  },\r\n  /**\r\n   * 列宽算法\r\n   * 支持 px、%、固定 混合分配\r\n   * 支持动态列表调整分配\r\n   * 支持自动分配偏移量\r\n   * @param {Element} headerElem\r\n   * @param {Element} bodyElem\r\n   * @param {Element} footerElem\r\n   * @param {Number} bodyWidth\r\n   */\r\n  autoCellWidth: function autoCellWidth(headerElem, bodyElem, footerElem) {\r\n    var tableWidth = 0;\r\n    var minCellWidth = 40; // 列宽最少限制 40px\r\n    var bodyWidth = bodyElem.clientWidth - 1;\r\n    var remainWidth = bodyWidth;\r\n    var meanWidth = remainWidth / 100;\r\n    var fit = this.fit,\r\n      columnStore = this.columnStore;\r\n    var resizeList = columnStore.resizeList,\r\n      pxMinList = columnStore.pxMinList,\r\n      pxList = columnStore.pxList,\r\n      scaleList = columnStore.scaleList,\r\n      scaleMinList = columnStore.scaleMinList,\r\n      autoList = columnStore.autoList;\r\n    // 最小宽\r\n    pxMinList.forEach(function (column) {\r\n      var minWidth = parseInt(column.minWidth);\r\n      tableWidth += minWidth;\r\n      column.renderWidth = minWidth;\r\n    });\r\n    // 最小百分比\r\n    scaleMinList.forEach(function (column) {\r\n      var scaleWidth = Math.floor(parseInt(column.minWidth) * meanWidth);\r\n      tableWidth += scaleWidth;\r\n      column.renderWidth = scaleWidth;\r\n    });\r\n    // 固定百分比\r\n    scaleList.forEach(function (column) {\r\n      var scaleWidth = Math.floor(parseInt(column.width) * meanWidth);\r\n      tableWidth += scaleWidth;\r\n      column.renderWidth = scaleWidth;\r\n    });\r\n    // 固定宽\r\n    pxList.forEach(function (column) {\r\n      var width = parseInt(column.width);\r\n      tableWidth += width;\r\n      column.renderWidth = width;\r\n    });\r\n    // 调整了列宽\r\n    resizeList.forEach(function (column) {\r\n      var width = parseInt(column.resizeWidth);\r\n      tableWidth += width;\r\n      column.renderWidth = width;\r\n    });\r\n    remainWidth -= tableWidth;\r\n    meanWidth = remainWidth > 0 ? Math.floor(remainWidth / (scaleMinList.length + pxMinList.length + autoList.length)) : 0;\r\n    if (fit) {\r\n      if (remainWidth > 0) {\r\n        scaleMinList.concat(pxMinList).forEach(function (column) {\r\n          tableWidth += meanWidth;\r\n          column.renderWidth += meanWidth;\r\n        });\r\n      }\r\n    } else {\r\n      meanWidth = minCellWidth;\r\n    }\r\n    // 自适应\r\n    autoList.forEach(function (column) {\r\n      var width = Math.max(meanWidth, minCellWidth);\r\n      column.renderWidth = width;\r\n      tableWidth += width;\r\n    });\r\n    if (fit) {\r\n      /**\r\n       * 偏移量算法\r\n       * 如果所有列足够放的情况下，从最后动态列开始分配\r\n       */\r\n      var dynamicList = scaleList.concat(scaleMinList).concat(pxMinList).concat(autoList);\r\n      var dynamicSize = dynamicList.length - 1;\r\n      if (dynamicSize > 0) {\r\n        var odiffer = bodyWidth - tableWidth;\r\n        if (odiffer > 0) {\r\n          while (odiffer > 0 && dynamicSize >= 0) {\r\n            odiffer--;\r\n            dynamicList[dynamicSize--].renderWidth++;\r\n          }\r\n          tableWidth = bodyWidth;\r\n        }\r\n      }\r\n    }\r\n    var tableHeight = bodyElem.offsetHeight;\r\n    var overflowY = bodyElem.scrollHeight > bodyElem.clientHeight;\r\n    this.scrollbarWidth = overflowY ? bodyElem.offsetWidth - bodyElem.clientWidth : 0;\r\n    this.overflowY = overflowY;\r\n    this.tableWidth = tableWidth;\r\n    this.tableHeight = tableHeight;\r\n    if (headerElem) {\r\n      this.headerHeight = headerElem.clientHeight;\r\n      this.$nextTick(function () {\r\n        // 检测是否同步滚动\r\n        if (headerElem && bodyElem && headerElem.scrollLeft !== bodyElem.scrollLeft) {\r\n          headerElem.scrollLeft = bodyElem.scrollLeft;\r\n        }\r\n      });\r\n    } else {\r\n      this.headerHeight = 0;\r\n    }\r\n    if (footerElem) {\r\n      var footerHeight = footerElem.offsetHeight;\r\n      this.scrollbarHeight = Math.max(footerHeight - footerElem.clientHeight, 0);\r\n      this.overflowX = tableWidth > footerElem.clientWidth;\r\n      this.footerHeight = footerHeight;\r\n    } else {\r\n      this.footerHeight = 0;\r\n      this.scrollbarHeight = Math.max(tableHeight - bodyElem.clientHeight, 0);\r\n      this.overflowX = tableWidth > bodyWidth;\r\n    }\r\n    this.updateHeight();\r\n    this.parentHeight = Math.max(this.headerHeight + this.footerHeight + 20, this.getParentHeight());\r\n    if (this.overflowX) {\r\n      this.checkScrolling();\r\n    }\r\n  },\r\n  updateHeight: function updateHeight() {\r\n    this.customHeight = calcHeight(this, 'height');\r\n    this.customMaxHeight = calcHeight(this, 'maxHeight');\r\n  },\r\n  updateStyle: function updateStyle() {\r\n    var _this25 = this;\r\n    var $refs = this.$refs,\r\n      isGroup = this.isGroup,\r\n      fullColumnIdData = this.fullColumnIdData,\r\n      tableColumn = this.tableColumn,\r\n      customHeight = this.customHeight,\r\n      customMaxHeight = this.customMaxHeight,\r\n      border = this.border,\r\n      headerHeight = this.headerHeight,\r\n      showFooter = this.showFooter,\r\n      allColumnOverflow = this.showOverflow,\r\n      allColumnHeaderOverflow = this.showHeaderOverflow,\r\n      allColumnFooterOverflow = this.showFooterOverflow,\r\n      footerHeight = this.footerHeight,\r\n      tableHeight = this.tableHeight,\r\n      tableWidth = this.tableWidth,\r\n      scrollbarHeight = this.scrollbarHeight,\r\n      scrollbarWidth = this.scrollbarWidth,\r\n      scrollXLoad = this.scrollXLoad,\r\n      scrollYLoad = this.scrollYLoad,\r\n      cellOffsetWidth = this.cellOffsetWidth,\r\n      columnStore = this.columnStore,\r\n      elemStore = this.elemStore,\r\n      editStore = this.editStore,\r\n      currentRow = this.currentRow,\r\n      mouseConfig = this.mouseConfig,\r\n      keyboardConfig = this.keyboardConfig,\r\n      keyboardOpts = this.keyboardOpts,\r\n      spanMethod = this.spanMethod,\r\n      mergeList = this.mergeList,\r\n      mergeFooterList = this.mergeFooterList,\r\n      footerSpanMethod = this.footerSpanMethod,\r\n      isAllOverflow = this.isAllOverflow,\r\n      visibleColumn = this.visibleColumn;\r\n    var containerList = ['main', 'left', 'right'];\r\n    var emptyPlaceholderElem = $refs.emptyPlaceholder;\r\n    var bodyWrapperElem = elemStore['main-body-wrapper'];\r\n    if (emptyPlaceholderElem) {\r\n      emptyPlaceholderElem.style.top = \"\".concat(headerHeight, \"px\");\r\n      emptyPlaceholderElem.style.height = bodyWrapperElem ? \"\".concat(bodyWrapperElem.offsetHeight - scrollbarHeight, \"px\") : '';\r\n    }\r\n    if (customHeight > 0) {\r\n      if (showFooter) {\r\n        customHeight += scrollbarHeight;\r\n      }\r\n    }\r\n    containerList.forEach(function (name, index) {\r\n      var fixedType = index > 0 ? name : '';\r\n      var layoutList = ['header', 'body', 'footer'];\r\n      var fixedColumn = columnStore[\"\".concat(fixedType, \"List\")];\r\n      var fixedWrapperElem = $refs[\"\".concat(fixedType, \"Container\")];\r\n      layoutList.forEach(function (layout) {\r\n        var wrapperElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-wrapper\")];\r\n        var tableElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-table\")];\r\n        if (layout === 'header') {\r\n          // 表头体样式处理\r\n          // 横向滚动渲染\r\n          var tWidth = tableWidth;\r\n          var renderColumnList = tableColumn;\r\n          if (isGroup) {\r\n            renderColumnList = visibleColumn;\r\n          } else {\r\n            // 如果是使用优化模式\r\n            if (fixedType) {\r\n              if (scrollXLoad || allColumnHeaderOverflow) {\r\n                renderColumnList = fixedColumn;\r\n              }\r\n            }\r\n          }\r\n          tWidth = renderColumnList.reduce(function (previous, column) {\r\n            return previous + column.renderWidth;\r\n          }, 0);\r\n          if (tableElem) {\r\n            tableElem.style.width = tWidth ? \"\".concat(tWidth + scrollbarWidth, \"px\") : '';\r\n            // 修复 IE 中高度无法自适应问题\r\n            if (_dom.browse.msie) {\r\n              _xeUtils.default.arrayEach(tableElem.querySelectorAll('.vxe-resizable'), function (resizeElem) {\r\n                resizeElem.style.height = \"\".concat(resizeElem.parentNode.offsetHeight, \"px\");\r\n              });\r\n            }\r\n          }\r\n          var repairElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-repair\")];\r\n          if (repairElem) {\r\n            repairElem.style.width = \"\".concat(tableWidth, \"px\");\r\n          }\r\n          var listElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-list\")];\r\n          if (isGroup && listElem) {\r\n            _xeUtils.default.arrayEach(listElem.querySelectorAll('.col--group'), function (thElem) {\r\n              var colNode = _this25.getColumnNode(thElem);\r\n              if (colNode) {\r\n                var column = colNode.item;\r\n                var showHeaderOverflow = column.showHeaderOverflow;\r\n                var cellOverflow = _xeUtils.default.isBoolean(showHeaderOverflow) ? showHeaderOverflow : allColumnHeaderOverflow;\r\n                var showEllipsis = cellOverflow === 'ellipsis';\r\n                var showTitle = cellOverflow === 'title';\r\n                var showTooltip = cellOverflow === true || cellOverflow === 'tooltip';\r\n                var hasEllipsis = showTitle || showTooltip || showEllipsis;\r\n                var childWidth = 0;\r\n                var countChild = 0;\r\n                if (hasEllipsis) {\r\n                  _xeUtils.default.eachTree(column.children, function (item) {\r\n                    if (!item.children || !column.children.length) {\r\n                      countChild++;\r\n                    }\r\n                    childWidth += item.renderWidth;\r\n                  });\r\n                }\r\n                thElem.style.width = hasEllipsis ? \"\".concat(childWidth - countChild - (border ? 2 : 0), \"px\") : '';\r\n              }\r\n            });\r\n          }\r\n        } else if (layout === 'body') {\r\n          var emptyBlockElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-emptyBlock\")];\r\n          if (isNodeElement(wrapperElem)) {\r\n            if (customMaxHeight) {\r\n              wrapperElem.style.maxHeight = \"\".concat(fixedType ? customMaxHeight - headerHeight - (showFooter ? 0 : scrollbarHeight) : customMaxHeight - headerHeight, \"px\");\r\n            } else {\r\n              if (customHeight > 0) {\r\n                wrapperElem.style.height = \"\".concat(fixedType ? (customHeight > 0 ? customHeight - headerHeight - footerHeight : tableHeight) - (showFooter ? 0 : scrollbarHeight) : customHeight - headerHeight - footerHeight, \"px\");\r\n              } else {\r\n                wrapperElem.style.height = '';\r\n              }\r\n            }\r\n          }\r\n\r\n          // 如果是固定列\r\n          if (fixedWrapperElem) {\r\n            var isRightFixed = fixedType === 'right';\r\n            var _fixedColumn = columnStore[\"\".concat(fixedType, \"List\")];\r\n            if (isNodeElement(wrapperElem)) {\r\n              wrapperElem.style.top = \"\".concat(headerHeight, \"px\");\r\n            }\r\n            fixedWrapperElem.style.height = \"\".concat((customHeight > 0 ? customHeight - headerHeight - footerHeight : tableHeight) + headerHeight + footerHeight - scrollbarHeight * (showFooter ? 2 : 1), \"px\");\r\n            fixedWrapperElem.style.width = \"\".concat(_fixedColumn.reduce(function (previous, column) {\r\n              return previous + column.renderWidth;\r\n            }, isRightFixed ? scrollbarWidth : 0), \"px\");\r\n          }\r\n          var _tWidth = tableWidth;\r\n          var _renderColumnList = tableColumn;\r\n\r\n          // 如果是使用优化模式\r\n          if (fixedType) {\r\n            if (scrollXLoad || scrollYLoad || (allColumnOverflow ? isAllOverflow : allColumnOverflow)) {\r\n              if (!mergeList.length && !spanMethod && !(keyboardConfig && keyboardOpts.isMerge)) {\r\n                _renderColumnList = fixedColumn;\r\n              } else {\r\n                _renderColumnList = visibleColumn;\r\n              }\r\n            } else {\r\n              _renderColumnList = visibleColumn;\r\n            }\r\n          }\r\n          _tWidth = _renderColumnList.reduce(function (previous, column) {\r\n            return previous + column.renderWidth;\r\n          }, 0);\r\n          if (tableElem) {\r\n            tableElem.style.width = _tWidth ? \"\".concat(_tWidth, \"px\") : '';\r\n            // 兼容性处理\r\n            tableElem.style.paddingRight = scrollbarWidth && fixedType && (_dom.browse['-moz'] || _dom.browse.safari) ? \"\".concat(scrollbarWidth, \"px\") : '';\r\n          }\r\n          if (emptyBlockElem) {\r\n            emptyBlockElem.style.width = _tWidth ? \"\".concat(_tWidth, \"px\") : '';\r\n          }\r\n        } else if (layout === 'footer') {\r\n          var _tWidth2 = tableWidth;\r\n          var _renderColumnList2 = tableColumn;\r\n\r\n          // 如果是使用优化模式\r\n          if (fixedType) {\r\n            if (scrollXLoad || allColumnFooterOverflow) {\r\n              if (!mergeFooterList.length || !footerSpanMethod) {\r\n                _renderColumnList2 = fixedColumn;\r\n              } else {\r\n                _renderColumnList2 = visibleColumn;\r\n              }\r\n            } else {\r\n              _renderColumnList2 = visibleColumn;\r\n            }\r\n          }\r\n          _tWidth2 = _renderColumnList2.reduce(function (previous, column) {\r\n            return previous + column.renderWidth;\r\n          }, 0);\r\n          if (isNodeElement(wrapperElem)) {\r\n            // 如果是固定列\r\n            if (fixedWrapperElem) {\r\n              wrapperElem.style.top = \"\".concat(customHeight > 0 ? customHeight - footerHeight : tableHeight + headerHeight, \"px\");\r\n            }\r\n            wrapperElem.style.marginTop = \"\".concat(-scrollbarHeight, \"px\");\r\n          }\r\n          if (tableElem) {\r\n            tableElem.style.width = _tWidth2 ? \"\".concat(_tWidth2 + scrollbarWidth, \"px\") : '';\r\n          }\r\n        }\r\n        var colgroupElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-colgroup\")];\r\n        if (colgroupElem) {\r\n          _xeUtils.default.arrayEach(colgroupElem.children, function (colElem) {\r\n            var colid = colElem.getAttribute('name');\r\n            if (colid === 'col_gutter') {\r\n              colElem.style.width = \"\".concat(scrollbarWidth, \"px\");\r\n            }\r\n            if (fullColumnIdData[colid]) {\r\n              var column = fullColumnIdData[colid].column;\r\n              var showHeaderOverflow = column.showHeaderOverflow,\r\n                showFooterOverflow = column.showFooterOverflow,\r\n                showOverflow = column.showOverflow;\r\n              var cellOverflow;\r\n              colElem.style.width = \"\".concat(column.renderWidth, \"px\");\r\n              if (layout === 'header') {\r\n                cellOverflow = _xeUtils.default.isUndefined(showHeaderOverflow) || _xeUtils.default.isNull(showHeaderOverflow) ? allColumnHeaderOverflow : showHeaderOverflow;\r\n              } else if (layout === 'footer') {\r\n                cellOverflow = _xeUtils.default.isUndefined(showFooterOverflow) || _xeUtils.default.isNull(showFooterOverflow) ? allColumnFooterOverflow : showFooterOverflow;\r\n              } else {\r\n                cellOverflow = _xeUtils.default.isUndefined(showOverflow) || _xeUtils.default.isNull(showOverflow) ? allColumnOverflow : showOverflow;\r\n              }\r\n              var showEllipsis = cellOverflow === 'ellipsis';\r\n              var showTitle = cellOverflow === 'title';\r\n              var showTooltip = cellOverflow === true || cellOverflow === 'tooltip';\r\n              var hasEllipsis = showTitle || showTooltip || showEllipsis;\r\n              var _listElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-list\")];\r\n              // 滚动的渲染不支持动态行高\r\n              if (layout === 'header' || layout === 'footer') {\r\n                if (scrollXLoad && !hasEllipsis) {\r\n                  hasEllipsis = true;\r\n                }\r\n              } else {\r\n                if ((scrollXLoad || scrollYLoad) && !hasEllipsis) {\r\n                  hasEllipsis = true;\r\n                }\r\n              }\r\n              if (_listElem) {\r\n                _xeUtils.default.arrayEach(_listElem.querySelectorAll(\".\".concat(column.id)), function (elem) {\r\n                  var colspan = parseInt(elem.getAttribute('colspan') || 1);\r\n                  var cellElem = elem.querySelector('.vxe-cell');\r\n                  var colWidth = column.renderWidth;\r\n                  if (cellElem) {\r\n                    if (colspan > 1) {\r\n                      var columnIndex = _this25.getColumnIndex(column);\r\n                      for (var _index = 1; _index < colspan; _index++) {\r\n                        var nextColumn = _this25.getColumns(columnIndex + _index);\r\n                        if (nextColumn) {\r\n                          colWidth += nextColumn.renderWidth;\r\n                        }\r\n                      }\r\n                    }\r\n                    cellElem.style.width = hasEllipsis ? \"\".concat(colWidth - cellOffsetWidth * colspan, \"px\") : '';\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n    if (currentRow) {\r\n      this.setCurrentRow(currentRow);\r\n    }\r\n    if (mouseConfig && mouseConfig.selected && editStore.selected.row && editStore.selected.column) {\r\n      this.addColSdCls();\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 处理固定列的显示状态\r\n   */\r\n  checkScrolling: function checkScrolling() {\r\n    var _this$$refs = this.$refs,\r\n      tableBody = _this$$refs.tableBody,\r\n      leftContainer = _this$$refs.leftContainer,\r\n      rightContainer = _this$$refs.rightContainer;\r\n    var bodyElem = tableBody ? tableBody.$el : null;\r\n    if (bodyElem) {\r\n      if (leftContainer) {\r\n        _dom.default[bodyElem.scrollLeft > 0 ? 'addClass' : 'removeClass'](leftContainer, 'scrolling--middle');\r\n      }\r\n      if (rightContainer) {\r\n        _dom.default[bodyElem.clientWidth < bodyElem.scrollWidth - Math.ceil(bodyElem.scrollLeft) ? 'addClass' : 'removeClass'](rightContainer, 'scrolling--middle');\r\n      }\r\n    }\r\n  },\r\n  preventEvent: function preventEvent(evnt, type, args, next, end) {\r\n    var _this26 = this;\r\n    var evntList = _vXETable.default.interceptor.get(type);\r\n    var rest;\r\n    if (!evntList.some(function (func) {\r\n      return func(Object.assign({\r\n        $grid: _this26.$xegrid,\r\n        $table: _this26,\r\n        $event: evnt\r\n      }, args)) === false;\r\n    })) {\r\n      if (next) {\r\n        rest = next();\r\n      }\r\n    }\r\n    if (end) {\r\n      end();\r\n    }\r\n    return rest;\r\n  },\r\n  /**\r\n   * 全局按下事件处理\r\n   */\r\n  handleGlobalMousedownEvent: function handleGlobalMousedownEvent(evnt) {\r\n    var _this27 = this;\r\n    var $el = this.$el,\r\n      $refs = this.$refs,\r\n      $xegrid = this.$xegrid,\r\n      $toolbar = this.$toolbar,\r\n      mouseConfig = this.mouseConfig,\r\n      editStore = this.editStore,\r\n      ctxMenuStore = this.ctxMenuStore,\r\n      editOpts = this.editOpts,\r\n      filterStore = this.filterStore,\r\n      getRowNode = this.getRowNode;\r\n    var actived = editStore.actived;\r\n    var ctxWrapper = $refs.ctxWrapper,\r\n      filterWrapper = $refs.filterWrapper,\r\n      validTip = $refs.validTip;\r\n    if (filterWrapper) {\r\n      if (getEventTargetNode(evnt, $el, 'vxe-cell--filter').flag) {\r\n        // 如果点击了筛选按钮\r\n      } else if (getEventTargetNode(evnt, filterWrapper.$el).flag) {\r\n        // 如果点击筛选容器\r\n      } else {\r\n        if (!getEventTargetNode(evnt, document.body, 'vxe-table--ignore-clear').flag) {\r\n          this.preventEvent(evnt, 'event.clearFilter', filterStore.args, this.closeFilter);\r\n        }\r\n      }\r\n    }\r\n    // 如果已激活了编辑状态\r\n    if (actived.row) {\r\n      if (!(editOpts.autoClear === false)) {\r\n        // 如果是激活状态，点击了单元格之外\r\n        var cell = actived.args.cell;\r\n        if (!cell || !getEventTargetNode(evnt, cell).flag) {\r\n          if (validTip && getEventTargetNode(evnt, validTip.$el).flag) {\r\n            // 如果是激活状态，且点击了校验提示框\r\n          } else if (!this.lastCallTime || this.lastCallTime + 50 < Date.now()) {\r\n            if (!getEventTargetNode(evnt, document.body, 'vxe-table--ignore-clear').flag) {\r\n              // 如果手动调用了激活单元格，避免触发源被移除后导致重复关闭\r\n              this.preventEvent(evnt, 'event.clearActived', actived.args, function () {\r\n                var isClearActived;\r\n                if (editOpts.mode === 'row') {\r\n                  var rowNode = getEventTargetNode(evnt, $el, 'vxe-body--row');\r\n                  // row 方式，如果点击了不同行\r\n                  isClearActived = rowNode.flag ? getRowNode(rowNode.targetElem).item !== actived.args.row : false;\r\n                } else {\r\n                  // cell 方式，如果是非编辑列\r\n                  isClearActived = !getEventTargetNode(evnt, $el, 'col--edit').flag;\r\n                }\r\n                // 如果点击表头行，则清除激活状态\r\n                if (!isClearActived) {\r\n                  isClearActived = getEventTargetNode(evnt, $el, 'vxe-header--row').flag;\r\n                }\r\n                // 如果点击表尾行，则清除激活状态\r\n                if (!isClearActived) {\r\n                  isClearActived = getEventTargetNode(evnt, $el, 'vxe-footer--row').flag;\r\n                }\r\n                // 如果固定了高度且点击了行之外的空白处，则清除激活状态\r\n                if (!isClearActived && _this27.height && !_this27.overflowY) {\r\n                  var bodyWrapperElem = evnt.target;\r\n                  if (hasClass(bodyWrapperElem, 'vxe-table--body-wrapper')) {\r\n                    isClearActived = evnt.offsetY < bodyWrapperElem.clientHeight;\r\n                  }\r\n                }\r\n                if (isClearActived ||\r\n                // 如果点击了当前表格之外\r\n                !getEventTargetNode(evnt, $el).flag) {\r\n                  setTimeout(function () {\r\n                    return _this27.clearEdit(evnt);\r\n                  });\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (mouseConfig) {\r\n      if (!getEventTargetNode(evnt, $el).flag && !($xegrid && getEventTargetNode(evnt, $xegrid.$el).flag) && !(ctxWrapper && getEventTargetNode(evnt, ctxWrapper.$el).flag) && !($toolbar && getEventTargetNode(evnt, $toolbar.$el).flag)) {\r\n        this.clearSelected();\r\n        if (!getEventTargetNode(evnt, document.body, 'vxe-table--ignore-areas-clear').flag) {\r\n          this.preventEvent(evnt, 'event.clearAreas', {}, function () {\r\n            _this27.clearCellAreas();\r\n            _this27.clearCopyCellArea();\r\n          });\r\n        }\r\n      }\r\n    }\r\n    // 如果配置了快捷菜单且，点击了其他地方则关闭\r\n    if (ctxMenuStore.visible && ctxWrapper && !getEventTargetNode(evnt, ctxWrapper.$el).flag) {\r\n      this.closeMenu();\r\n    }\r\n    // 最后激活的表格\r\n    this.isActivated = getEventTargetNode(evnt, ($xegrid || this).$el).flag;\r\n  },\r\n  /**\r\n   * 窗口失焦事件处理\r\n   */\r\n  handleGlobalBlurEvent: function handleGlobalBlurEvent() {\r\n    this.closeFilter();\r\n    this.closeMenu();\r\n  },\r\n  /**\r\n   * 全局滚动事件\r\n   */\r\n  handleGlobalMousewheelEvent: function handleGlobalMousewheelEvent() {\r\n    this.closeTooltip();\r\n    this.closeMenu();\r\n  },\r\n  /**\r\n   * 表格键盘事件\r\n   */\r\n  keydownEvent: function keydownEvent(evnt) {\r\n    var _this28 = this;\r\n    var filterStore = this.filterStore,\r\n      ctxMenuStore = this.ctxMenuStore,\r\n      editStore = this.editStore,\r\n      keyboardConfig = this.keyboardConfig,\r\n      mouseConfig = this.mouseConfig,\r\n      mouseOpts = this.mouseOpts,\r\n      keyboardOpts = this.keyboardOpts;\r\n    var actived = editStore.actived;\r\n    var keyCode = evnt.keyCode;\r\n    var isEsc = keyCode === 27;\r\n    if (isEsc) {\r\n      this.preventEvent(evnt, 'event.keydown', null, function () {\r\n        _this28.emitEvent('keydown-start', {}, evnt);\r\n        if (keyboardConfig && mouseConfig && mouseOpts.area && _this28.handleKeyboardEvent) {\r\n          _this28.handleKeyboardEvent(evnt);\r\n        } else if (actived.row || filterStore.visible || ctxMenuStore.visible) {\r\n          evnt.stopPropagation();\r\n          // 如果按下了 Esc 键，关闭快捷菜单、筛选\r\n          _this28.closeFilter();\r\n          _this28.closeMenu();\r\n          if (keyboardConfig && keyboardOpts.isEsc) {\r\n            // 如果是激活编辑状态，则取消编辑\r\n            if (actived.row) {\r\n              var params = actived.args;\r\n              _this28.clearEdit(evnt);\r\n              // 如果配置了选中功能，则为选中状态\r\n              if (mouseConfig && mouseOpts.selected) {\r\n                _this28.$nextTick(function () {\r\n                  return _this28.handleSelected(params, evnt);\r\n                });\r\n              }\r\n            }\r\n          }\r\n        }\r\n        _this28.emitEvent('keydown', {}, evnt);\r\n        _this28.emitEvent('keydown-end', {}, evnt);\r\n      });\r\n    }\r\n  },\r\n  /**\r\n   * 全局键盘事件\r\n   */\r\n  handleGlobalKeydownEvent: function handleGlobalKeydownEvent(evnt) {\r\n    var _this29 = this;\r\n    // 该行为只对当前激活的表格有效\r\n    if (this.isActivated) {\r\n      this.preventEvent(evnt, 'event.keydown', null, function () {\r\n        var filterStore = _this29.filterStore,\r\n          isCtxMenu = _this29.isCtxMenu,\r\n          ctxMenuStore = _this29.ctxMenuStore,\r\n          editStore = _this29.editStore,\r\n          editOpts = _this29.editOpts,\r\n          editConfig = _this29.editConfig,\r\n          mouseConfig = _this29.mouseConfig,\r\n          mouseOpts = _this29.mouseOpts,\r\n          keyboardConfig = _this29.keyboardConfig,\r\n          keyboardOpts = _this29.keyboardOpts,\r\n          treeConfig = _this29.treeConfig,\r\n          treeOpts = _this29.treeOpts,\r\n          highlightCurrentRow = _this29.highlightCurrentRow,\r\n          currentRow = _this29.currentRow,\r\n          bodyCtxMenu = _this29.bodyCtxMenu,\r\n          rowOpts = _this29.rowOpts;\r\n        var selected = editStore.selected,\r\n          actived = editStore.actived;\r\n        var keyCode = evnt.keyCode;\r\n        var isBack = keyCode === 8;\r\n        var isTab = keyCode === 9;\r\n        var isEnter = keyCode === 13;\r\n        var isEsc = keyCode === 27;\r\n        var isSpacebar = keyCode === 32;\r\n        var isLeftArrow = keyCode === 37;\r\n        var isUpArrow = keyCode === 38;\r\n        var isRightArrow = keyCode === 39;\r\n        var isDwArrow = keyCode === 40;\r\n        var isDel = keyCode === 46;\r\n        var isF2 = keyCode === 113;\r\n        var isContextMenu = keyCode === 93;\r\n        var hasMetaKey = evnt.metaKey;\r\n        var hasCtrlKey = evnt.ctrlKey;\r\n        var hasShiftKey = evnt.shiftKey;\r\n        var hasAltKey = evnt.altKey;\r\n        var operArrow = isLeftArrow || isUpArrow || isRightArrow || isDwArrow;\r\n        var operCtxMenu = isCtxMenu && ctxMenuStore.visible && (isEnter || isSpacebar || operArrow);\r\n        var isEditStatus = (0, _utils.isEnableConf)(editConfig) && actived.column && actived.row;\r\n        var params;\r\n        if (filterStore.visible) {\r\n          if (isEsc) {\r\n            _this29.closeFilter();\r\n          }\r\n          return;\r\n        }\r\n        if (operCtxMenu) {\r\n          // 如果配置了右键菜单; 支持方向键操作、回车\r\n          evnt.preventDefault();\r\n          if (ctxMenuStore.showChild && hasChildrenList(ctxMenuStore.selected)) {\r\n            _this29.moveCtxMenu(evnt, keyCode, ctxMenuStore, 'selectChild', 37, false, ctxMenuStore.selected.children);\r\n          } else {\r\n            _this29.moveCtxMenu(evnt, keyCode, ctxMenuStore, 'selected', 39, true, _this29.ctxMenuList);\r\n          }\r\n        } else if (keyboardConfig && mouseConfig && mouseOpts.area && _this29.handleKeyboardEvent) {\r\n          _this29.handleKeyboardEvent(evnt);\r\n        } else if (keyboardConfig && isSpacebar && keyboardOpts.isChecked && selected.row && selected.column && (selected.column.type === 'checkbox' || selected.column.type === 'radio')) {\r\n          // 空格键支持选中复选框\r\n          evnt.preventDefault();\r\n          if (selected.column.type === 'checkbox') {\r\n            _this29.handleToggleCheckRowEvent(evnt, selected.args);\r\n          } else {\r\n            _this29.triggerRadioRowEvent(evnt, selected.args);\r\n          }\r\n        } else if (isF2 && (0, _utils.isEnableConf)(editConfig)) {\r\n          if (!isEditStatus) {\r\n            // 如果按下了 F2 键\r\n            if (selected.row && selected.column) {\r\n              evnt.stopPropagation();\r\n              evnt.preventDefault();\r\n              _this29.handleActived(selected.args, evnt);\r\n            }\r\n          }\r\n        } else if (isContextMenu) {\r\n          // 如果按下上下文键\r\n          _this29._keyCtx = selected.row && selected.column && bodyCtxMenu.length;\r\n          clearTimeout(_this29.keyCtxTimeout);\r\n          _this29.keyCtxTimeout = setTimeout(function () {\r\n            _this29._keyCtx = false;\r\n          }, 1000);\r\n        } else if (isEnter && !hasAltKey && keyboardConfig && keyboardOpts.isEnter && (selected.row || actived.row || treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow)) {\r\n          // 退出选中\r\n          if (hasCtrlKey) {\r\n            // 如果是激活编辑状态，则取消编辑\r\n            if (actived.row) {\r\n              params = actived.args;\r\n              _this29.clearEdit(evnt);\r\n              // 如果配置了选中功能，则为选中状态\r\n              if (mouseConfig && mouseOpts.selected) {\r\n                _this29.$nextTick(function () {\r\n                  return _this29.handleSelected(params, evnt);\r\n                });\r\n              }\r\n            }\r\n          } else {\r\n            // 如果是激活状态，退则出到上一行/下一行\r\n            if (selected.row || actived.row) {\r\n              var targetArgs = selected.row ? selected.args : actived.args;\r\n              if (hasShiftKey) {\r\n                if (keyboardOpts.enterToTab) {\r\n                  _this29.moveTabSelected(targetArgs, hasShiftKey, evnt);\r\n                } else {\r\n                  _this29.moveSelected(targetArgs, isLeftArrow, true, isRightArrow, false, evnt);\r\n                }\r\n              } else {\r\n                if (keyboardOpts.enterToTab) {\r\n                  _this29.moveTabSelected(targetArgs, hasShiftKey, evnt);\r\n                } else {\r\n                  _this29.moveSelected(targetArgs, isLeftArrow, false, isRightArrow, true, evnt);\r\n                }\r\n              }\r\n            } else if (treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow) {\r\n              // 如果是树形表格当前行回车移动到子节点\r\n              var childrens = currentRow[treeOpts.children];\r\n              if (childrens && childrens.length) {\r\n                evnt.preventDefault();\r\n                var targetRow = childrens[0];\r\n                params = {\r\n                  $table: _this29,\r\n                  row: targetRow\r\n                };\r\n                _this29.setTreeExpand(currentRow, true).then(function () {\r\n                  return _this29.scrollToRow(targetRow);\r\n                }).then(function () {\r\n                  return _this29.triggerCurrentRowEvent(evnt, params);\r\n                });\r\n              }\r\n            }\r\n          }\r\n        } else if (operArrow && keyboardConfig && keyboardOpts.isArrow) {\r\n          if (!isEditStatus) {\r\n            // 如果按下了方向键\r\n            if (selected.row && selected.column) {\r\n              _this29.moveSelected(selected.args, isLeftArrow, isUpArrow, isRightArrow, isDwArrow, evnt);\r\n            } else if ((isUpArrow || isDwArrow) && (rowOpts.isCurrent || highlightCurrentRow)) {\r\n              // 当前行按键上下移动\r\n              _this29.moveCurrentRow(isUpArrow, isDwArrow, evnt);\r\n            }\r\n          }\r\n        } else if (isTab && keyboardConfig && keyboardOpts.isTab) {\r\n          // 如果按下了 Tab 键切换\r\n          if (selected.row || selected.column) {\r\n            _this29.moveTabSelected(selected.args, hasShiftKey, evnt);\r\n          } else if (actived.row || actived.column) {\r\n            _this29.moveTabSelected(actived.args, hasShiftKey, evnt);\r\n          }\r\n        } else if (keyboardConfig && (isDel || (treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow ? isBack && keyboardOpts.isArrow : isBack))) {\r\n          if (!isEditStatus) {\r\n            var delMethod = keyboardOpts.delMethod,\r\n              backMethod = keyboardOpts.backMethod;\r\n            // 如果是删除键\r\n            if (keyboardOpts.isDel && (selected.row || selected.column)) {\r\n              if (delMethod) {\r\n                delMethod({\r\n                  row: selected.row,\r\n                  rowIndex: _this29.getRowIndex(selected.row),\r\n                  column: selected.column,\r\n                  columnIndex: _this29.getColumnIndex(selected.column),\r\n                  $table: _this29\r\n                });\r\n              } else {\r\n                setCellValue(selected.row, selected.column, null);\r\n              }\r\n              if (isBack) {\r\n                if (backMethod) {\r\n                  backMethod({\r\n                    row: selected.row,\r\n                    rowIndex: _this29.getRowIndex(selected.row),\r\n                    column: selected.column,\r\n                    columnIndex: _this29.getColumnIndex(selected.column),\r\n                    $table: _this29\r\n                  });\r\n                } else {\r\n                  _this29.handleActived(selected.args, evnt);\r\n                }\r\n              } else if (isDel) {\r\n                // 如果按下 del 键，更新表尾数据\r\n                _this29.updateFooter();\r\n              }\r\n            } else if (isBack && keyboardOpts.isArrow && treeConfig && (rowOpts.isCurrent || highlightCurrentRow) && currentRow) {\r\n              // 如果树形表格回退键关闭当前行返回父节点\r\n              var _XEUtils$findTree = _xeUtils.default.findTree(_this29.afterFullData, function (item) {\r\n                  return item === currentRow;\r\n                }, treeOpts),\r\n                parentRow = _XEUtils$findTree.parent;\r\n              if (parentRow) {\r\n                evnt.preventDefault();\r\n                params = {\r\n                  $table: _this29,\r\n                  row: parentRow\r\n                };\r\n                _this29.setTreeExpand(parentRow, false).then(function () {\r\n                  return _this29.scrollToRow(parentRow);\r\n                }).then(function () {\r\n                  return _this29.triggerCurrentRowEvent(evnt, params);\r\n                });\r\n              }\r\n            }\r\n          }\r\n        } else if (keyboardConfig && keyboardOpts.isEdit && !hasCtrlKey && !hasMetaKey && (isSpacebar || keyCode >= 48 && keyCode <= 57 || keyCode >= 65 && keyCode <= 90 || keyCode >= 96 && keyCode <= 111 || keyCode >= 186 && keyCode <= 192 || keyCode >= 219 && keyCode <= 222)) {\r\n          var editMethod = keyboardOpts.editMethod;\r\n          // 启用编辑后，空格键功能将失效\r\n          // if (isSpacebar) {\r\n          //   evnt.preventDefault()\r\n          // }\r\n          // 如果是按下非功能键之外允许直接编辑\r\n          if (selected.column && selected.row && (0, _utils.isEnableConf)(selected.column.editRender)) {\r\n            var beforeEditMethod = editOpts.beforeEditMethod || editOpts.activeMethod;\r\n            if (!beforeEditMethod || beforeEditMethod(_objectSpread(_objectSpread({}, selected.args), {}, {\r\n              $table: _this29\r\n            }))) {\r\n              if (editMethod) {\r\n                editMethod({\r\n                  row: selected.row,\r\n                  rowIndex: _this29.getRowIndex(selected.row),\r\n                  column: selected.column,\r\n                  columnIndex: _this29.getColumnIndex(selected.column),\r\n                  $table: _this29\r\n                });\r\n              } else {\r\n                setCellValue(selected.row, selected.column, null);\r\n                _this29.handleActived(selected.args, evnt);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        _this29.emitEvent('keydown', {}, evnt);\r\n      });\r\n    }\r\n  },\r\n  handleGlobalPasteEvent: function handleGlobalPasteEvent(evnt) {\r\n    var isActivated = this.isActivated,\r\n      keyboardConfig = this.keyboardConfig,\r\n      keyboardOpts = this.keyboardOpts,\r\n      mouseConfig = this.mouseConfig,\r\n      mouseOpts = this.mouseOpts,\r\n      editStore = this.editStore,\r\n      filterStore = this.filterStore;\r\n    var actived = editStore.actived;\r\n    if (isActivated && !filterStore.visible) {\r\n      if (!(actived.row || actived.column)) {\r\n        if (keyboardConfig && keyboardOpts.isClip && mouseConfig && mouseOpts.area && this.handlePasteCellAreaEvent) {\r\n          this.handlePasteCellAreaEvent(evnt);\r\n        }\r\n      }\r\n      this.emitEvent('paste', {}, evnt);\r\n    }\r\n  },\r\n  handleGlobalCopyEvent: function handleGlobalCopyEvent(evnt) {\r\n    var isActivated = this.isActivated,\r\n      keyboardConfig = this.keyboardConfig,\r\n      keyboardOpts = this.keyboardOpts,\r\n      mouseConfig = this.mouseConfig,\r\n      mouseOpts = this.mouseOpts,\r\n      editStore = this.editStore,\r\n      filterStore = this.filterStore;\r\n    var actived = editStore.actived;\r\n    if (isActivated && !filterStore.visible) {\r\n      if (!(actived.row || actived.column)) {\r\n        if (keyboardConfig && keyboardOpts.isClip && mouseConfig && mouseOpts.area && this.handleCopyCellAreaEvent) {\r\n          this.handleCopyCellAreaEvent(evnt);\r\n        }\r\n      }\r\n      this.emitEvent('copy', {}, evnt);\r\n    }\r\n  },\r\n  handleGlobalCutEvent: function handleGlobalCutEvent(evnt) {\r\n    var isActivated = this.isActivated,\r\n      keyboardConfig = this.keyboardConfig,\r\n      keyboardOpts = this.keyboardOpts,\r\n      mouseConfig = this.mouseConfig,\r\n      mouseOpts = this.mouseOpts,\r\n      editStore = this.editStore,\r\n      filterStore = this.filterStore;\r\n    var actived = editStore.actived;\r\n    if (isActivated && !filterStore.visible) {\r\n      if (!(actived.row || actived.column)) {\r\n        if (keyboardConfig && keyboardOpts.isClip && mouseConfig && mouseOpts.area && this.handleCutCellAreaEvent) {\r\n          this.handleCutCellAreaEvent(evnt);\r\n        }\r\n      }\r\n      this.emitEvent('cut', {}, evnt);\r\n    }\r\n  },\r\n  handleGlobalResizeEvent: function handleGlobalResizeEvent() {\r\n    this.closeMenu();\r\n    this.updateCellAreas();\r\n    this.recalculate(true);\r\n  },\r\n  handleTargetEnterEvent: function handleTargetEnterEvent(isClear) {\r\n    var $tooltip = this.$refs.tooltip;\r\n    clearTimeout(this.tooltipTimeout);\r\n    if (isClear) {\r\n      this.closeTooltip();\r\n    } else {\r\n      if ($tooltip) {\r\n        $tooltip.setActived(true);\r\n      }\r\n    }\r\n  },\r\n  handleTargetLeaveEvent: function handleTargetLeaveEvent() {\r\n    var _this30 = this;\r\n    var tooltipOpts = this.tooltipOpts;\r\n    var $tooltip = this.$refs.tooltip;\r\n    if ($tooltip) {\r\n      $tooltip.setActived(false);\r\n    }\r\n    if (tooltipOpts.enterable) {\r\n      this.tooltipTimeout = setTimeout(function () {\r\n        $tooltip = _this30.$refs.tooltip;\r\n        if ($tooltip && !$tooltip.isActived()) {\r\n          _this30.closeTooltip();\r\n        }\r\n      }, tooltipOpts.leaveDelay);\r\n    } else {\r\n      this.closeTooltip();\r\n    }\r\n  },\r\n  triggerHeaderHelpEvent: function triggerHeaderHelpEvent(evnt, params) {\r\n    var column = params.column;\r\n    var titlePrefix = column.titlePrefix || column.titleHelp;\r\n    if (titlePrefix.content || titlePrefix.message) {\r\n      var $refs = this.$refs,\r\n        tooltipStore = this.tooltipStore;\r\n      var content = (0, _utils.getFuncText)(titlePrefix.content || titlePrefix.message);\r\n      this.handleTargetEnterEvent(true);\r\n      tooltipStore.visible = true;\r\n      tooltipStore.currOpts = _objectSpread(_objectSpread({}, titlePrefix), {}, {\r\n        content: null\r\n      });\r\n      this.$nextTick(function () {\r\n        var $tooltip = $refs.tooltip;\r\n        if ($tooltip) {\r\n          $tooltip.open(evnt.currentTarget, content);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  /**\r\n   * 触发表头 tooltip 事件\r\n   */\r\n  triggerHeaderTooltipEvent: function triggerHeaderTooltipEvent(evnt, params) {\r\n    var tooltipStore = this.tooltipStore;\r\n    var column = params.column;\r\n    var titleElem = evnt.currentTarget;\r\n    this.handleTargetEnterEvent(tooltipStore.column !== column || tooltipStore.row);\r\n    if (tooltipStore.column !== column || !tooltipStore.visible) {\r\n      this.handleTooltip(evnt, titleElem, titleElem, null, params);\r\n    }\r\n  },\r\n  /**\r\n   * 触发单元格 tooltip 事件\r\n   */\r\n  triggerBodyTooltipEvent: function triggerBodyTooltipEvent(evnt, params) {\r\n    var editConfig = this.editConfig,\r\n      editOpts = this.editOpts,\r\n      editStore = this.editStore,\r\n      tooltipStore = this.tooltipStore;\r\n    var actived = editStore.actived;\r\n    var row = params.row,\r\n      column = params.column;\r\n    var cell = evnt.currentTarget;\r\n    this.handleTargetEnterEvent(tooltipStore.column !== column || tooltipStore.row !== row);\r\n    if ((0, _utils.isEnableConf)(editConfig)) {\r\n      if (editOpts.mode === 'row' && actived.row === row || actived.row === row && actived.column === column) {\r\n        return;\r\n      }\r\n    }\r\n    if (tooltipStore.column !== column || tooltipStore.row !== row || !tooltipStore.visible) {\r\n      var overflowElem;\r\n      var tipElem;\r\n      if (column.treeNode) {\r\n        overflowElem = cell.querySelector('.vxe-tree-cell');\r\n        if (column.type === 'html') {\r\n          tipElem = cell.querySelector('.vxe-cell--html');\r\n        }\r\n      } else {\r\n        tipElem = cell.querySelector(column.type === 'html' ? '.vxe-cell--html' : '.vxe-cell--label');\r\n      }\r\n      this.handleTooltip(evnt, cell, overflowElem || cell.children[0], tipElem, params);\r\n    }\r\n  },\r\n  /**\r\n   * 触发表尾 tooltip 事件\r\n   */\r\n  triggerFooterTooltipEvent: function triggerFooterTooltipEvent(evnt, params) {\r\n    var column = params.column;\r\n    var tooltipStore = this.tooltipStore;\r\n    var cell = evnt.currentTarget;\r\n    this.handleTargetEnterEvent(true);\r\n    if (tooltipStore.column !== column || !tooltipStore.visible) {\r\n      this.handleTooltip(evnt, cell, cell.querySelector('.vxe-cell--item') || cell.children[0], null, params);\r\n    }\r\n  },\r\n  /**\r\n   * 处理显示 tooltip\r\n   * @param {Event} evnt 事件\r\n   * @param {ColumnInfo} column 列配置\r\n   * @param {Row} row 行对象\r\n   */\r\n  handleTooltip: function handleTooltip(evnt, cell, overflowElem, tipElem, params) {\r\n    params.cell = cell;\r\n    var $refs = this.$refs,\r\n      tooltipOpts = this.tooltipOpts,\r\n      tooltipStore = this.tooltipStore;\r\n    var column = params.column,\r\n      row = params.row;\r\n    var showAll = tooltipOpts.showAll,\r\n      enabled = tooltipOpts.enabled,\r\n      contentMethod = tooltipOpts.contentMethod;\r\n    var customContent = contentMethod ? contentMethod(params) : null;\r\n    var useCustom = contentMethod && !_xeUtils.default.eqNull(customContent);\r\n    var content = useCustom ? customContent : (column.type === 'html' ? overflowElem.innerText : overflowElem.textContent).trim();\r\n    var isCellOverflow = overflowElem.scrollWidth > overflowElem.clientWidth;\r\n    if (content && (showAll || enabled || useCustom || isCellOverflow)) {\r\n      Object.assign(tooltipStore, {\r\n        row: row,\r\n        column: column,\r\n        visible: true,\r\n        currOpts: null\r\n      });\r\n      this.$nextTick(function () {\r\n        var $tooltip = $refs.tooltip;\r\n        if ($tooltip) {\r\n          $tooltip.open(isCellOverflow ? overflowElem : tipElem || overflowElem, _utils.default.formatText(content));\r\n        }\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  openTooltip: function openTooltip(target, content) {\r\n    var $refs = this.$refs;\r\n    var commTip = $refs.commTip;\r\n    if (commTip) {\r\n      return commTip.open(target, content);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 关闭 tooltip\r\n   */\r\n  closeTooltip: function closeTooltip() {\r\n    var $refs = this.$refs,\r\n      tooltipStore = this.tooltipStore;\r\n    var tooltip = $refs.tooltip;\r\n    var commTip = $refs.commTip;\r\n    if (tooltipStore.visible) {\r\n      Object.assign(tooltipStore, {\r\n        row: null,\r\n        column: null,\r\n        content: null,\r\n        visible: false,\r\n        currOpts: null\r\n      });\r\n      if (tooltip) {\r\n        tooltip.close();\r\n      }\r\n    }\r\n    if (commTip) {\r\n      commTip.close();\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 判断列头复选框是否被选中\r\n   */\r\n  isAllCheckboxChecked: function isAllCheckboxChecked() {\r\n    return this.isAllSelected;\r\n  },\r\n  /**\r\n   * 判断列头复选框是否被半选\r\n   */\r\n  isAllCheckboxIndeterminate: function isAllCheckboxIndeterminate() {\r\n    return !this.isAllSelected && this.isIndeterminate;\r\n  },\r\n  isCheckboxIndeterminate: function isCheckboxIndeterminate() {\r\n    (0, _log.warnLog)('vxe.error.delFunc', ['isCheckboxIndeterminate', 'isAllCheckboxIndeterminate']);\r\n    return this.isAllCheckboxIndeterminate();\r\n  },\r\n  /**\r\n   * 获取复选框半选状态的行数据\r\n   */\r\n  getCheckboxIndeterminateRecords: function getCheckboxIndeterminateRecords(isFull) {\r\n    var _this31 = this;\r\n    var treeConfig = this.treeConfig,\r\n      treeIndeterminates = this.treeIndeterminates,\r\n      afterFullData = this.afterFullData;\r\n    if (treeConfig) {\r\n      return isFull ? treeIndeterminates.slice(0) : treeIndeterminates.filter(function (row) {\r\n        return _this31.findRowIndexOf(afterFullData, row) > -1;\r\n      });\r\n    }\r\n    return [];\r\n  },\r\n  /**\r\n   * 处理默认勾选\r\n   */\r\n  handleDefaultSelectionChecked: function handleDefaultSelectionChecked() {\r\n    var fullDataRowIdData = this.fullDataRowIdData,\r\n      checkboxOpts = this.checkboxOpts;\r\n    var checkAll = checkboxOpts.checkAll,\r\n      checkRowKeys = checkboxOpts.checkRowKeys;\r\n    if (checkAll) {\r\n      this.setAllCheckboxRow(true);\r\n    } else if (checkRowKeys) {\r\n      var defSelection = [];\r\n      checkRowKeys.forEach(function (rowid) {\r\n        if (fullDataRowIdData[rowid]) {\r\n          defSelection.push(fullDataRowIdData[rowid].row);\r\n        }\r\n      });\r\n      this.setCheckboxRow(defSelection, true);\r\n    }\r\n  },\r\n  /**\r\n   * 用于多选行，设置行为选中状态，第二个参数为选中与否\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {Boolean} value 是否选中\r\n   */\r\n  setCheckboxRow: function setCheckboxRow(rows, value) {\r\n    var _this32 = this;\r\n    if (rows && !_xeUtils.default.isArray(rows)) {\r\n      rows = [rows];\r\n    }\r\n    rows.forEach(function (row) {\r\n      return _this32.handleSelectRow({\r\n        row: row\r\n      }, !!value);\r\n    });\r\n    return this.$nextTick();\r\n  },\r\n  isCheckedByCheckboxRow: function isCheckedByCheckboxRow(row) {\r\n    var selection = this.selection;\r\n    var checkField = this.checkboxOpts.checkField;\r\n    if (checkField) {\r\n      return _xeUtils.default.get(row, checkField);\r\n    }\r\n    return this.findRowIndexOf(selection, row) > -1;\r\n  },\r\n  isIndeterminateByCheckboxRow: function isIndeterminateByCheckboxRow(row) {\r\n    var treeIndeterminates = this.treeIndeterminates;\r\n    return this.findRowIndexOf(treeIndeterminates, row) > -1 && !this.isCheckedByCheckboxRow(row);\r\n  },\r\n  /**\r\n   * 多选，行选中事件\r\n   * value 选中true 不选false 半选-1\r\n   */\r\n  handleSelectRow: function handleSelectRow(_ref6, value) {\r\n    var _this33 = this;\r\n    var row = _ref6.row;\r\n    var selection = this.selection,\r\n      afterFullData = this.afterFullData,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      treeIndeterminates = this.treeIndeterminates,\r\n      checkboxOpts = this.checkboxOpts;\r\n    var checkField = checkboxOpts.checkField,\r\n      checkStrictly = checkboxOpts.checkStrictly,\r\n      checkMethod = checkboxOpts.checkMethod;\r\n    if (checkField) {\r\n      if (treeConfig && !checkStrictly) {\r\n        if (value === -1) {\r\n          if (this.findRowIndexOf(treeIndeterminates, row) === -1) {\r\n            treeIndeterminates.push(row);\r\n          }\r\n          _xeUtils.default.set(row, checkField, false);\r\n        } else {\r\n          // 更新子节点状态\r\n          _xeUtils.default.eachTree([row], function (item) {\r\n            if (_this33.eqRow(item, row) || !checkMethod || checkMethod({\r\n              row: item\r\n            })) {\r\n              _xeUtils.default.set(item, checkField, value);\r\n              _xeUtils.default.remove(treeIndeterminates, function (half) {\r\n                return _this33.eqRow(half, item);\r\n              });\r\n              _this33.handleCheckboxReserveRow(row, value);\r\n            }\r\n          }, treeOpts);\r\n        }\r\n        // 如果存在父节点，更新父节点状态\r\n        var matchObj = _xeUtils.default.findTree(afterFullData, function (item) {\r\n          return _this33.eqRow(item, row);\r\n        }, treeOpts);\r\n        if (matchObj && matchObj.parent) {\r\n          var parentStatus;\r\n          var vItems = checkMethod ? matchObj.items.filter(function (item) {\r\n            return checkMethod({\r\n              row: item\r\n            });\r\n          }) : matchObj.items;\r\n          var indeterminatesItem = _xeUtils.default.find(matchObj.items, function (item) {\r\n            return _this33.findRowIndexOf(treeIndeterminates, item) > -1;\r\n          });\r\n          if (indeterminatesItem) {\r\n            parentStatus = -1;\r\n          } else {\r\n            var selectItems = matchObj.items.filter(function (item) {\r\n              return _xeUtils.default.get(item, checkField);\r\n            });\r\n            parentStatus = selectItems.filter(function (item) {\r\n              return _this33.findRowIndexOf(vItems, item) > -1;\r\n            }).length === vItems.length ? true : selectItems.length || value === -1 ? -1 : false;\r\n          }\r\n          return this.handleSelectRow({\r\n            row: matchObj.parent\r\n          }, parentStatus);\r\n        }\r\n      } else {\r\n        if (!checkMethod || checkMethod({\r\n          row: row\r\n        })) {\r\n          _xeUtils.default.set(row, checkField, value);\r\n          this.handleCheckboxReserveRow(row, value);\r\n        }\r\n      }\r\n    } else {\r\n      if (treeConfig && !checkStrictly) {\r\n        if (value === -1) {\r\n          if (this.findRowIndexOf(treeIndeterminates, row) === -1) {\r\n            treeIndeterminates.push(row);\r\n          }\r\n          _xeUtils.default.remove(selection, function (item) {\r\n            return _this33.eqRow(item, row);\r\n          });\r\n        } else {\r\n          // 更新子节点状态\r\n          _xeUtils.default.eachTree([row], function (item) {\r\n            if (_this33.eqRow(item, row) || !checkMethod || checkMethod({\r\n              row: item\r\n            })) {\r\n              if (value) {\r\n                selection.push(item);\r\n              } else {\r\n                _xeUtils.default.remove(selection, function (select) {\r\n                  return _this33.eqRow(select, item);\r\n                });\r\n              }\r\n              _xeUtils.default.remove(treeIndeterminates, function (half) {\r\n                return _this33.eqRow(half, item);\r\n              });\r\n              _this33.handleCheckboxReserveRow(row, value);\r\n            }\r\n          }, treeOpts);\r\n        }\r\n        // 如果存在父节点，更新父节点状态\r\n        var _matchObj = _xeUtils.default.findTree(afterFullData, function (item) {\r\n          return _this33.eqRow(item, row);\r\n        }, treeOpts);\r\n        if (_matchObj && _matchObj.parent) {\r\n          var _parentStatus;\r\n          var _vItems = checkMethod ? _matchObj.items.filter(function (item) {\r\n            return checkMethod({\r\n              row: item\r\n            });\r\n          }) : _matchObj.items;\r\n          var _indeterminatesItem = _xeUtils.default.find(_matchObj.items, function (item) {\r\n            return _this33.findRowIndexOf(treeIndeterminates, item) > -1;\r\n          });\r\n          if (_indeterminatesItem) {\r\n            _parentStatus = -1;\r\n          } else {\r\n            var _selectItems = _matchObj.items.filter(function (item) {\r\n              return _this33.findRowIndexOf(selection, item) > -1;\r\n            });\r\n            _parentStatus = _selectItems.filter(function (item) {\r\n              return _this33.findRowIndexOf(_vItems, item) > -1;\r\n            }).length === _vItems.length ? true : _selectItems.length || value === -1 ? -1 : false;\r\n          }\r\n          return this.handleSelectRow({\r\n            row: _matchObj.parent\r\n          }, _parentStatus);\r\n        }\r\n      } else {\r\n        if (!checkMethod || checkMethod({\r\n          row: row\r\n        })) {\r\n          if (value) {\r\n            if (this.findRowIndexOf(selection, row) === -1) {\r\n              selection.push(row);\r\n            }\r\n          } else {\r\n            _xeUtils.default.remove(selection, function (item) {\r\n              return _this33.eqRow(item, row);\r\n            });\r\n          }\r\n          this.handleCheckboxReserveRow(row, value);\r\n        }\r\n      }\r\n    }\r\n    this.checkSelectionStatus();\r\n  },\r\n  handleToggleCheckRowEvent: function handleToggleCheckRowEvent(evnt, params) {\r\n    var selection = this.selection,\r\n      checkboxOpts = this.checkboxOpts;\r\n    var checkField = checkboxOpts.checkField;\r\n    var row = params.row;\r\n    var value = checkField ? !_xeUtils.default.get(row, checkField) : this.findRowIndexOf(selection, row) === -1;\r\n    if (evnt) {\r\n      this.triggerCheckRowEvent(evnt, params, value);\r\n    } else {\r\n      this.handleSelectRow(params, value);\r\n    }\r\n  },\r\n  triggerCheckRowEvent: function triggerCheckRowEvent(evnt, params, value) {\r\n    var checkMethod = this.checkboxOpts.checkMethod;\r\n    if (!checkMethod || checkMethod({\r\n      row: params.row\r\n    })) {\r\n      this.handleSelectRow(params, value);\r\n      this.emitEvent('checkbox-change', Object.assign({\r\n        records: this.getCheckboxRecords(),\r\n        reserves: this.getCheckboxReserveRecords(),\r\n        indeterminates: this.getCheckboxIndeterminateRecords(),\r\n        checked: value\r\n      }, params), evnt);\r\n    }\r\n  },\r\n  /**\r\n   * 多选，切换某一行的选中状态\r\n   */\r\n  toggleCheckboxRow: function toggleCheckboxRow(row) {\r\n    this.handleToggleCheckRowEvent(null, {\r\n      row: row\r\n    });\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 用于多选行，设置所有行的选中状态\r\n   * @param {Boolean} value 是否选中\r\n   */\r\n  setAllCheckboxRow: function setAllCheckboxRow(value) {\r\n    var _this34 = this;\r\n    var afterFullData = this.afterFullData,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      selection = this.selection,\r\n      checkboxReserveRowMap = this.checkboxReserveRowMap,\r\n      checkboxOpts = this.checkboxOpts;\r\n    var checkField = checkboxOpts.checkField,\r\n      reserve = checkboxOpts.reserve,\r\n      checkStrictly = checkboxOpts.checkStrictly,\r\n      checkMethod = checkboxOpts.checkMethod;\r\n    var selectRows = [];\r\n    var beforeSelection = treeConfig ? [] : selection.filter(function (row) {\r\n      return _this34.findRowIndexOf(afterFullData, row) === -1;\r\n    });\r\n    if (checkStrictly) {\r\n      this.isAllSelected = value;\r\n    } else {\r\n      /**\r\n       * 绑定属性方式（高性能，有污染）\r\n       * 必须在行数据存在对应的属性，否则将不响应\r\n       */\r\n      if (checkField) {\r\n        var checkValFn = function checkValFn(row) {\r\n          if (!checkMethod || checkMethod({\r\n            row: row\r\n          })) {\r\n            if (value) {\r\n              selectRows.push(row);\r\n            }\r\n            _xeUtils.default.set(row, checkField, value);\r\n          }\r\n        };\r\n        // 如果存在选中方法\r\n        // 如果方法成立，则更新值，否则忽略该数据\r\n        if (treeConfig) {\r\n          _xeUtils.default.eachTree(afterFullData, checkValFn, treeOpts);\r\n        } else {\r\n          afterFullData.forEach(checkValFn);\r\n        }\r\n      } else {\r\n        /**\r\n         * 默认方式（低性能，无污染）\r\n         * 无需任何属性，直接绑定\r\n         */\r\n        if (treeConfig) {\r\n          if (value) {\r\n            /**\r\n             * 如果是树勾选\r\n             * 如果方法成立，则添加到临时集合中\r\n             */\r\n            _xeUtils.default.eachTree(afterFullData, function (row) {\r\n              if (!checkMethod || checkMethod({\r\n                row: row\r\n              })) {\r\n                selectRows.push(row);\r\n              }\r\n            }, treeOpts);\r\n          } else {\r\n            /**\r\n             * 如果是树取消\r\n             * 如果方法成立，则不添加到临时集合中\r\n             */\r\n            if (checkMethod) {\r\n              _xeUtils.default.eachTree(afterFullData, function (row) {\r\n                if (checkMethod({\r\n                  row: row\r\n                }) ? 0 : _this34.findRowIndexOf(selection, row) > -1) {\r\n                  selectRows.push(row);\r\n                }\r\n              }, treeOpts);\r\n            }\r\n          }\r\n        } else {\r\n          if (value) {\r\n            /**\r\n             * 如果是行勾选\r\n             * 如果存在选中方法且成立或者本身已勾选，则添加到临时集合中\r\n             * 如果不存在选中方法，则添加所有数据到临时集合中\r\n             */\r\n            if (checkMethod) {\r\n              selectRows = afterFullData.filter(function (row) {\r\n                return _this34.findRowIndexOf(selection, row) > -1 || checkMethod({\r\n                  row: row\r\n                });\r\n              });\r\n            } else {\r\n              selectRows = afterFullData.slice(0);\r\n            }\r\n          } else {\r\n            /**\r\n             * 如果是行取消\r\n             * 如果方法成立，则不添加到临时集合中；如果方法不成立则判断当前是否已勾选，如果已被勾选则添加到新集合中\r\n             * 如果不存在选中方法，无需处理，临时集合默认为空\r\n             */\r\n            if (checkMethod) {\r\n              selectRows = afterFullData.filter(function (row) {\r\n                return checkMethod({\r\n                  row: row\r\n                }) ? 0 : _this34.findRowIndexOf(selection, row) > -1;\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (reserve) {\r\n        if (value) {\r\n          selectRows.forEach(function (row) {\r\n            checkboxReserveRowMap[(0, _util.getRowid)(_this34, row)] = row;\r\n          });\r\n        } else {\r\n          afterFullData.forEach(function (row) {\r\n            return _this34.handleCheckboxReserveRow(row, false);\r\n          });\r\n        }\r\n      }\r\n      this.selection = checkField ? [] : beforeSelection.concat(selectRows);\r\n    }\r\n    this.treeIndeterminates = [];\r\n    this.checkSelectionStatus();\r\n  },\r\n  checkSelectionStatus: function checkSelectionStatus() {\r\n    var _this35 = this;\r\n    var afterFullData = this.afterFullData,\r\n      selection = this.selection,\r\n      treeIndeterminates = this.treeIndeterminates,\r\n      checkboxOpts = this.checkboxOpts,\r\n      treeConfig = this.treeConfig;\r\n    var checkField = checkboxOpts.checkField,\r\n      halfField = checkboxOpts.halfField,\r\n      checkStrictly = checkboxOpts.checkStrictly,\r\n      checkMethod = checkboxOpts.checkMethod;\r\n    if (!checkStrictly) {\r\n      var disableRows = [];\r\n      var checkRows = [];\r\n      var isAllResolve = false;\r\n      var isAllSelected = false;\r\n      var isIndeterminate = false;\r\n      if (checkField) {\r\n        isAllResolve = afterFullData.every(checkMethod ? function (row) {\r\n          if (!checkMethod({\r\n            row: row\r\n          })) {\r\n            disableRows.push(row);\r\n            return true;\r\n          }\r\n          if (_xeUtils.default.get(row, checkField)) {\r\n            checkRows.push(row);\r\n            return true;\r\n          }\r\n          return false;\r\n        } : function (row) {\r\n          return _xeUtils.default.get(row, checkField);\r\n        });\r\n        isAllSelected = isAllResolve && afterFullData.length !== disableRows.length;\r\n        if (treeConfig) {\r\n          if (halfField) {\r\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\r\n              return _xeUtils.default.get(row, checkField) || _xeUtils.default.get(row, halfField) || _this35.findRowIndexOf(treeIndeterminates, row) > -1;\r\n            });\r\n          } else {\r\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\r\n              return _xeUtils.default.get(row, checkField) || _this35.findRowIndexOf(treeIndeterminates, row) > -1;\r\n            });\r\n          }\r\n        } else {\r\n          if (halfField) {\r\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\r\n              return _xeUtils.default.get(row, checkField) || _xeUtils.default.get(row, halfField);\r\n            });\r\n          } else {\r\n            isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\r\n              return _xeUtils.default.get(row, checkField);\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        isAllResolve = afterFullData.every(checkMethod ? function (row) {\r\n          if (!checkMethod({\r\n            row: row\r\n          })) {\r\n            disableRows.push(row);\r\n            return true;\r\n          }\r\n          if (_this35.findRowIndexOf(selection, row) > -1) {\r\n            checkRows.push(row);\r\n            return true;\r\n          }\r\n          return false;\r\n        } : function (row) {\r\n          return _this35.findRowIndexOf(selection, row) > -1;\r\n        });\r\n        isAllSelected = isAllResolve && afterFullData.length !== disableRows.length;\r\n        if (treeConfig) {\r\n          isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\r\n            return _this35.findRowIndexOf(treeIndeterminates, row) > -1 || _this35.findRowIndexOf(selection, row) > -1;\r\n          });\r\n        } else {\r\n          isIndeterminate = !isAllSelected && afterFullData.some(function (row) {\r\n            return _this35.findRowIndexOf(selection, row) > -1;\r\n          });\r\n        }\r\n      }\r\n      this.isAllSelected = isAllSelected;\r\n      this.isIndeterminate = isIndeterminate;\r\n    }\r\n  },\r\n  // 还原展开、选中等相关状态\r\n  handleReserveStatus: function handleReserveStatus() {\r\n    var expandColumn = this.expandColumn,\r\n      treeOpts = this.treeOpts,\r\n      treeConfig = this.treeConfig,\r\n      fullDataRowIdData = this.fullDataRowIdData,\r\n      fullAllDataRowMap = this.fullAllDataRowMap,\r\n      currentRow = this.currentRow,\r\n      selectRow = this.selectRow,\r\n      radioReserveRow = this.radioReserveRow,\r\n      radioOpts = this.radioOpts,\r\n      checkboxOpts = this.checkboxOpts,\r\n      selection = this.selection,\r\n      rowExpandeds = this.rowExpandeds,\r\n      treeExpandeds = this.treeExpandeds,\r\n      expandOpts = this.expandOpts;\r\n    // 单选框\r\n    if (selectRow && !fullAllDataRowMap.has(selectRow)) {\r\n      this.selectRow = null; // 刷新单选行状态\r\n    }\r\n    // 还原保留选中状态\r\n    if (radioOpts.reserve && radioReserveRow) {\r\n      var rowid = (0, _util.getRowid)(this, radioReserveRow);\r\n      if (fullDataRowIdData[rowid]) {\r\n        this.setRadioRow(fullDataRowIdData[rowid].row);\r\n      }\r\n    }\r\n    // 复选框\r\n    this.selection = getRecoverRow(this, selection); // 刷新多选行状态\r\n    // 还原保留选中状态\r\n    if (checkboxOpts.reserve) {\r\n      this.setCheckboxRow(handleReserveRow(this, this.checkboxReserveRowMap), true);\r\n    }\r\n    if (currentRow && !fullAllDataRowMap.has(currentRow)) {\r\n      this.currentRow = null; // 刷新当前行状态\r\n    }\r\n    // 行展开\r\n    this.rowExpandeds = expandColumn ? getRecoverRow(this, rowExpandeds) : []; // 刷新行展开状态\r\n    // 还原保留状态\r\n    if (expandColumn && expandOpts.reserve) {\r\n      this.setRowExpand(handleReserveRow(this, this.rowExpandedReserveRowMap), true);\r\n    }\r\n    // 树展开\r\n    this.treeExpandeds = treeConfig ? getRecoverRow(this, treeExpandeds) : []; // 刷新树展开状态\r\n    if (treeConfig && treeOpts.reserve) {\r\n      this.setTreeExpand(handleReserveRow(this, this.treeExpandedReserveRowMap), true);\r\n    }\r\n  },\r\n  /**\r\n   * 获取单选框保留选中的行\r\n   */\r\n  getRadioReserveRecord: function getRadioReserveRecord(isFull) {\r\n    var fullDataRowIdData = this.fullDataRowIdData,\r\n      radioReserveRow = this.radioReserveRow,\r\n      radioOpts = this.radioOpts,\r\n      afterFullData = this.afterFullData,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts;\r\n    if (radioOpts.reserve && radioReserveRow) {\r\n      var rowid = (0, _util.getRowid)(this, radioReserveRow);\r\n      if (isFull) {\r\n        if (!fullDataRowIdData[rowid]) {\r\n          return radioReserveRow;\r\n        }\r\n      } else {\r\n        var rowkey = (0, _util.getRowkey)(this);\r\n        if (treeConfig) {\r\n          var matchObj = _xeUtils.default.findTree(afterFullData, function (row) {\r\n            return rowid === _xeUtils.default.get(row, rowkey);\r\n          }, treeOpts);\r\n          if (matchObj) {\r\n            return radioReserveRow;\r\n          }\r\n        } else {\r\n          if (!afterFullData.some(function (row) {\r\n            return rowid === _xeUtils.default.get(row, rowkey);\r\n          })) {\r\n            return radioReserveRow;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n  clearRadioReserve: function clearRadioReserve() {\r\n    this.radioReserveRow = null;\r\n    return this.$nextTick();\r\n  },\r\n  handleRadioReserveRow: function handleRadioReserveRow(row) {\r\n    var radioOpts = this.radioOpts;\r\n    if (radioOpts.reserve) {\r\n      this.radioReserveRow = row;\r\n    }\r\n  },\r\n  /**\r\n   * 获取复选框保留选中的行\r\n   */\r\n  getCheckboxReserveRecords: function getCheckboxReserveRecords(isFull) {\r\n    var _this36 = this;\r\n    var fullDataRowIdData = this.fullDataRowIdData,\r\n      afterFullData = this.afterFullData,\r\n      checkboxReserveRowMap = this.checkboxReserveRowMap,\r\n      checkboxOpts = this.checkboxOpts,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts;\r\n    var reserveSelection = [];\r\n    if (checkboxOpts.reserve) {\r\n      var afterFullIdMaps = {};\r\n      if (treeConfig) {\r\n        _xeUtils.default.eachTree(afterFullData, function (row) {\r\n          afterFullIdMaps[(0, _util.getRowid)(_this36, row)] = 1;\r\n        }, treeOpts);\r\n      } else {\r\n        afterFullData.forEach(function (row) {\r\n          afterFullIdMaps[(0, _util.getRowid)(_this36, row)] = 1;\r\n        });\r\n      }\r\n      _xeUtils.default.each(checkboxReserveRowMap, function (oldRow, oldRowid) {\r\n        if (oldRow) {\r\n          if (isFull) {\r\n            if (!fullDataRowIdData[oldRowid]) {\r\n              reserveSelection.push(oldRow);\r\n            }\r\n          } else {\r\n            if (!afterFullIdMaps[oldRowid]) {\r\n              reserveSelection.push(oldRow);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return reserveSelection;\r\n  },\r\n  clearCheckboxReserve: function clearCheckboxReserve() {\r\n    this.checkboxReserveRowMap = {};\r\n    return this.$nextTick();\r\n  },\r\n  handleCheckboxReserveRow: function handleCheckboxReserveRow(row, checked) {\r\n    var checkboxReserveRowMap = this.checkboxReserveRowMap,\r\n      checkboxOpts = this.checkboxOpts;\r\n    if (checkboxOpts.reserve) {\r\n      var rowid = (0, _util.getRowid)(this, row);\r\n      if (checked) {\r\n        checkboxReserveRowMap[rowid] = row;\r\n      } else if (checkboxReserveRowMap[rowid]) {\r\n        delete checkboxReserveRowMap[rowid];\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * 多选，选中所有事件\r\n   */\r\n  triggerCheckAllEvent: function triggerCheckAllEvent(evnt, value) {\r\n    this.setAllCheckboxRow(value);\r\n    this.emitEvent('checkbox-all', {\r\n      records: this.getCheckboxRecords(),\r\n      reserves: this.getCheckboxReserveRecords(),\r\n      indeterminates: this.getCheckboxIndeterminateRecords(),\r\n      checked: value\r\n    }, evnt);\r\n  },\r\n  /**\r\n   * 多选，切换所有行的选中状态\r\n   */\r\n  toggleAllCheckboxRow: function toggleAllCheckboxRow() {\r\n    this.triggerCheckAllEvent(null, !this.isAllSelected);\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 用于多选行，手动清空用户的选择\r\n   * 清空行为不管是否被禁用还是保留记录，都将彻底清空选中状态\r\n   */\r\n  clearCheckboxRow: function clearCheckboxRow() {\r\n    var _this37 = this;\r\n    var tableFullData = this.tableFullData,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      checkboxOpts = this.checkboxOpts;\r\n    var checkField = checkboxOpts.checkField,\r\n      reserve = checkboxOpts.reserve;\r\n    if (checkField) {\r\n      if (treeConfig) {\r\n        _xeUtils.default.eachTree(tableFullData, function (item) {\r\n          return _xeUtils.default.set(item, checkField, false);\r\n        }, treeOpts);\r\n      } else {\r\n        tableFullData.forEach(function (item) {\r\n          return _xeUtils.default.set(item, checkField, false);\r\n        });\r\n      }\r\n    }\r\n    if (reserve) {\r\n      tableFullData.forEach(function (row) {\r\n        return _this37.handleCheckboxReserveRow(row, false);\r\n      });\r\n    }\r\n    this.isAllSelected = false;\r\n    this.isIndeterminate = false;\r\n    this.selection = [];\r\n    this.treeIndeterminates = [];\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 处理单选框默认勾选\r\n   */\r\n  handleDefaultRadioChecked: function handleDefaultRadioChecked() {\r\n    var radioOpts = this.radioOpts,\r\n      fullDataRowIdData = this.fullDataRowIdData;\r\n    var rowid = radioOpts.checkRowKey,\r\n      reserve = radioOpts.reserve;\r\n    if (rowid) {\r\n      if (fullDataRowIdData[rowid]) {\r\n        this.setRadioRow(fullDataRowIdData[rowid].row);\r\n      }\r\n      if (reserve) {\r\n        var rowkey = (0, _util.getRowkey)(this);\r\n        this.radioReserveRow = _defineProperty({}, rowkey, rowid);\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * 单选，行选中事件\r\n   */\r\n  triggerRadioRowEvent: function triggerRadioRowEvent(evnt, params) {\r\n    var oldValue = this.selectRow,\r\n      radioOpts = this.radioOpts;\r\n    var row = params.row;\r\n    var newValue = row;\r\n    var isChange = oldValue !== newValue;\r\n    if (isChange) {\r\n      this.setRadioRow(newValue);\r\n    } else if (!radioOpts.strict) {\r\n      isChange = oldValue === newValue;\r\n      if (isChange) {\r\n        newValue = null;\r\n        this.clearRadioRow();\r\n      }\r\n    }\r\n    if (isChange) {\r\n      this.emitEvent('radio-change', _objectSpread({\r\n        oldValue: oldValue,\r\n        newValue: newValue\r\n      }, params), evnt);\r\n    }\r\n  },\r\n  triggerCurrentRowEvent: function triggerCurrentRowEvent(evnt, params) {\r\n    var oldValue = this.currentRow;\r\n    var newValue = params.row;\r\n    var isChange = oldValue !== newValue;\r\n    this.setCurrentRow(newValue);\r\n    if (isChange) {\r\n      this.emitEvent('current-change', _objectSpread({\r\n        oldValue: oldValue,\r\n        newValue: newValue\r\n      }, params), evnt);\r\n    }\r\n  },\r\n  /**\r\n   * 用于当前行，设置某一行为高亮状态\r\n   * @param {Row} row 行对象\r\n   */\r\n  setCurrentRow: function setCurrentRow(row) {\r\n    var $el = this.$el,\r\n      rowOpts = this.rowOpts;\r\n    this.clearCurrentRow();\r\n    this.clearCurrentColumn();\r\n    this.currentRow = row;\r\n    if (rowOpts.isCurrent || this.highlightCurrentRow) {\r\n      if ($el) {\r\n        _xeUtils.default.arrayEach($el.querySelectorAll(\"[rowid=\\\"\".concat((0, _util.getRowid)(this, row), \"\\\"]\")), function (elem) {\r\n          return addClass(elem, 'row--current');\r\n        });\r\n      }\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  isCheckedByRadioRow: function isCheckedByRadioRow(row) {\r\n    return this.selectRow === row;\r\n  },\r\n  /**\r\n   * 用于单选行，设置某一行为选中状态\r\n   * @param {Row} row 行对象\r\n   */\r\n  setRadioRow: function setRadioRow(row) {\r\n    var radioOpts = this.radioOpts;\r\n    var checkMethod = radioOpts.checkMethod;\r\n    if (row && (!checkMethod || checkMethod({\r\n      row: row\r\n    }))) {\r\n      this.selectRow = row;\r\n      this.handleRadioReserveRow(row);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 用于当前行，手动清空当前高亮的状态\r\n   */\r\n  clearCurrentRow: function clearCurrentRow() {\r\n    var $el = this.$el;\r\n    this.currentRow = null;\r\n    this.hoverRow = null;\r\n    if ($el) {\r\n      _xeUtils.default.arrayEach($el.querySelectorAll('.row--current'), function (elem) {\r\n        return removeClass(elem, 'row--current');\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 用于单选行，手动清空用户的选择\r\n   */\r\n  clearRadioRow: function clearRadioRow() {\r\n    this.selectRow = null;\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 用于当前行，获取当前行的数据\r\n   */\r\n  getCurrentRecord: function getCurrentRecord() {\r\n    return this.rowOpts.isCurrent || this.highlightCurrentRow ? this.currentRow : null;\r\n  },\r\n  /**\r\n   * 用于单选行，获取当已选中的数据\r\n   */\r\n  getRadioRecord: function getRadioRecord(isFull) {\r\n    var treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      selectRow = this.selectRow,\r\n      fullDataRowIdData = this.fullDataRowIdData,\r\n      afterFullData = this.afterFullData;\r\n    if (selectRow) {\r\n      var rowid = (0, _util.getRowid)(this, selectRow);\r\n      if (isFull) {\r\n        if (!fullDataRowIdData[rowid]) {\r\n          return selectRow;\r\n        }\r\n      } else {\r\n        if (treeConfig) {\r\n          var rowkey = (0, _util.getRowkey)(this);\r\n          var matchObj = _xeUtils.default.findTree(afterFullData, function (row) {\r\n            return rowid === _xeUtils.default.get(row, rowkey);\r\n          }, treeOpts);\r\n          if (matchObj) {\r\n            return selectRow;\r\n          }\r\n        } else {\r\n          if (afterFullData.indexOf(selectRow) > -1) {\r\n            return selectRow;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n  /**\r\n   * 行 hover 事件\r\n   */\r\n  triggerHoverEvent: function triggerHoverEvent(evnt, _ref7) {\r\n    var row = _ref7.row;\r\n    this.setHoverRow(row);\r\n  },\r\n  setHoverRow: function setHoverRow(row) {\r\n    var $el = this.$el;\r\n    var rowid = (0, _util.getRowid)(this, row);\r\n    this.clearHoverRow();\r\n    if ($el) {\r\n      _xeUtils.default.arrayEach($el.querySelectorAll(\"[rowid=\\\"\".concat(rowid, \"\\\"]\")), function (elem) {\r\n        return addClass(elem, 'row--hover');\r\n      });\r\n    }\r\n    this.hoverRow = row;\r\n  },\r\n  clearHoverRow: function clearHoverRow() {\r\n    var $el = this.$el;\r\n    if ($el) {\r\n      _xeUtils.default.arrayEach($el.querySelectorAll('.vxe-body--row.row--hover'), function (elem) {\r\n        return removeClass(elem, 'row--hover');\r\n      });\r\n    }\r\n    this.hoverRow = null;\r\n  },\r\n  triggerHeaderCellClickEvent: function triggerHeaderCellClickEvent(evnt, params) {\r\n    var _lastResizeTime = this._lastResizeTime,\r\n      sortOpts = this.sortOpts;\r\n    var column = params.column;\r\n    var cell = evnt.currentTarget;\r\n    var triggerResizable = _lastResizeTime && _lastResizeTime > Date.now() - 300;\r\n    var triggerSort = getEventTargetNode(evnt, cell, 'vxe-cell--sort').flag;\r\n    var triggerFilter = getEventTargetNode(evnt, cell, 'vxe-cell--filter').flag;\r\n    if (sortOpts.trigger === 'cell' && !(triggerResizable || triggerSort || triggerFilter)) {\r\n      this.triggerSortEvent(evnt, column, getNextSortOrder(this, column));\r\n    }\r\n    this.emitEvent('header-cell-click', Object.assign({\r\n      triggerResizable: triggerResizable,\r\n      triggerSort: triggerSort,\r\n      triggerFilter: triggerFilter,\r\n      cell: cell\r\n    }, params), evnt);\r\n    if (this.columnOpts.isCurrent || this.highlightCurrentColumn) {\r\n      return this.setCurrentColumn(column);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  triggerHeaderCellDblclickEvent: function triggerHeaderCellDblclickEvent(evnt, params) {\r\n    this.emitEvent('header-cell-dblclick', Object.assign({\r\n      cell: evnt.currentTarget\r\n    }, params), evnt);\r\n  },\r\n  getCurrentColumn: function getCurrentColumn() {\r\n    return this.columnOpts.isCurrent || this.highlightCurrentColumn ? this.currentColumn : null;\r\n  },\r\n  /**\r\n   * 用于当前列，设置某列行为高亮状态\r\n   * @param {ColumnInfo} fieldOrColumn 列配置\r\n   */\r\n  setCurrentColumn: function setCurrentColumn(fieldOrColumn) {\r\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n    if (column) {\r\n      this.clearCurrentRow();\r\n      this.clearCurrentColumn();\r\n      this.currentColumn = column;\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 用于当前列，手动清空当前高亮的状态\r\n   */\r\n  clearCurrentColumn: function clearCurrentColumn() {\r\n    this.currentColumn = null;\r\n    return this.$nextTick();\r\n  },\r\n  checkValidate: function checkValidate(type) {\r\n    if (_vXETable.default._valid) {\r\n      return this.triggerValidate(type);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 当单元格发生改变时\r\n   * 如果存在规则，则校验\r\n   */\r\n  handleChangeCell: function handleChangeCell(evnt, params) {\r\n    var _this38 = this;\r\n    this.checkValidate('blur').catch(function (e) {\r\n      return e;\r\n    }).then(function () {\r\n      _this38.handleActived(params, evnt).then(function () {\r\n        return _this38.checkValidate('change');\r\n      }).catch(function (e) {\r\n        return e;\r\n      });\r\n    });\r\n  },\r\n  /**\r\n   * 列点击事件\r\n   * 如果是单击模式，则激活为编辑状态\r\n   * 如果是双击模式，则单击后选中状态\r\n   */\r\n  triggerCellClickEvent: function triggerCellClickEvent(evnt, params) {\r\n    var highlightCurrentRow = this.highlightCurrentRow,\r\n      editStore = this.editStore,\r\n      radioOpts = this.radioOpts,\r\n      expandOpts = this.expandOpts,\r\n      treeOpts = this.treeOpts,\r\n      editConfig = this.editConfig,\r\n      editOpts = this.editOpts,\r\n      checkboxOpts = this.checkboxOpts,\r\n      rowOpts = this.rowOpts;\r\n    var actived = editStore.actived;\r\n    var _params = params,\r\n      row = _params.row,\r\n      column = _params.column;\r\n    var type = column.type,\r\n      treeNode = column.treeNode;\r\n    var isRadioType = type === 'radio';\r\n    var isCheckboxType = type === 'checkbox';\r\n    var isExpandType = type === 'expand';\r\n    var cell = evnt.currentTarget;\r\n    var triggerRadio = isRadioType && getEventTargetNode(evnt, cell, 'vxe-cell--radio').flag;\r\n    var triggerCheckbox = isCheckboxType && getEventTargetNode(evnt, cell, 'vxe-cell--checkbox').flag;\r\n    var triggerTreeNode = treeNode && getEventTargetNode(evnt, cell, 'vxe-tree--btn-wrapper').flag;\r\n    var triggerExpandNode = isExpandType && getEventTargetNode(evnt, cell, 'vxe-table--expanded').flag;\r\n    params = Object.assign({\r\n      cell: cell,\r\n      triggerRadio: triggerRadio,\r\n      triggerCheckbox: triggerCheckbox,\r\n      triggerTreeNode: triggerTreeNode,\r\n      triggerExpandNode: triggerExpandNode\r\n    }, params);\r\n    if (!triggerCheckbox && !triggerRadio) {\r\n      // 如果是展开行\r\n      if (!triggerExpandNode && (expandOpts.trigger === 'row' || isExpandType && expandOpts.trigger === 'cell')) {\r\n        this.triggerRowExpandEvent(evnt, params);\r\n      }\r\n      // 如果是树形表格\r\n      if (treeOpts.trigger === 'row' || treeNode && treeOpts.trigger === 'cell') {\r\n        this.triggerTreeExpandEvent(evnt, params);\r\n      }\r\n    }\r\n    // 如果点击了树节点\r\n    if (!triggerTreeNode) {\r\n      if (!triggerExpandNode) {\r\n        // 如果是高亮行\r\n        if (rowOpts.isCurrent || highlightCurrentRow) {\r\n          if (!triggerCheckbox && !triggerRadio) {\r\n            this.triggerCurrentRowEvent(evnt, params);\r\n          }\r\n        }\r\n        // 如果是单选框\r\n        if (!triggerRadio && (radioOpts.trigger === 'row' || isRadioType && radioOpts.trigger === 'cell')) {\r\n          this.triggerRadioRowEvent(evnt, params);\r\n        }\r\n        // 如果是复选框\r\n        if (!triggerCheckbox && (checkboxOpts.trigger === 'row' || isCheckboxType && checkboxOpts.trigger === 'cell')) {\r\n          this.handleToggleCheckRowEvent(evnt, params);\r\n        }\r\n      }\r\n      // 如果设置了单元格选中功能，则不会使用点击事件去处理（只能支持双击模式）\r\n      if ((0, _utils.isEnableConf)(editConfig)) {\r\n        if (editOpts.trigger === 'manual') {\r\n          if (actived.args && actived.row === row && column !== actived.column) {\r\n            this.handleChangeCell(evnt, params);\r\n          }\r\n        } else if (!actived.args || row !== actived.row || column !== actived.column) {\r\n          if (editOpts.trigger === 'click') {\r\n            this.handleChangeCell(evnt, params);\r\n          } else if (editOpts.trigger === 'dblclick') {\r\n            if (editOpts.mode === 'row' && actived.row === row) {\r\n              this.handleChangeCell(evnt, params);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.emitEvent('cell-click', params, evnt);\r\n  },\r\n  /**\r\n   * 列双击点击事件\r\n   * 如果是双击模式，则激活为编辑状态\r\n   */\r\n  triggerCellDblclickEvent: function triggerCellDblclickEvent(evnt, params) {\r\n    var _this39 = this;\r\n    var editStore = this.editStore,\r\n      editConfig = this.editConfig,\r\n      editOpts = this.editOpts;\r\n    var actived = editStore.actived;\r\n    var cell = evnt.currentTarget;\r\n    params.cell = cell;\r\n    if ((0, _utils.isEnableConf)(editConfig) && editOpts.trigger === 'dblclick') {\r\n      if (!actived.args || evnt.currentTarget !== actived.args.cell) {\r\n        if (editOpts.mode === 'row') {\r\n          this.checkValidate('blur').catch(function (e) {\r\n            return e;\r\n          }).then(function () {\r\n            _this39.handleActived(params, evnt).then(function () {\r\n              return _this39.checkValidate('change');\r\n            }).catch(function (e) {\r\n              return e;\r\n            });\r\n          });\r\n        } else if (editOpts.mode === 'cell') {\r\n          this.handleActived(params, evnt).then(function () {\r\n            return _this39.checkValidate('change');\r\n          }).catch(function (e) {\r\n            return e;\r\n          });\r\n        }\r\n      }\r\n    }\r\n    this.emitEvent('cell-dblclick', params, evnt);\r\n  },\r\n  handleDefaultSort: function handleDefaultSort() {\r\n    var _this40 = this;\r\n    var sortConfig = this.sortConfig,\r\n      sortOpts = this.sortOpts;\r\n    var defaultSort = sortOpts.defaultSort;\r\n    if (defaultSort) {\r\n      if (!_xeUtils.default.isArray(defaultSort)) {\r\n        defaultSort = [defaultSort];\r\n      }\r\n      if (defaultSort.length) {\r\n        (sortConfig.multiple ? defaultSort : defaultSort.slice(0, 1)).forEach(function (item, index) {\r\n          var field = item.field,\r\n            order = item.order;\r\n          if (field && order) {\r\n            var column = _this40.getColumnByField(field);\r\n            if (column && column.sortable) {\r\n              column.order = order;\r\n              column.sortTime = Date.now() + index;\r\n            }\r\n          }\r\n        });\r\n        if (!sortOpts.remote) {\r\n          this.handleTableData(true).then(this.updateStyle);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * 点击排序事件\r\n   */\r\n  triggerSortEvent: function triggerSortEvent(evnt, column, order) {\r\n    var sortOpts = this.sortOpts;\r\n    var field = column.field,\r\n      sortable = column.sortable,\r\n      remoteSort = column.remoteSort;\r\n    if (sortable || remoteSort) {\r\n      if (!order || column.order === order) {\r\n        this.clearSort(sortOpts.multiple ? column : null);\r\n      } else {\r\n        this.sort({\r\n          field: field,\r\n          order: order\r\n        });\r\n      }\r\n      var params = {\r\n        column: column,\r\n        field: field,\r\n        property: field,\r\n        order: column.order,\r\n        sortList: this.getSortColumns()\r\n      };\r\n      this.emitEvent('sort-change', params, evnt);\r\n    }\r\n  },\r\n  sort: function sort(sortConfs, sortOrder) {\r\n    var _this41 = this;\r\n    var sortOpts = this.sortOpts;\r\n    var multiple = sortOpts.multiple,\r\n      remote = sortOpts.remote,\r\n      orders = sortOpts.orders;\r\n    if (sortConfs) {\r\n      if (_xeUtils.default.isString(sortConfs)) {\r\n        sortConfs = [{\r\n          field: sortConfs,\r\n          order: sortOrder\r\n        }];\r\n      }\r\n    }\r\n    if (!_xeUtils.default.isArray(sortConfs)) {\r\n      sortConfs = [sortConfs];\r\n    }\r\n    if (sortConfs.length) {\r\n      var firstSortColumn;\r\n      if (!multiple) {\r\n        clearAllSort(this);\r\n      }\r\n      (multiple ? sortConfs : [sortConfs[0]]).forEach(function (confs, index) {\r\n        var field = confs.field,\r\n          order = confs.order;\r\n        var column = field;\r\n        if (_xeUtils.default.isString(field)) {\r\n          column = _this41.getColumnByField(field);\r\n        }\r\n        if (column && (column.sortable || column.remoteSort)) {\r\n          if (!firstSortColumn) {\r\n            firstSortColumn = column;\r\n          }\r\n          if (orders.indexOf(order) === -1) {\r\n            order = getNextSortOrder(_this41, column);\r\n          }\r\n          if (column.order !== order) {\r\n            column.order = order;\r\n          }\r\n          column.sortTime = Date.now() + index;\r\n        }\r\n      });\r\n      // 如果是服务端排序，则跳过本地排序处理\r\n      if (!remote || firstSortColumn && firstSortColumn.remoteSort) {\r\n        this.handleTableData(true);\r\n      }\r\n      return this.$nextTick().then(this.updateStyle);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 清空指定列的排序条件\r\n   * 如果为空则清空所有列的排序条件\r\n   * @param {String} column 列或字段名\r\n   */\r\n  clearSort: function clearSort(fieldOrColumn) {\r\n    var sortOpts = this.sortOpts;\r\n    if (fieldOrColumn) {\r\n      var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n      if (column) {\r\n        column.order = null;\r\n      }\r\n    } else {\r\n      clearAllSort(this);\r\n    }\r\n    if (!sortOpts.remote) {\r\n      this.handleTableData(true);\r\n    }\r\n    return this.$nextTick().then(this.updateStyle);\r\n  },\r\n  // 在 v3 中废弃\r\n  getSortColumn: function getSortColumn() {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['getSortColumn', 'getSortColumns']);\r\n    }\r\n    return _xeUtils.default.find(this.tableFullColumn, function (column) {\r\n      return (column.sortable || column.remoteSort) && column.order;\r\n    });\r\n  },\r\n  isSort: function isSort(fieldOrColumn) {\r\n    if (fieldOrColumn) {\r\n      var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n      return column && column.sortable && !!column.order;\r\n    }\r\n    return this.getSortColumns().length > 0;\r\n  },\r\n  getSortColumns: function getSortColumns() {\r\n    var _this$sortOpts = this.sortOpts,\r\n      multiple = _this$sortOpts.multiple,\r\n      chronological = _this$sortOpts.chronological;\r\n    var sortList = [];\r\n    this.tableFullColumn.forEach(function (column) {\r\n      var field = column.field,\r\n        order = column.order;\r\n      if ((column.sortable || column.remoteSort) && order) {\r\n        sortList.push({\r\n          column: column,\r\n          field: field,\r\n          property: field,\r\n          order: order,\r\n          sortTime: column.sortTime\r\n        });\r\n      }\r\n    });\r\n    if (multiple && chronological && sortList.length > 1) {\r\n      return _xeUtils.default.orderBy(sortList, 'sortTime');\r\n    }\r\n    return sortList;\r\n  },\r\n  /**\r\n   * 关闭筛选\r\n   * @param {Event} evnt 事件\r\n   */\r\n  closeFilter: function closeFilter() {\r\n    var filterStore = this.filterStore;\r\n    var column = filterStore.column,\r\n      visible = filterStore.visible;\r\n    Object.assign(filterStore, {\r\n      isAllSelected: false,\r\n      isIndeterminate: false,\r\n      options: [],\r\n      visible: false\r\n    });\r\n    if (visible) {\r\n      this.emitEvent('filter-visible', {\r\n        column: column,\r\n        field: column.field,\r\n        property: column.field,\r\n        filterList: this.getCheckedFilters(),\r\n        visible: false\r\n      }, null);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 判断指定列是否为筛选状态，如果为空则判断所有列\r\n   * @param {String} fieldOrColumn 字段名\r\n   */\r\n  isFilter: function isFilter(fieldOrColumn) {\r\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n    if (column) {\r\n      return column.filters && column.filters.some(function (option) {\r\n        return option.checked;\r\n      });\r\n    }\r\n    return this.getCheckedFilters().length > 0;\r\n  },\r\n  /**\r\n   * 判断展开行是否懒加载完成\r\n   * @param {Row} row 行对象\r\n   */\r\n  isRowExpandLoaded: function isRowExpandLoaded(row) {\r\n    var rest = this.fullAllDataRowMap.get(row);\r\n    return rest && rest.expandLoaded;\r\n  },\r\n  clearRowExpandLoaded: function clearRowExpandLoaded(row) {\r\n    var _this42 = this;\r\n    var expandOpts = this.expandOpts,\r\n      expandLazyLoadeds = this.expandLazyLoadeds,\r\n      fullAllDataRowMap = this.fullAllDataRowMap;\r\n    var lazy = expandOpts.lazy;\r\n    var rest = fullAllDataRowMap.get(row);\r\n    if (lazy && rest) {\r\n      rest.expandLoaded = false;\r\n      _xeUtils.default.remove(expandLazyLoadeds, function (item) {\r\n        return _this42.eqRow(item, row);\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 重新懒加载展开行，并展开内容\r\n   * @param {Row} row 行对象\r\n   */\r\n  reloadRowExpand: function reloadRowExpand(row) {\r\n    var _this43 = this;\r\n    var expandOpts = this.expandOpts,\r\n      expandLazyLoadeds = this.expandLazyLoadeds;\r\n    var lazy = expandOpts.lazy;\r\n    if (lazy && this.findRowIndexOf(expandLazyLoadeds, row) === -1) {\r\n      this.clearRowExpandLoaded(row).then(function () {\r\n        return _this43.handleAsyncRowExpand(row);\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  reloadExpandContent: function reloadExpandContent(row) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['reloadExpandContent', 'reloadRowExpand']);\r\n    }\r\n    // 即将废弃\r\n    return this.reloadRowExpand(row);\r\n  },\r\n  /**\r\n   * 展开行事件\r\n   */\r\n  triggerRowExpandEvent: function triggerRowExpandEvent(evnt, params) {\r\n    var expandOpts = this.expandOpts,\r\n      expandLazyLoadeds = this.expandLazyLoadeds,\r\n      column = this.expandColumn;\r\n    var row = params.row;\r\n    var lazy = expandOpts.lazy;\r\n    if (!lazy || this.findRowIndexOf(expandLazyLoadeds, row) === -1) {\r\n      var expanded = !this.isExpandByRow(row);\r\n      var columnIndex = this.getColumnIndex(column);\r\n      var $columnIndex = this.getVMColumnIndex(column);\r\n      this.setRowExpand(row, expanded);\r\n      this.emitEvent('toggle-row-expand', {\r\n        expanded: expanded,\r\n        column: column,\r\n        columnIndex: columnIndex,\r\n        $columnIndex: $columnIndex,\r\n        row: row,\r\n        rowIndex: this.getRowIndex(row),\r\n        $rowIndex: this.getVMRowIndex(row)\r\n      }, evnt);\r\n    }\r\n  },\r\n  /**\r\n   * 切换展开行\r\n   */\r\n  toggleRowExpand: function toggleRowExpand(row) {\r\n    return this.setRowExpand(row, !this.isExpandByRow(row));\r\n  },\r\n  /**\r\n   * 处理默认展开行\r\n   */\r\n  handleDefaultRowExpand: function handleDefaultRowExpand() {\r\n    var expandOpts = this.expandOpts,\r\n      fullDataRowIdData = this.fullDataRowIdData;\r\n    var expandAll = expandOpts.expandAll,\r\n      expandRowKeys = expandOpts.expandRowKeys;\r\n    if (expandAll) {\r\n      this.setAllRowExpand(true);\r\n    } else if (expandRowKeys) {\r\n      var defExpandeds = [];\r\n      expandRowKeys.forEach(function (rowid) {\r\n        if (fullDataRowIdData[rowid]) {\r\n          defExpandeds.push(fullDataRowIdData[rowid].row);\r\n        }\r\n      });\r\n      this.setRowExpand(defExpandeds, true);\r\n    }\r\n  },\r\n  /**\r\n   * 设置所有行的展开与否\r\n   * @param {Boolean} expanded 是否展开\r\n   */\r\n  setAllRowExpand: function setAllRowExpand(expanded) {\r\n    return this.setRowExpand(this.expandOpts.lazy ? this.tableData : this.tableFullData, expanded);\r\n  },\r\n  handleAsyncRowExpand: function handleAsyncRowExpand(row) {\r\n    var _this44 = this;\r\n    var rest = this.fullAllDataRowMap.get(row);\r\n    return new Promise(function (resolve) {\r\n      _this44.expandLazyLoadeds.push(row);\r\n      _this44.expandOpts.loadMethod({\r\n        $table: _this44,\r\n        row: row,\r\n        rowIndex: _this44.getRowIndex(row),\r\n        $rowIndex: _this44.getVMRowIndex(row)\r\n      }).then(function () {\r\n        rest.expandLoaded = true;\r\n        _this44.rowExpandeds.push(row);\r\n      }).catch(function () {\r\n        rest.expandLoaded = false;\r\n      }).finally(function () {\r\n        _xeUtils.default.remove(_this44.expandLazyLoadeds, function (item) {\r\n          return _this44.eqRow(item, row);\r\n        });\r\n        resolve(_this44.$nextTick().then(_this44.recalculate));\r\n      });\r\n    });\r\n  },\r\n  /**\r\n   * 设置展开行，二个参数设置这一行展开与否\r\n   * 支持单行\r\n   * 支持多行\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {Boolean} expanded 是否展开\r\n   */\r\n  setRowExpand: function setRowExpand(rows, expanded) {\r\n    var _this45 = this;\r\n    var fullAllDataRowMap = this.fullAllDataRowMap,\r\n      expandLazyLoadeds = this.expandLazyLoadeds,\r\n      expandOpts = this.expandOpts,\r\n      column = this.expandColumn;\r\n    var rowExpandeds = this.rowExpandeds;\r\n    var reserve = expandOpts.reserve,\r\n      lazy = expandOpts.lazy,\r\n      accordion = expandOpts.accordion,\r\n      toggleMethod = expandOpts.toggleMethod;\r\n    var lazyRests = [];\r\n    var columnIndex = this.getColumnIndex(column);\r\n    var $columnIndex = this.getVMColumnIndex(column);\r\n    if (rows) {\r\n      if (!_xeUtils.default.isArray(rows)) {\r\n        rows = [rows];\r\n      }\r\n      if (accordion) {\r\n        // 只能同时展开一个\r\n        rowExpandeds = [];\r\n        rows = rows.slice(rows.length - 1, rows.length);\r\n      }\r\n      var validRows = toggleMethod ? rows.filter(function (row) {\r\n        return toggleMethod({\r\n          expanded: expanded,\r\n          column: column,\r\n          columnIndex: columnIndex,\r\n          $columnIndex: $columnIndex,\r\n          row: row,\r\n          rowIndex: _this45.getRowIndex(row),\r\n          $rowIndex: _this45.getVMRowIndex(row)\r\n        });\r\n      }) : rows;\r\n      if (expanded) {\r\n        validRows.forEach(function (row) {\r\n          if (_this45.findRowIndexOf(rowExpandeds, row) === -1) {\r\n            var rest = fullAllDataRowMap.get(row);\r\n            var isLoad = lazy && !rest.expandLoaded && _this45.findRowIndexOf(expandLazyLoadeds, row) === -1;\r\n            if (isLoad) {\r\n              lazyRests.push(_this45.handleAsyncRowExpand(row));\r\n            } else {\r\n              rowExpandeds.push(row);\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        _xeUtils.default.remove(rowExpandeds, function (row) {\r\n          return _this45.findRowIndexOf(validRows, row) > -1;\r\n        });\r\n      }\r\n      if (reserve) {\r\n        validRows.forEach(function (row) {\r\n          return _this45.handleRowExpandReserve(row, expanded);\r\n        });\r\n      }\r\n    }\r\n    this.rowExpandeds = rowExpandeds;\r\n    return Promise.all(lazyRests).then(this.recalculate);\r\n  },\r\n  /**\r\n   * 判断行是否为展开状态\r\n   * @param {Row} row 行对象\r\n   */\r\n  isExpandByRow: function isExpandByRow(row) {\r\n    var rowExpandeds = this.rowExpandeds;\r\n    return this.findRowIndexOf(rowExpandeds, row) > -1;\r\n  },\r\n  /**\r\n   * 手动清空展开行状态，数据会恢复成未展开的状态\r\n   */\r\n  clearRowExpand: function clearRowExpand() {\r\n    var _this46 = this;\r\n    var expandOpts = this.expandOpts,\r\n      rowExpandeds = this.rowExpandeds,\r\n      tableFullData = this.tableFullData;\r\n    var reserve = expandOpts.reserve;\r\n    var isExists = rowExpandeds.length;\r\n    this.rowExpandeds = [];\r\n    if (reserve) {\r\n      tableFullData.forEach(function (row) {\r\n        return _this46.handleRowExpandReserve(row, false);\r\n      });\r\n    }\r\n    return this.$nextTick().then(function () {\r\n      if (isExists) {\r\n        _this46.recalculate();\r\n      }\r\n    });\r\n  },\r\n  clearRowExpandReserve: function clearRowExpandReserve() {\r\n    this.rowExpandedReserveRowMap = {};\r\n    return this.$nextTick();\r\n  },\r\n  handleRowExpandReserve: function handleRowExpandReserve(row, expanded) {\r\n    var rowExpandedReserveRowMap = this.rowExpandedReserveRowMap,\r\n      expandOpts = this.expandOpts;\r\n    if (expandOpts.reserve) {\r\n      var rowid = (0, _util.getRowid)(this, row);\r\n      if (expanded) {\r\n        rowExpandedReserveRowMap[rowid] = row;\r\n      } else if (rowExpandedReserveRowMap[rowid]) {\r\n        delete rowExpandedReserveRowMap[rowid];\r\n      }\r\n    }\r\n  },\r\n  getRowExpandRecords: function getRowExpandRecords() {\r\n    return this.rowExpandeds.slice(0);\r\n  },\r\n  getTreeExpandRecords: function getTreeExpandRecords() {\r\n    return this.treeExpandeds.slice(0);\r\n  },\r\n  /**\r\n   * 获取数表格状态\r\n   */\r\n  getTreeStatus: function getTreeStatus() {\r\n    if (this.treeConfig) {\r\n      return {\r\n        config: this.treeOpts,\r\n        rowExpandeds: this.getTreeExpandRecords()\r\n      };\r\n    }\r\n    return null;\r\n  },\r\n  /**\r\n   * 判断树节点是否懒加载完成\r\n   * @param {Row} row 行对象\r\n   */\r\n  isTreeExpandLoaded: function isTreeExpandLoaded(row) {\r\n    var rest = this.fullAllDataRowMap.get(row);\r\n    return rest && rest.treeLoaded;\r\n  },\r\n  clearTreeExpandLoaded: function clearTreeExpandLoaded(row) {\r\n    var treeOpts = this.treeOpts,\r\n      treeExpandeds = this.treeExpandeds,\r\n      fullAllDataRowMap = this.fullAllDataRowMap;\r\n    var transform = treeOpts.transform,\r\n      lazy = treeOpts.lazy;\r\n    var rest = fullAllDataRowMap.get(row);\r\n    if (lazy && rest) {\r\n      rest.treeLoaded = false;\r\n      _xeUtils.default.remove(treeExpandeds, function (item) {\r\n        return row === item;\r\n      });\r\n    }\r\n    if (transform) {\r\n      this.handleVirtualTreeToList();\r\n      return this.handleTableData();\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 重新懒加载树节点，并展开该节点\r\n   * @param {Row} row 行对象\r\n   */\r\n  reloadTreeExpand: function reloadTreeExpand(row) {\r\n    var _this47 = this;\r\n    var treeOpts = this.treeOpts,\r\n      treeLazyLoadeds = this.treeLazyLoadeds;\r\n    var transform = treeOpts.transform,\r\n      lazy = treeOpts.lazy,\r\n      hasChild = treeOpts.hasChild;\r\n    if (lazy && row[hasChild] && treeLazyLoadeds.indexOf(row) === -1) {\r\n      this.clearTreeExpandLoaded(row).then(function () {\r\n        return _this47.handleAsyncTreeExpandChilds(row);\r\n      }).then(function () {\r\n        if (transform) {\r\n          _this47.handleVirtualTreeToList();\r\n          return _this47.handleTableData();\r\n        }\r\n      }).then(function () {\r\n        return _this47.recalculate();\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  reloadTreeChilds: function reloadTreeChilds(row) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      (0, _log.warnLog)('vxe.error.delFunc', ['reloadTreeChilds', 'reloadTreeExpand']);\r\n    }\r\n    // 即将废弃\r\n    return this.reloadTreeExpand(row);\r\n  },\r\n  /**\r\n   * 展开树节点事件\r\n   */\r\n  triggerTreeExpandEvent: function triggerTreeExpandEvent(evnt, params) {\r\n    var treeOpts = this.treeOpts,\r\n      treeLazyLoadeds = this.treeLazyLoadeds;\r\n    var row = params.row,\r\n      column = params.column;\r\n    var lazy = treeOpts.lazy;\r\n    if (!lazy || treeLazyLoadeds.indexOf(row) === -1) {\r\n      var expanded = !this.isTreeExpandByRow(row);\r\n      var columnIndex = this.getColumnIndex(column);\r\n      var $columnIndex = this.getVMColumnIndex(column);\r\n      this.setTreeExpand(row, expanded);\r\n      this.emitEvent('toggle-tree-expand', {\r\n        expanded: expanded,\r\n        column: column,\r\n        columnIndex: columnIndex,\r\n        $columnIndex: $columnIndex,\r\n        row: row\r\n      }, evnt);\r\n    }\r\n  },\r\n  /**\r\n   * 切换/展开树节点\r\n   */\r\n  toggleTreeExpand: function toggleTreeExpand(row) {\r\n    return this.setTreeExpand(row, !this.isTreeExpandByRow(row));\r\n  },\r\n  /**\r\n   * 处理默认展开树节点\r\n   */\r\n  handleDefaultTreeExpand: function handleDefaultTreeExpand() {\r\n    var treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts,\r\n      tableFullData = this.tableFullData;\r\n    if (treeConfig) {\r\n      var expandAll = treeOpts.expandAll,\r\n        expandRowKeys = treeOpts.expandRowKeys;\r\n      if (expandAll) {\r\n        this.setAllTreeExpand(true);\r\n      } else if (expandRowKeys) {\r\n        var defExpandeds = [];\r\n        var rowkey = (0, _util.getRowkey)(this);\r\n        expandRowKeys.forEach(function (rowid) {\r\n          var matchObj = _xeUtils.default.findTree(tableFullData, function (item) {\r\n            return rowid === _xeUtils.default.get(item, rowkey);\r\n          }, treeOpts);\r\n          if (matchObj) {\r\n            defExpandeds.push(matchObj.item);\r\n          }\r\n        });\r\n        this.setTreeExpand(defExpandeds, true);\r\n      }\r\n    }\r\n  },\r\n  handleAsyncTreeExpandChilds: function handleAsyncTreeExpandChilds(row) {\r\n    var _this48 = this;\r\n    var fullAllDataRowMap = this.fullAllDataRowMap,\r\n      treeExpandeds = this.treeExpandeds,\r\n      treeOpts = this.treeOpts,\r\n      treeLazyLoadeds = this.treeLazyLoadeds,\r\n      checkboxOpts = this.checkboxOpts;\r\n    var transform = treeOpts.transform,\r\n      loadMethod = treeOpts.loadMethod;\r\n    var checkStrictly = checkboxOpts.checkStrictly;\r\n    var rest = fullAllDataRowMap.get(row);\r\n    return new Promise(function (resolve) {\r\n      treeLazyLoadeds.push(row);\r\n      loadMethod({\r\n        $table: _this48,\r\n        row: row\r\n      }).then(function (childRecords) {\r\n        // 响应成功后则展开行，并将子节点挂载到该节点下\r\n        rest.treeLoaded = true;\r\n        _xeUtils.default.remove(treeLazyLoadeds, function (item) {\r\n          return item === row;\r\n        });\r\n        if (!_xeUtils.default.isArray(childRecords)) {\r\n          childRecords = [];\r\n        }\r\n        if (childRecords) {\r\n          return _this48.loadTreeChildren(row, childRecords).then(function (childRows) {\r\n            if (childRows.length && treeExpandeds.indexOf(row) === -1) {\r\n              treeExpandeds.push(row);\r\n            }\r\n            // 如果当前节点已选中，则展开后子节点也被选中\r\n            if (!checkStrictly && _this48.isCheckedByCheckboxRow(row)) {\r\n              _this48.setCheckboxRow(childRows, true);\r\n            }\r\n            return _this48.$nextTick().then(function () {\r\n              if (transform) {\r\n                return _this48.handleTableData();\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }).catch(function () {\r\n        // 如果响应异常，则不展开，再次点击后将重新触发懒加载\r\n        rest.treeLoaded = false;\r\n        _xeUtils.default.remove(treeLazyLoadeds, function (item) {\r\n          return item === row;\r\n        });\r\n      }).finally(function () {\r\n        _this48.$nextTick().then(function () {\r\n          return _this48.recalculate();\r\n        }).then(function () {\r\n          return resolve();\r\n        });\r\n      });\r\n    });\r\n  },\r\n  /**\r\n   * 设置所有树节点的展开与否\r\n   * @param {Boolean} expanded 是否展开\r\n   */\r\n  setAllTreeExpand: function setAllTreeExpand(expanded) {\r\n    var tableFullData = this.tableFullData,\r\n      treeOpts = this.treeOpts;\r\n    var lazy = treeOpts.lazy,\r\n      children = treeOpts.children;\r\n    var expandeds = [];\r\n    _xeUtils.default.eachTree(tableFullData, function (row) {\r\n      var rowChildren = row[children];\r\n      if (lazy || rowChildren && rowChildren.length) {\r\n        expandeds.push(row);\r\n      }\r\n    }, treeOpts);\r\n    return this.setTreeExpand(expandeds, expanded);\r\n  },\r\n  /**\r\n   * 默认，展开与收起树节点\r\n   * @param rows\r\n   * @param expanded\r\n   * @returns\r\n   */\r\n  handleBaseTreeExpand: function handleBaseTreeExpand(rows, expanded) {\r\n    var _this49 = this;\r\n    var fullAllDataRowMap = this.fullAllDataRowMap,\r\n      tableFullData = this.tableFullData,\r\n      treeExpandeds = this.treeExpandeds,\r\n      treeOpts = this.treeOpts,\r\n      treeLazyLoadeds = this.treeLazyLoadeds,\r\n      treeNodeColumn = this.treeNodeColumn;\r\n    var reserve = treeOpts.reserve,\r\n      lazy = treeOpts.lazy,\r\n      hasChild = treeOpts.hasChild,\r\n      children = treeOpts.children,\r\n      accordion = treeOpts.accordion,\r\n      toggleMethod = treeOpts.toggleMethod;\r\n    var result = [];\r\n    var columnIndex = this.getColumnIndex(treeNodeColumn);\r\n    var $columnIndex = this.getVMColumnIndex(treeNodeColumn);\r\n    var validRows = toggleMethod ? rows.filter(function (row) {\r\n      return toggleMethod({\r\n        expanded: expanded,\r\n        column: treeNodeColumn,\r\n        columnIndex: columnIndex,\r\n        $columnIndex: $columnIndex,\r\n        row: row\r\n      });\r\n    }) : rows;\r\n    if (accordion) {\r\n      validRows = validRows.length ? [validRows[validRows.length - 1]] : [];\r\n      // 同一级只能展开一个\r\n      var matchObj = _xeUtils.default.findTree(tableFullData, function (item) {\r\n        return item === validRows[0];\r\n      }, treeOpts);\r\n      if (matchObj) {\r\n        _xeUtils.default.remove(treeExpandeds, function (item) {\r\n          return matchObj.items.indexOf(item) > -1;\r\n        });\r\n      }\r\n    }\r\n    if (expanded) {\r\n      validRows.forEach(function (row) {\r\n        if (treeExpandeds.indexOf(row) === -1) {\r\n          var rest = fullAllDataRowMap.get(row);\r\n          var isLoad = lazy && row[hasChild] && !rest.treeLoaded && treeLazyLoadeds.indexOf(row) === -1;\r\n          // 是否使用懒加载\r\n          if (isLoad) {\r\n            result.push(_this49.handleAsyncTreeExpandChilds(row));\r\n          } else {\r\n            if (row[children] && row[children].length) {\r\n              treeExpandeds.push(row);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      _xeUtils.default.remove(treeExpandeds, function (row) {\r\n        return validRows.indexOf(row) > -1;\r\n      });\r\n    }\r\n    if (reserve) {\r\n      validRows.forEach(function (row) {\r\n        return _this49.handleTreeExpandReserve(row, expanded);\r\n      });\r\n    }\r\n    return Promise.all(result).then(this.recalculate);\r\n  },\r\n  /**\r\n   * 虚拟树的展开与收起\r\n   * @param rows\r\n   * @param expanded\r\n   * @returns\r\n   */\r\n  handleVirtualTreeExpand: function handleVirtualTreeExpand(rows, expanded) {\r\n    var _this50 = this;\r\n    return this.handleBaseTreeExpand(rows, expanded).then(function () {\r\n      _this50.handleVirtualTreeToList();\r\n      return _this50.handleTableData();\r\n    }).then(function () {\r\n      return _this50.recalculate();\r\n    });\r\n  },\r\n  /**\r\n   * 设置展开树形节点，二个参数设置这一行展开与否\r\n   * 支持单行\r\n   * 支持多行\r\n   * @param {Array/Row} rows 行数据\r\n   * @param {Boolean} expanded 是否展开\r\n   */\r\n  setTreeExpand: function setTreeExpand(rows, expanded) {\r\n    var treeOpts = this.treeOpts;\r\n    var transform = treeOpts.transform;\r\n    if (rows) {\r\n      if (!_xeUtils.default.isArray(rows)) {\r\n        rows = [rows];\r\n      }\r\n      if (rows.length) {\r\n        // 如果为虚拟树\r\n        if (transform) {\r\n          return this.handleVirtualTreeExpand(rows, expanded);\r\n        } else {\r\n          return this.handleBaseTreeExpand(rows, expanded);\r\n        }\r\n      }\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 判断行是否为树形节点展开状态\r\n   * @param {Row} row 行对象\r\n   */\r\n  isTreeExpandByRow: function isTreeExpandByRow(row) {\r\n    return this.treeExpandeds.indexOf(row) > -1;\r\n  },\r\n  /**\r\n   * 手动清空树形节点的展开状态，数据会恢复成未展开的状态\r\n   */\r\n  clearTreeExpand: function clearTreeExpand() {\r\n    var _this51 = this;\r\n    var treeOpts = this.treeOpts,\r\n      treeExpandeds = this.treeExpandeds,\r\n      tableFullData = this.tableFullData;\r\n    var transform = treeOpts.transform,\r\n      reserve = treeOpts.reserve;\r\n    var isExists = treeExpandeds.length;\r\n    this.treeExpandeds = [];\r\n    if (reserve) {\r\n      _xeUtils.default.eachTree(tableFullData, function (row) {\r\n        return _this51.handleTreeExpandReserve(row, false);\r\n      }, treeOpts);\r\n    }\r\n    return this.handleTableData().then(function () {\r\n      if (transform) {\r\n        _this51.handleVirtualTreeToList();\r\n        return _this51.handleTableData();\r\n      }\r\n    }).then(function () {\r\n      if (isExists) {\r\n        _this51.recalculate();\r\n      }\r\n    });\r\n  },\r\n  clearTreeExpandReserve: function clearTreeExpandReserve() {\r\n    this.treeExpandedReserveRowMap = {};\r\n    return this.$nextTick();\r\n  },\r\n  handleTreeExpandReserve: function handleTreeExpandReserve(row, expanded) {\r\n    var treeExpandedReserveRowMap = this.treeExpandedReserveRowMap,\r\n      treeOpts = this.treeOpts;\r\n    if (treeOpts.reserve) {\r\n      var rowid = (0, _util.getRowid)(this, row);\r\n      if (expanded) {\r\n        treeExpandedReserveRowMap[rowid] = row;\r\n      } else if (treeExpandedReserveRowMap[rowid]) {\r\n        delete treeExpandedReserveRowMap[rowid];\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * 获取表格的滚动状态\r\n   */\r\n  getScroll: function getScroll() {\r\n    var $refs = this.$refs,\r\n      scrollXLoad = this.scrollXLoad,\r\n      scrollYLoad = this.scrollYLoad;\r\n    var bodyElem = $refs.tableBody.$el;\r\n    return {\r\n      virtualX: scrollXLoad,\r\n      virtualY: scrollYLoad,\r\n      scrollTop: bodyElem.scrollTop,\r\n      scrollLeft: bodyElem.scrollLeft\r\n    };\r\n  },\r\n  /**\r\n   * 横向 X 可视渲染事件处理\r\n   */\r\n  triggerScrollXEvent: function triggerScrollXEvent() {\r\n    this.loadScrollXData();\r\n  },\r\n  loadScrollXData: function loadScrollXData() {\r\n    var mergeList = this.mergeList,\r\n      mergeFooterList = this.mergeFooterList,\r\n      scrollXStore = this.scrollXStore;\r\n    var startIndex = scrollXStore.startIndex,\r\n      endIndex = scrollXStore.endIndex,\r\n      offsetSize = scrollXStore.offsetSize;\r\n    var _computeVirtualX2 = computeVirtualX(this),\r\n      toVisibleIndex = _computeVirtualX2.toVisibleIndex,\r\n      visibleSize = _computeVirtualX2.visibleSize;\r\n    var offsetItem = {\r\n      startIndex: Math.max(0, toVisibleIndex - 1 - offsetSize),\r\n      endIndex: toVisibleIndex + visibleSize + offsetSize\r\n    };\r\n    calculateMergerOffserIndex(mergeList.concat(mergeFooterList), offsetItem, 'col');\r\n    var offsetStartIndex = offsetItem.startIndex,\r\n      offsetEndIndex = offsetItem.endIndex;\r\n    if (toVisibleIndex <= startIndex || toVisibleIndex >= endIndex - visibleSize - 1) {\r\n      if (startIndex !== offsetStartIndex || endIndex !== offsetEndIndex) {\r\n        scrollXStore.startIndex = offsetStartIndex;\r\n        scrollXStore.endIndex = offsetEndIndex;\r\n        this.updateScrollXData();\r\n      }\r\n    }\r\n    this.closeTooltip();\r\n  },\r\n  /**\r\n   * 纵向 Y 可视渲染事件处理\r\n   */\r\n  triggerScrollYEvent: function triggerScrollYEvent(evnt) {\r\n    var scrollYStore = this.scrollYStore;\r\n    var adaptive = scrollYStore.adaptive,\r\n      offsetSize = scrollYStore.offsetSize,\r\n      visibleSize = scrollYStore.visibleSize;\r\n    // webkit 浏览器使用最佳的渲染方式，且最高渲染量不能大于 40 条\r\n    if (isWebkit && adaptive && offsetSize * 2 + visibleSize <= 40) {\r\n      this.loadScrollYData(evnt);\r\n    } else {\r\n      this.debounceScrollY(evnt);\r\n    }\r\n  },\r\n  debounceScrollY: _xeUtils.default.debounce(function (evnt) {\r\n    this.loadScrollYData(evnt);\r\n  }, debounceScrollYDuration, {\r\n    leading: false,\r\n    trailing: true\r\n  }),\r\n  /**\r\n   * 纵向 Y 可视渲染处理\r\n   */\r\n  loadScrollYData: function loadScrollYData(evnt) {\r\n    var mergeList = this.mergeList,\r\n      scrollYStore = this.scrollYStore;\r\n    var startIndex = scrollYStore.startIndex,\r\n      endIndex = scrollYStore.endIndex,\r\n      visibleSize = scrollYStore.visibleSize,\r\n      offsetSize = scrollYStore.offsetSize,\r\n      rowHeight = scrollYStore.rowHeight;\r\n    var scrollBodyElem = evnt.currentTarget || evnt.target;\r\n    var scrollTop = scrollBodyElem.scrollTop;\r\n    var toVisibleIndex = Math.floor(scrollTop / rowHeight);\r\n    var offsetItem = {\r\n      startIndex: Math.max(0, toVisibleIndex - 1 - offsetSize),\r\n      endIndex: toVisibleIndex + visibleSize + offsetSize\r\n    };\r\n    calculateMergerOffserIndex(mergeList, offsetItem, 'row');\r\n    var offsetStartIndex = offsetItem.startIndex,\r\n      offsetEndIndex = offsetItem.endIndex;\r\n    if (toVisibleIndex <= startIndex || toVisibleIndex >= endIndex - visibleSize - 1) {\r\n      if (startIndex !== offsetStartIndex || endIndex !== offsetEndIndex) {\r\n        scrollYStore.startIndex = offsetStartIndex;\r\n        scrollYStore.endIndex = offsetEndIndex;\r\n        this.updateScrollYData();\r\n      }\r\n    }\r\n  },\r\n  // 计算可视渲染相关数据\r\n  computeScrollLoad: function computeScrollLoad() {\r\n    var _this52 = this;\r\n    return this.$nextTick().then(function () {\r\n      var sYOpts = _this52.sYOpts,\r\n        sXOpts = _this52.sXOpts,\r\n        scrollXLoad = _this52.scrollXLoad,\r\n        scrollYLoad = _this52.scrollYLoad,\r\n        scrollXStore = _this52.scrollXStore,\r\n        scrollYStore = _this52.scrollYStore;\r\n      // 计算 X 逻辑\r\n      if (scrollXLoad) {\r\n        var _computeVirtualX3 = computeVirtualX(_this52),\r\n          visibleXSize = _computeVirtualX3.visibleSize;\r\n        var offsetXSize = sXOpts.oSize ? _xeUtils.default.toNumber(sXOpts.oSize) : _dom.browse.msie ? 10 : _dom.browse.edge ? 5 : 0;\r\n        scrollXStore.offsetSize = offsetXSize;\r\n        scrollXStore.visibleSize = visibleXSize;\r\n        scrollXStore.endIndex = Math.max(scrollXStore.startIndex + scrollXStore.visibleSize + offsetXSize, scrollXStore.endIndex);\r\n        _this52.updateScrollXData();\r\n      } else {\r\n        _this52.updateScrollXSpace();\r\n      }\r\n      // 计算 Y 逻辑\r\n      var _computeVirtualY = computeVirtualY(_this52),\r\n        rowHeight = _computeVirtualY.rowHeight,\r\n        visibleYSize = _computeVirtualY.visibleSize;\r\n      scrollYStore.rowHeight = rowHeight;\r\n      if (scrollYLoad) {\r\n        var offsetYSize = sYOpts.oSize ? _xeUtils.default.toNumber(sYOpts.oSize) : _dom.browse.msie ? 20 : _dom.browse.edge ? 10 : 0;\r\n        scrollYStore.offsetSize = offsetYSize;\r\n        scrollYStore.visibleSize = visibleYSize;\r\n        scrollYStore.endIndex = Math.max(scrollYStore.startIndex + visibleYSize + offsetYSize, scrollYStore.endIndex);\r\n        _this52.updateScrollYData();\r\n      } else {\r\n        _this52.updateScrollYSpace();\r\n      }\r\n      _this52.rowHeight = rowHeight;\r\n      _this52.$nextTick(_this52.updateStyle);\r\n    });\r\n  },\r\n  handleTableColumn: function handleTableColumn() {\r\n    var scrollXLoad = this.scrollXLoad,\r\n      visibleColumn = this.visibleColumn,\r\n      scrollXStore = this.scrollXStore;\r\n    this.tableColumn = scrollXLoad ? visibleColumn.slice(scrollXStore.startIndex, scrollXStore.endIndex) : visibleColumn.slice(0);\r\n  },\r\n  updateScrollXData: function updateScrollXData() {\r\n    var _this53 = this;\r\n    // this.tableColumn = []\r\n    this.$nextTick(function () {\r\n      _this53.handleTableColumn();\r\n      _this53.updateScrollXSpace();\r\n    });\r\n  },\r\n  // 更新横向 X 可视渲染上下剩余空间大小\r\n  updateScrollXSpace: function updateScrollXSpace() {\r\n    var $refs = this.$refs,\r\n      isGroup = this.isGroup,\r\n      elemStore = this.elemStore,\r\n      visibleColumn = this.visibleColumn,\r\n      scrollXStore = this.scrollXStore,\r\n      scrollXLoad = this.scrollXLoad,\r\n      tableWidth = this.tableWidth,\r\n      scrollbarWidth = this.scrollbarWidth;\r\n    var tableHeader = $refs.tableHeader,\r\n      tableBody = $refs.tableBody,\r\n      tableFooter = $refs.tableFooter;\r\n    var tableBodyElem = tableBody ? tableBody.$el : null;\r\n    if (tableBodyElem) {\r\n      var tableHeaderElem = tableHeader ? tableHeader.$el : null;\r\n      var tableFooterElem = tableFooter ? tableFooter.$el : null;\r\n      var headerElem = tableHeaderElem ? tableHeaderElem.querySelector('.vxe-table--header') : null;\r\n      var bodyElem = tableBodyElem.querySelector('.vxe-table--body');\r\n      var footerElem = tableFooterElem ? tableFooterElem.querySelector('.vxe-table--footer') : null;\r\n      var leftSpaceWidth = visibleColumn.slice(0, scrollXStore.startIndex).reduce(function (previous, column) {\r\n        return previous + column.renderWidth;\r\n      }, 0);\r\n      var marginLeft = '';\r\n      if (scrollXLoad) {\r\n        marginLeft = \"\".concat(leftSpaceWidth, \"px\");\r\n      }\r\n      if (headerElem) {\r\n        headerElem.style.marginLeft = isGroup ? '' : marginLeft;\r\n      }\r\n      bodyElem.style.marginLeft = marginLeft;\r\n      if (footerElem) {\r\n        footerElem.style.marginLeft = marginLeft;\r\n      }\r\n      var containerList = ['main'];\r\n      containerList.forEach(function (name) {\r\n        var layoutList = ['header', 'body', 'footer'];\r\n        layoutList.forEach(function (layout) {\r\n          var xSpaceElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-xSpace\")];\r\n          if (xSpaceElem) {\r\n            xSpaceElem.style.width = scrollXLoad ? \"\".concat(tableWidth + (layout === 'header' ? scrollbarWidth : 0), \"px\") : '';\r\n          }\r\n        });\r\n      });\r\n      this.$nextTick(this.updateStyle);\r\n    }\r\n  },\r\n  updateScrollYData: function updateScrollYData() {\r\n    var _this54 = this;\r\n    // this.tableData = []\r\n    this.$nextTick(function () {\r\n      _this54.handleTableData();\r\n      _this54.updateScrollYSpace();\r\n    });\r\n  },\r\n  // 更新纵向 Y 可视渲染上下剩余空间大小\r\n  updateScrollYSpace: function updateScrollYSpace() {\r\n    var elemStore = this.elemStore,\r\n      scrollYStore = this.scrollYStore,\r\n      scrollYLoad = this.scrollYLoad,\r\n      afterFullData = this.afterFullData;\r\n    var startIndex = scrollYStore.startIndex,\r\n      rowHeight = scrollYStore.rowHeight;\r\n    var bodyHeight = afterFullData.length * rowHeight;\r\n    var topSpaceHeight = Math.max(0, startIndex * rowHeight);\r\n    var containerList = ['main', 'left', 'right'];\r\n    var marginTop = '';\r\n    var ySpaceHeight = '';\r\n    if (scrollYLoad) {\r\n      marginTop = \"\".concat(topSpaceHeight, \"px\");\r\n      ySpaceHeight = \"\".concat(bodyHeight, \"px\");\r\n    }\r\n    containerList.forEach(function (name) {\r\n      var layoutList = ['header', 'body', 'footer'];\r\n      var tableElem = elemStore[\"\".concat(name, \"-body-table\")];\r\n      if (tableElem) {\r\n        tableElem.style.marginTop = marginTop;\r\n      }\r\n      layoutList.forEach(function (layout) {\r\n        var ySpaceElem = elemStore[\"\".concat(name, \"-\").concat(layout, \"-ySpace\")];\r\n        if (ySpaceElem) {\r\n          ySpaceElem.style.height = ySpaceHeight;\r\n        }\r\n      });\r\n    });\r\n    this.$nextTick(this.updateStyle);\r\n  },\r\n  /**\r\n   * 如果有滚动条，则滚动到对应的位置\r\n   * @param {Number} scrollLeft 左距离\r\n   * @param {Number} scrollTop 上距离\r\n   */\r\n  scrollTo: function scrollTo(scrollLeft, scrollTop) {\r\n    var _this55 = this;\r\n    var $refs = this.$refs;\r\n    var tableBody = $refs.tableBody,\r\n      rightBody = $refs.rightBody,\r\n      tableFooter = $refs.tableFooter;\r\n    var tableBodyElem = tableBody ? tableBody.$el : null;\r\n    var rightBodyElem = rightBody ? rightBody.$el : null;\r\n    var tableFooterElem = tableFooter ? tableFooter.$el : null;\r\n    if (_xeUtils.default.isNumber(scrollLeft)) {\r\n      (0, _dom.setScrollLeft)(tableFooterElem || tableBodyElem, scrollLeft);\r\n    }\r\n    if (_xeUtils.default.isNumber(scrollTop)) {\r\n      (0, _dom.setScrollTop)(rightBodyElem || tableBodyElem, scrollTop);\r\n    }\r\n    if (this.scrollXLoad || this.scrollYLoad) {\r\n      return new Promise(function (resolve) {\r\n        return setTimeout(function () {\r\n          return resolve(_this55.$nextTick());\r\n        }, 50);\r\n      });\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 如果有滚动条，则滚动到对应的行\r\n   * @param {Row} row 行对象\r\n   * @param {ColumnInfo} column 列配置\r\n   */\r\n  scrollToRow: function scrollToRow(row, fieldOrColumn) {\r\n    var rest = [];\r\n    if (row) {\r\n      if (this.treeConfig) {\r\n        rest.push(this.scrollToTreeRow(row));\r\n      } else {\r\n        rest.push((0, _util.rowToVisible)(this, row));\r\n      }\r\n    }\r\n    if (fieldOrColumn) {\r\n      rest.push(this.scrollToColumn(fieldOrColumn));\r\n    }\r\n    return Promise.all(rest);\r\n  },\r\n  /**\r\n   * 如果有滚动条，则滚动到对应的列\r\n   * @param {ColumnInfo} column 列配置\r\n   */\r\n  scrollToColumn: function scrollToColumn(fieldOrColumn) {\r\n    var column = (0, _util.handleFieldOrColumn)(this, fieldOrColumn);\r\n    if (column && this.fullColumnMap.has(column)) {\r\n      return (0, _util.colToVisible)(this, column);\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 对于树形结构中，可以直接滚动到指定深层节点中\r\n   * 对于某些特定的场景可能会用到，比如定位到某一节点\r\n   * @param {Row} row 行对象\r\n   */\r\n  scrollToTreeRow: function scrollToTreeRow(row) {\r\n    var _this56 = this;\r\n    var tableFullData = this.tableFullData,\r\n      treeConfig = this.treeConfig,\r\n      treeOpts = this.treeOpts;\r\n    var rests = [];\r\n    if (treeConfig) {\r\n      var matchObj = _xeUtils.default.findTree(tableFullData, function (item) {\r\n        return item === row;\r\n      }, treeOpts);\r\n      if (matchObj) {\r\n        var nodes = matchObj.nodes;\r\n        nodes.forEach(function (row, index) {\r\n          if (index < nodes.length - 1 && !_this56.isTreeExpandByRow(row)) {\r\n            rests.push(_this56.setTreeExpand(row, true));\r\n          }\r\n        });\r\n      }\r\n    }\r\n    return Promise.all(rests).then(function () {\r\n      return (0, _util.rowToVisible)(_this56, row);\r\n    });\r\n  },\r\n  /**\r\n   * 手动清除滚动相关信息，还原到初始状态\r\n   */\r\n  clearScroll: function clearScroll() {\r\n    var $refs = this.$refs,\r\n      scrollXStore = this.scrollXStore,\r\n      scrollYStore = this.scrollYStore;\r\n    var tableBody = $refs.tableBody,\r\n      rightBody = $refs.rightBody,\r\n      tableFooter = $refs.tableFooter;\r\n    var tableBodyElem = tableBody ? tableBody.$el : null;\r\n    var rightBodyElem = rightBody ? rightBody.$el : null;\r\n    var tableFooterElem = tableFooter ? tableFooter.$el : null;\r\n    if (rightBodyElem) {\r\n      (0, _util.restoreScrollListener)(rightBodyElem);\r\n      rightBodyElem.scrollTop = 0;\r\n    }\r\n    if (tableFooterElem) {\r\n      tableFooterElem.scrollLeft = 0;\r\n    }\r\n    if (tableBodyElem) {\r\n      (0, _util.restoreScrollListener)(tableBodyElem);\r\n      tableBodyElem.scrollTop = 0;\r\n      tableBodyElem.scrollLeft = 0;\r\n    }\r\n    scrollXStore.startIndex = 0;\r\n    scrollYStore.startIndex = 0;\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 更新表尾合计\r\n   */\r\n  updateFooter: function updateFooter() {\r\n    var showFooter = this.showFooter,\r\n      visibleColumn = this.visibleColumn,\r\n      footerMethod = this.footerMethod;\r\n    if (showFooter && footerMethod) {\r\n      this.footerTableData = visibleColumn.length ? footerMethod({\r\n        columns: visibleColumn,\r\n        data: this.afterFullData,\r\n        $table: this,\r\n        $grid: this.$xegrid\r\n      }) : [];\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /**\r\n   * 更新列状态\r\n   * 如果组件值 v-model 发生 change 时，调用改函数用于更新某一列编辑状态\r\n   * 如果单元格配置了校验规则，则会进行校验\r\n   */\r\n  updateStatus: function updateStatus(scope, cellValue) {\r\n    var _this57 = this;\r\n    var customVal = !_xeUtils.default.isUndefined(cellValue);\r\n    return this.$nextTick().then(function () {\r\n      var $refs = _this57.$refs,\r\n        editRules = _this57.editRules,\r\n        validStore = _this57.validStore;\r\n      if (scope && $refs.tableBody && editRules) {\r\n        var row = scope.row,\r\n          column = scope.column;\r\n        var type = 'change';\r\n        if (_this57.hasCellRules(type, row, column)) {\r\n          var cell = _this57.getCell(row, column);\r\n          if (cell) {\r\n            return _this57.validCellRules(type, row, column, cellValue).then(function () {\r\n              if (customVal && validStore.visible) {\r\n                setCellValue(row, column, cellValue);\r\n              }\r\n              _this57.clearValidate();\r\n            }).catch(function (_ref8) {\r\n              var rule = _ref8.rule;\r\n              if (customVal) {\r\n                setCellValue(row, column, cellValue);\r\n              }\r\n              _this57.showValidTooltip({\r\n                rule: rule,\r\n                row: row,\r\n                column: column,\r\n                cell: cell\r\n              });\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  },\r\n  handleDefaultMergeCells: function handleDefaultMergeCells() {\r\n    this.setMergeCells(this.mergeCells);\r\n  },\r\n  /**\r\n   * 设置合并单元格\r\n   * @param {TableMergeConfig[]} merges { row: Row|number, column: ColumnInfo|number, rowspan: number, colspan: number }\r\n   */\r\n  setMergeCells: function setMergeCells(merges) {\r\n    var _this58 = this;\r\n    if (this.spanMethod) {\r\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-cells', 'span-method']);\r\n    }\r\n    setMerges(this, merges, this.mergeList, this.afterFullData);\r\n    return this.$nextTick().then(function () {\r\n      return _this58.updateCellAreas();\r\n    });\r\n  },\r\n  /**\r\n   * 移除单元格合并\r\n   * @param {TableMergeConfig[]} merges 多个或数组 [{row:Row|number, col:ColumnInfo|number}]\r\n   */\r\n  removeMergeCells: function removeMergeCells(merges) {\r\n    var _this59 = this;\r\n    if (this.spanMethod) {\r\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-cells', 'span-method']);\r\n    }\r\n    var rest = removeMerges(this, merges, this.mergeList, this.afterFullData);\r\n    return this.$nextTick().then(function () {\r\n      _this59.updateCellAreas();\r\n      return rest;\r\n    });\r\n  },\r\n  /**\r\n   * 获取所有被合并的单元格\r\n   */\r\n  getMergeCells: function getMergeCells() {\r\n    return this.mergeList.slice(0);\r\n  },\r\n  /**\r\n   * 清除所有单元格合并\r\n   */\r\n  clearMergeCells: function clearMergeCells() {\r\n    this.mergeList = [];\r\n    return this.$nextTick();\r\n  },\r\n  handleDefaultMergeFooterItems: function handleDefaultMergeFooterItems() {\r\n    this.setMergeFooterItems(this.mergeFooterItems);\r\n  },\r\n  setMergeFooterItems: function setMergeFooterItems(merges) {\r\n    var _this60 = this;\r\n    if (this.footerSpanMethod) {\r\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-footer-items', 'footer-span-method']);\r\n    }\r\n    setMerges(this, merges, this.mergeFooterList, null);\r\n    return this.$nextTick().then(function () {\r\n      return _this60.updateCellAreas();\r\n    });\r\n  },\r\n  removeMergeFooterItems: function removeMergeFooterItems(merges) {\r\n    var _this61 = this;\r\n    if (this.footerSpanMethod) {\r\n      (0, _log.errLog)('vxe.error.errConflicts', ['merge-footer-items', 'footer-span-method']);\r\n    }\r\n    var rest = removeMerges(this, merges, this.mergeFooterList, null);\r\n    return this.$nextTick().then(function () {\r\n      _this61.updateCellAreas();\r\n      return rest;\r\n    });\r\n  },\r\n  /**\r\n   * 获取所有被合并的表尾\r\n   */\r\n  getMergeFooterItems: function getMergeFooterItems() {\r\n    return this.mergeFooterList.slice(0);\r\n  },\r\n  /**\r\n   * 清除所有表尾合并\r\n   */\r\n  clearMergeFooterItems: function clearMergeFooterItems() {\r\n    this.mergeFooterList = [];\r\n    return this.$nextTick();\r\n  },\r\n  updateZindex: function updateZindex() {\r\n    if (this.zIndex) {\r\n      this.tZindex = this.zIndex;\r\n    } else if (this.tZindex < _utils.default.getLastZIndex()) {\r\n      this.tZindex = _utils.default.nextZIndex();\r\n    }\r\n  },\r\n  updateCellAreas: function updateCellAreas() {\r\n    if (this.mouseConfig && this.mouseOpts.area && this.handleUpdateCellAreas) {\r\n      this.handleUpdateCellAreas();\r\n    }\r\n  },\r\n  emitEvent: function emitEvent(type, params, evnt) {\r\n    this.$emit(type, Object.assign({\r\n      $table: this,\r\n      $grid: this.$xegrid,\r\n      $event: evnt\r\n    }, params));\r\n  },\r\n  focus: function focus() {\r\n    this.isActivated = true;\r\n    return this.$nextTick();\r\n  },\r\n  blur: function blur() {\r\n    this.isActivated = false;\r\n    return this.$nextTick();\r\n  },\r\n  // 连接工具栏\r\n  connect: function connect($toolbar) {\r\n    if ($toolbar && $toolbar.syncUpdate) {\r\n      $toolbar.syncUpdate({\r\n        collectColumn: this.collectColumn,\r\n        $table: this\r\n      });\r\n      this.$toolbar = $toolbar;\r\n    } else {\r\n      (0, _log.errLog)('vxe.error.barUnableLink');\r\n    }\r\n    return this.$nextTick();\r\n  },\r\n  /*************************\r\n   * Publish methods\r\n   *************************/\r\n  getCell: function getCell(row, column) {\r\n    var $refs = this.$refs;\r\n    var rowid = (0, _util.getRowid)(this, row);\r\n    var bodyElem = $refs[\"\".concat(column.fixed || 'table', \"Body\")] || $refs.tableBody;\r\n    if (bodyElem && bodyElem.$el) {\r\n      return bodyElem.$el.querySelector(\".vxe-body--row[rowid=\\\"\".concat(rowid, \"\\\"] .\").concat(column.id));\r\n    }\r\n    return null;\r\n  },\r\n  getCellLabel: function getCellLabel(row, column) {\r\n    var formatter = column.formatter;\r\n    var cellValue = _utils.default.getCellValue(row, column);\r\n    var cellLabel = cellValue;\r\n    if (formatter) {\r\n      var rest, formatData;\r\n      var fullAllDataRowMap = this.fullAllDataRowMap;\r\n      var colid = column.id;\r\n      var cacheFormat = fullAllDataRowMap.has(row);\r\n      if (cacheFormat) {\r\n        rest = fullAllDataRowMap.get(row);\r\n        formatData = rest.formatData;\r\n        if (!formatData) {\r\n          formatData = fullAllDataRowMap.get(row).formatData = {};\r\n        }\r\n        if (rest && formatData[colid]) {\r\n          if (formatData[colid].value === cellValue) {\r\n            return formatData[colid].label;\r\n          }\r\n        }\r\n      }\r\n      var formatParams = {\r\n        cellValue: cellValue,\r\n        row: row,\r\n        rowIndex: this.getRowIndex(row),\r\n        column: column,\r\n        columnIndex: this.getColumnIndex(column)\r\n      };\r\n      if (_xeUtils.default.isString(formatter)) {\r\n        var globalFunc = _formats.formats.get(formatter);\r\n        cellLabel = globalFunc ? globalFunc(formatParams) : '';\r\n      } else if (_xeUtils.default.isArray(formatter)) {\r\n        var _globalFunc = _formats.formats.get(formatter[0]);\r\n        cellLabel = _globalFunc ? _globalFunc.apply(void 0, [formatParams].concat(_toConsumableArray(formatter.slice(1)))) : '';\r\n      } else {\r\n        cellLabel = formatter(formatParams);\r\n      }\r\n      if (formatData) {\r\n        formatData[colid] = {\r\n          value: cellValue,\r\n          label: cellLabel\r\n        };\r\n      }\r\n    }\r\n    return cellLabel;\r\n  },\r\n  findRowIndexOf: function findRowIndexOf(list, row) {\r\n    var _this62 = this;\r\n    return row ? _xeUtils.default.findIndexOf(list, function (item) {\r\n      return _this62.eqRow(item, row);\r\n    }) : -1;\r\n  },\r\n  eqRow: function eqRow(row1, row2) {\r\n    if (row1 && row2) {\r\n      if (row1 === row2) {\r\n        return true;\r\n      }\r\n      return (0, _util.getRowid)(this, row1) === (0, _util.getRowid)(this, row2);\r\n    }\r\n    return false;\r\n  },\r\n  /*************************\r\n   * Publish methods\r\n   *************************/\r\n  getSetupOptions: function getSetupOptions() {\r\n    return _conf.default;\r\n  }\r\n};\r\n\r\n// Module methods\r\nvar funcs = 'setFilter,openFilter,clearFilter,getCheckedFilters,closeMenu,setActiveCellArea,getActiveCellArea,getCellAreas,clearCellAreas,copyCellArea,cutCellArea,pasteCellArea,getCopyCellArea,getCopyCellAreas,clearCopyCellArea,setCellAreas,openFind,openReplace,closeFNR,getSelectedCell,clearSelected,insert,insertAt,remove,removeCheckboxRow,removeRadioRow,removeCurrentRow,getRecordset,getInsertRecords,getRemoveRecords,getUpdateRecords,clearEdit,clearActived,getEditRecord,getActiveRecord,isEditByRow,isActiveByRow,setEditRow,setActiveRow,setEditCell,setActiveCell,setSelectCell,clearValidate,fullValidate,validate,openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print'.split(',');\r\nfuncs.forEach(function (name) {\r\n  Methods[name] = function () {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      if (!this[\"_\".concat(name)]) {\r\n        if ('openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print'.split(',').includes(name)) {\r\n          (0, _log.errLog)('vxe.error.reqModule', ['Export']);\r\n        } else if ('clearValidate,fullValidate,validate'.split(',').includes(name)) {\r\n          (0, _log.errLog)('vxe.error.reqModule', ['Validator']);\r\n        }\r\n      }\r\n    }\r\n    return this[\"_\".concat(name)] ? this[\"_\".concat(name)].apply(this, arguments) : null;\r\n  };\r\n});\r\nvar _default = Methods;\r\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}